---
title: 实习周记(24年2月5日)
date: 2024-2-5 22:10:45
tags:
- 前端学习计划
- 前端
- Js
- Vue
categories: 
- 笔记
---

#### 1.29

##### 前端安全

浏览器请求 `http://xxx/search?keyword="><script>alert('XSS');</script>` 时，服务端会解析出请求参数 `keyword`，得到 `"><script>alert('XSS');</script>`，拼接到 HTML 中返回给浏览器。形成了如下的 HTML：

```html
<input type="text" value=""><script>alert('XSS');</script>">
<button>搜索</button>
<div>
  您搜索的关键词是："><script>alert('XSS');</script>
</div>
```

只要改为

```html
<input type="text" value="<%= escapeHTML(getParameter("keyword")) %>">
<button>搜索</button>
<div>
  您搜索的关键词是：<%= escapeHTML(getParameter("keyword")) %>
</div>
```

`escapeHTML()` 会对特殊工字符进行转义：对

然后不只是 不仅仅是特殊字符，连 `javascript:` 这样的字符串如果出现在特定的位置也会引发 XSS 攻击。
特殊的 HTML 属性、JavaScript API 做了 HTML 转义，并不等于高枕无忧。

```js
<a href="<%= escapeHTML(getParameter("redirect_to")) %>">跳转...</a>
```

`%20javascript:alert('XSS')`  ` jAvascRipt:alert('XSS')`

- 对于链接跳转，如 `<a href="xxx"` 或 `location.href="xxx"`，要检验其内容，禁止以 `javascript:` 开头的链接，和其他非法的 scheme。

##### 虚拟滚动
