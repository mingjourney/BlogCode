{"meta":{"version":1,"warehouse":"4.0.2"},"models":{"Asset":[{"_id":"themes/xoxo-plus/source/css/common.less","path":"css/common.less","modified":0,"renderable":1},{"_id":"themes/xoxo-plus/source/css/core.less","path":"css/core.less","modified":0,"renderable":1},{"_id":"themes/xoxo-plus/source/css/highlight.less","path":"css/highlight.less","modified":0,"renderable":1},{"_id":"themes/xoxo-plus/source/css/light_tritanopia_xoxo.css","path":"css/light_tritanopia_xoxo.css","modified":0,"renderable":1},{"_id":"themes/xoxo-plus/source/css/mixin.less","path":"css/mixin.less","modified":0,"renderable":1},{"_id":"themes/xoxo-plus/source/css/normalize.css","path":"css/normalize.css","modified":0,"renderable":1},{"_id":"themes/xoxo-plus/source/css/variables.less","path":"css/variables.less","modified":0,"renderable":1},{"_id":"themes/xoxo-plus/source/css/xoxo.css.map","path":"css/xoxo.css.map","modified":0,"renderable":1},{"_id":"themes/xoxo-plus/source/css/xoxo.css","path":"css/xoxo.css","modified":0,"renderable":1},{"_id":"themes/xoxo-plus/source/css/xoxo.less","path":"css/xoxo.less","modified":0,"renderable":1},{"_id":"themes/xoxo-plus/source/css/xxoo.css.map","path":"css/xxoo.css.map","modified":0,"renderable":1},{"_id":"themes/xoxo-plus/source/js/xoxo.js","path":"js/xoxo.js","modified":0,"renderable":1},{"_id":"themes/xoxo-plus/source/css/xxoo.css","path":"css/xxoo.css","modified":0,"renderable":1},{"_id":"source/image/image-20210527193017688.png","path":"image/image-20210527193017688.png","modified":0,"renderable":0},{"_id":"source/image/image-20210527190012042.png","path":"image/image-20210527190012042.png","modified":0,"renderable":0},{"_id":"source/image/image-20210527195317973.png","path":"image/image-20210527195317973.png","modified":0,"renderable":0},{"_id":"source/image/image-20210527194926715.png","path":"image/image-20210527194926715.png","modified":0,"renderable":0},{"_id":"source/image/image-20210620092032503.png","path":"image/image-20210620092032503.png","modified":0,"renderable":0},{"_id":"source/image/image-20210527195451792.png","path":"image/image-20210527195451792.png","modified":0,"renderable":0},{"_id":"source/image/image-20210727142922916.png","path":"image/image-20210727142922916.png","modified":0,"renderable":0},{"_id":"source/image/image-20210727144149656.png","path":"image/image-20210727144149656.png","modified":0,"renderable":0},{"_id":"source/image/image-20210905000354527.png","path":"image/image-20210905000354527.png","modified":0,"renderable":0},{"_id":"source/image/image-20210625084016091.png","path":"image/image-20210625084016091.png","modified":0,"renderable":0},{"_id":"source/image/image-20210624165417791.png","path":"image/image-20210624165417791.png","modified":0,"renderable":0},{"_id":"source/image/image-20210911133112602.png","path":"image/image-20210911133112602.png","modified":0,"renderable":0},{"_id":"source/image/image-20210911133219847.png","path":"image/image-20210911133219847.png","modified":0,"renderable":0},{"_id":"source/image/image-20210911133532151.png","path":"image/image-20210911133532151.png","modified":0,"renderable":0},{"_id":"source/image/image-20210911132335452.png","path":"image/image-20210911132335452.png","modified":0,"renderable":0},{"_id":"source/image/image-20210911155249493.png","path":"image/image-20210911155249493.png","modified":0,"renderable":0},{"_id":"source/image/image-20210911155135008.png","path":"image/image-20210911155135008.png","modified":0,"renderable":0},{"_id":"source/image/image-20210911160353534.png","path":"image/image-20210911160353534.png","modified":0,"renderable":0},{"_id":"source/image/image-20210911160541833.png","path":"image/image-20210911160541833.png","modified":0,"renderable":0},{"_id":"source/image/image-20210911165642280.png","path":"image/image-20210911165642280.png","modified":0,"renderable":0},{"_id":"source/image/image-20210911155916899.png","path":"image/image-20210911155916899.png","modified":0,"renderable":0},{"_id":"source/image/image-20210911173712014.png","path":"image/image-20210911173712014.png","modified":0,"renderable":0},{"_id":"source/image/image-20210911160850121.png","path":"image/image-20210911160850121.png","modified":0,"renderable":0},{"_id":"source/image/image-20210911172200292.png","path":"image/image-20210911172200292.png","modified":0,"renderable":0},{"_id":"source/image/image-20210911174110687.png","path":"image/image-20210911174110687.png","modified":0,"renderable":0},{"_id":"source/image/image-20210911174650679.png","path":"image/image-20210911174650679.png","modified":0,"renderable":0},{"_id":"source/image/image-20210911175222857.png","path":"image/image-20210911175222857.png","modified":0,"renderable":0},{"_id":"source/image/image-20210911175502834.png","path":"image/image-20210911175502834.png","modified":0,"renderable":0},{"_id":"source/image/image-20210911180828611.png","path":"image/image-20210911180828611.png","modified":0,"renderable":0},{"_id":"source/image/image-20210911182956629.png","path":"image/image-20210911182956629.png","modified":0,"renderable":0},{"_id":"source/image/image-20210911181714437.png","path":"image/image-20210911181714437.png","modified":0,"renderable":0},{"_id":"source/image/image-20210917151314753.png","path":"image/image-20210917151314753.png","modified":0,"renderable":0},{"_id":"source/image/image-20210917161720855.png","path":"image/image-20210917161720855.png","modified":0,"renderable":0},{"_id":"source/image/image-20210917161422535.png","path":"image/image-20210917161422535.png","modified":0,"renderable":0},{"_id":"source/image/image-20210917162700711.png","path":"image/image-20210917162700711.png","modified":0,"renderable":0},{"_id":"source/image/image-20210917162512646.png","path":"image/image-20210917162512646.png","modified":0,"renderable":0},{"_id":"source/image/image-20210917163557071.png","path":"image/image-20210917163557071.png","modified":0,"renderable":0},{"_id":"source/image/image-20210917163335913.png","path":"image/image-20210917163335913.png","modified":0,"renderable":0},{"_id":"source/image/image-20210917163736458.png","path":"image/image-20210917163736458.png","modified":0,"renderable":0},{"_id":"source/image/image-20210917163846243.png","path":"image/image-20210917163846243.png","modified":0,"renderable":0},{"_id":"source/image/image-20210917163828518.png","path":"image/image-20210917163828518.png","modified":0,"renderable":0},{"_id":"source/image/image-20210917172736484.png","path":"image/image-20210917172736484.png","modified":0,"renderable":0},{"_id":"source/image/image-20210917180919390.png","path":"image/image-20210917180919390.png","modified":0,"renderable":0},{"_id":"source/image/image-20210917185253557.png","path":"image/image-20210917185253557.png","modified":0,"renderable":0},{"_id":"source/image/image-20210917194941597.png","path":"image/image-20210917194941597.png","modified":0,"renderable":0},{"_id":"source/image/image-20210917193910191.png","path":"image/image-20210917193910191.png","modified":0,"renderable":0},{"_id":"source/image/image-20210917200241282.png","path":"image/image-20210917200241282.png","modified":0,"renderable":0},{"_id":"source/image/image-20210917200805389.png","path":"image/image-20210917200805389.png","modified":0,"renderable":0},{"_id":"source/image/image-20210917201243721.png","path":"image/image-20210917201243721.png","modified":0,"renderable":0},{"_id":"source/image/image-20210917201523669.png","path":"image/image-20210917201523669.png","modified":0,"renderable":0},{"_id":"source/image/image-20210917201922831.png","path":"image/image-20210917201922831.png","modified":0,"renderable":0},{"_id":"source/image/image-20210917163818051.png","path":"image/image-20210917163818051.png","modified":0,"renderable":0},{"_id":"source/image/image-20210917221427930.png","path":"image/image-20210917221427930.png","modified":0,"renderable":0},{"_id":"source/image/image-20210917215958091.png","path":"image/image-20210917215958091.png","modified":0,"renderable":0},{"_id":"source/image/image-20210917213556673.png","path":"image/image-20210917213556673.png","modified":0,"renderable":0},{"_id":"source/image/image-20210917225019868.png","path":"image/image-20210917225019868.png","modified":0,"renderable":0},{"_id":"source/image/image-20210917225715519.png","path":"image/image-20210917225715519.png","modified":0,"renderable":0},{"_id":"source/image/image-20210918220338109.png","path":"image/image-20210918220338109.png","modified":0,"renderable":0},{"_id":"source/image/image-20210917230702072.png","path":"image/image-20210917230702072.png","modified":0,"renderable":0},{"_id":"source/image/image-20210918220855024.png","path":"image/image-20210918220855024.png","modified":0,"renderable":0},{"_id":"source/image/image-20210918221042947.png","path":"image/image-20210918221042947.png","modified":0,"renderable":0},{"_id":"source/image/image-20210918221511249.png","path":"image/image-20210918221511249.png","modified":0,"renderable":0},{"_id":"source/image/image-20210918221942453.png","path":"image/image-20210918221942453.png","modified":0,"renderable":0},{"_id":"source/image/image-20210918222607469.png","path":"image/image-20210918222607469.png","modified":0,"renderable":0},{"_id":"source/image/image-20210918222321402.png","path":"image/image-20210918222321402.png","modified":0,"renderable":0},{"_id":"source/image/image-20210918232512707.png","path":"image/image-20210918232512707.png","modified":0,"renderable":0},{"_id":"source/image/image-20210918232904623.png","path":"image/image-20210918232904623.png","modified":0,"renderable":0},{"_id":"source/image/img-中文平台1.jpg","path":"image/img-中文平台1.jpg","modified":0,"renderable":0},{"_id":"source/image/img-中文平台2.jpg","path":"image/img-中文平台2.jpg","modified":0,"renderable":0},{"_id":"source/image/image-20210917215913779.png","path":"image/image-20210917215913779.png","modified":0,"renderable":0},{"_id":"source/image/img-中文平台3.jpg","path":"image/img-中文平台3.jpg","modified":0,"renderable":0}],"Cache":[{"_id":"source/activity/index.md","hash":"22b9f83c17b209473f8b0ec3ae2ece61b2d28a7d","modified":1681795964413},{"_id":"source/.DS_Store","hash":"6d95c0c92f9f95415ded1c51f593d1761852c21c","modified":1682648298910},{"_id":"source/_posts/NPC代码分析.md","hash":"6c3dda3098b3010dd97bbbdf16eaad326bd7b7b7","modified":1681905759035},{"_id":"source/_posts/.DS_Store","hash":"e9fd9137dae2b2c37605bf2fe2723ca3b6c8525e","modified":1681963389049},{"_id":"source/_posts/23年第一季度顽固词汇.md","hash":"30bfa5cac126230dcc4634b9faa9313fdc889051","modified":1681987510848},{"_id":"source/_posts/4.14今天学习量有点大.md","hash":"92421522cd498e7156fa731630bcebccda11cbd0","modified":1681987569271},{"_id":"source/_posts/hello-world.md","hash":"0aa30d67e222a51f42cf0ccbab0a5521b98cb1e9","modified":1681903375587},{"_id":"source/_posts/first-article.md","hash":"e3a2aec153083abfd570fd32b9e8aad5e568fdd5","modified":1681960554716},{"_id":"source/_posts/Typescript + React 开发中遇到的问题及解决方案.md","hash":"8966fbc89dd03eaa56ffb614df8e389b275a614d","modified":1681901471503},{"_id":"source/_posts/SSM学习.md","hash":"ee99609fe3d77b780597139a3e467e9851388abb","modified":1681962463344},{"_id":"source/_posts/python工具-提取单词.md","hash":"5e5bdff66504c0318e897f202571f08c6a5b7f8c","modified":1681901396276},{"_id":"source/_posts/中文学习平台代码.md","hash":"c307c8a41d240913ab221316c65966d784514ef4","modified":1681959837613},{"_id":"source/_posts/java菜鸟记.md","hash":"cb6ae6cd42932d70f7651b9d39b4885263f26297","modified":1681962994512},{"_id":"source/_posts/全域健康react.md","hash":"3e121357d3f1f028a148ac73111e2a7a1d1ead74","modified":1682596789661},{"_id":"source/_posts/大三寒假学C++&lc.md","hash":"687fce5208ab3713b7371adfeb791692e31b8e89","modified":1681959743339},{"_id":"source/_posts/安卓拓展.md","hash":"f7f1c66ff3e488ebb521e2143919b2c9d472cc29","modified":1682596227923},{"_id":"source/_posts/轨道代码分析.md","hash":"3735a8ca68945940445d91969e5e03f3b90c14ec","modified":1681907403409},{"_id":"source/categories/index.md","hash":"1f0d4221f27a1bb92c194e4a31c53ff5293c4f54","modified":1681796825921},{"_id":"source/categories/.DS_Store","hash":"df2fbeb1400acda0909a32c1cf6bf492f1121e07","modified":1681796511455},{"_id":"source/project/index.md","hash":"facddf7a8bb340ff9784e8a9f89988206fb25376","modified":1681796254649},{"_id":"source/project/.DS_Store","hash":"df2fbeb1400acda0909a32c1cf6bf492f1121e07","modified":1681796239749},{"_id":"source/paper/.DS_Store","hash":"feda82582317ab34f0305f43a3f5a51aab782a27","modified":1681801779603},{"_id":"source/search/index.md","hash":"0a988c48d12c0266efe0b3ea41503d5b481ac187","modified":1681801412898},{"_id":"source/search/.DS_Store","hash":"df2fbeb1400acda0909a32c1cf6bf492f1121e07","modified":1681796511455},{"_id":"source/paper/paper1.md","hash":"386d117c4e83cf6bf3ebfe415e987a2608629f73","modified":1681801180376},{"_id":"source/paper/index.md","hash":"556c7181fc837fe71e0b18104b60e5d3d3449d44","modified":1681801397161},{"_id":"source/image/image-20210905000354527.png","hash":"800abf6edede2ff97bf4a989cc6df28ee4adef11","modified":1630771434529},{"_id":"source/image/image-20210911133219847.png","hash":"f203e83913bcef174bf7c7ffdf37feedfd5a3a96","modified":1631338338000},{"_id":"source/image/image-20210911133112602.png","hash":"9a11fdc7773b3418f50971eabfb00a7aab91004e","modified":1631338272000},{"_id":"source/image/image-20210911155249493.png","hash":"29e611b969bdef714dec43eec5b52a59ca626be4","modified":1631346768000},{"_id":"source/image/image-20210911132335452.png","hash":"df479f9c3c19116e40d77c41bc9dcffc797a3c50","modified":1631337814000},{"_id":"source/image/image-20210911155135008.png","hash":"9e4f233fe8304ecf1a19a82ec79d85b3bae49939","modified":1631346694000},{"_id":"source/image/image-20210911160541833.png","hash":"9c4e8e1bd21d7636481c69417af8ebeaeed425f3","modified":1631347540000},{"_id":"source/image/image-20210911173712014.png","hash":"10561eba1ea6b03ce5b46ebeea51df4573e541e8","modified":1631353032000},{"_id":"source/image/image-20210911175222857.png","hash":"f99693648b1a305d44de23ca5f7532ba4c2d914d","modified":1631353942000},{"_id":"source/image/image-20210911180828611.png","hash":"9685418b238b7558d4b308667ddf61f563aa1e6a","modified":1631354908000},{"_id":"source/image/image-20210911172200292.png","hash":"ac60aac747785348f770dbfe012d370eb6b09261","modified":1631352120000},{"_id":"source/image/image-20210917163557071.png","hash":"11bbf99006bb08efcc997f8ef447e5bb21a7b092","modified":1631867756000},{"_id":"source/image/image-20210917163828518.png","hash":"afb711d84816bda60cad5af66997e341a1306a7f","modified":1631867908000},{"_id":"source/image/image-20210917180919390.png","hash":"7dc794c417a23e201eb4add9085d523226dbecc3","modified":1631873358000},{"_id":"source/image/image-20210917172736484.png","hash":"4925f1d850ac46c5a4d1d432c96e1cfa665fc320","modified":1631870856000},{"_id":"source/image/image-20210917185253557.png","hash":"829f8256797a66bde7ce93215de4074cdfb21d45","modified":1631875972000},{"_id":"source/image/image-20210917200241282.png","hash":"fe1ef50b688c4595ec3fb87683e56ee2fee85ad4","modified":1631880160000},{"_id":"source/image/image-20210917194941597.png","hash":"bbdf3ed0b4b1b659bcf86a56e170595d752c2550","modified":1631879380000},{"_id":"source/image/image-20210917201243721.png","hash":"e43e1d9e4d362b78d98f9a18bf46e8fe0a8bb6db","modified":1631880762000},{"_id":"source/image/image-20210917163818051.png","hash":"425cb8f47e499a46551159912661d3a346e015b8","modified":1631867898000},{"_id":"source/image/image-20210917213556673.png","hash":"737d9ef592704e32280df6d5c88f2094bae4f3f2","modified":1631885756000},{"_id":"source/image/image-20210917225019868.png","hash":"35e0c79a8710ef26ea166a7043284b828e9d9a5c","modified":1631890218000},{"_id":"source/image/image-20210917225715519.png","hash":"0697ce17db26c771c6e3e162b155d55d5f3c731c","modified":1631890634000},{"_id":"source/image/image-20210917230702072.png","hash":"f99f3dad304f42022b5cad33698b5556ebcca0e1","modified":1631891222000},{"_id":"source/image/image-20210918220855024.png","hash":"1375ab9c96cd35bc3452190a577b8cf34cbfa049","modified":1631974134000},{"_id":"source/image/image-20210918221511249.png","hash":"b7618f77504404bcd8933dc9bc12fab02e1e6478","modified":1631974510000},{"_id":"source/image/image-20210918221042947.png","hash":"80e4e3789fe89d0fafd23ffc942f4d4b166f333f","modified":1631974242000},{"_id":"source/image/image-20210918221942453.png","hash":"1098b7646f77d941e1b40428cf7da56c20ad64d6","modified":1631974782000},{"_id":"source/image/image-20210918222321402.png","hash":"b5a4dea4536e034a041ef683ea4c4d1680510978","modified":1631975000000},{"_id":"source/image/image-20210918222607469.png","hash":"632404440210369653b8a5a04a90ec1e3cdf8166","modified":1631975166000},{"_id":"source/image/image-20210918232512707.png","hash":"6716529af8509b5f8e5e2a4c9db2da39b60af875","modified":1631978712000},{"_id":"source/tags/index.md","hash":"e60a0387215bcd043294ecab8b551f4f97ce6a7d","modified":1681796661349},{"_id":"source/tags/.DS_Store","hash":"df2fbeb1400acda0909a32c1cf6bf492f1121e07","modified":1681796511455},{"_id":"source/image/image-20210625084016091.png","hash":"0688d436d6304a955b052806648ba409cb8b5002","modified":1624581616093},{"_id":"source/image/image-20210911133532151.png","hash":"f2ba1291ef1c2a6f4d9039dca5d30b0849f53080","modified":1631338532000},{"_id":"source/image/image-20210911160353534.png","hash":"c8f7190576e525318325e55ec176e2fedbde57a8","modified":1631347432000},{"_id":"source/image/image-20210911174650679.png","hash":"44fb36a936ea7af66e1945479347e5709a13990f","modified":1631353610000},{"_id":"source/image/image-20210911182956629.png","hash":"06360a7bf25177c4d17673514bcc7159f4767d35","modified":1631356196000},{"_id":"source/image/image-20210917151314753.png","hash":"dc5ad563bea32ce7d85a71a8e0b366107190aef8","modified":1631862794000},{"_id":"source/image/image-20210911181714437.png","hash":"1bc8fc11473e3d3732812055a8be87c1969995f6","modified":1631355434000},{"_id":"source/image/image-20210917162512646.png","hash":"062e427d4a8e706eac08092537875bf3550349a1","modified":1631867112000},{"_id":"source/image/image-20210917163846243.png","hash":"bee855dd660c9e1c7f8a74414c00079f85ba88e0","modified":1631867926000},{"_id":"source/image/image-20210917200805389.png","hash":"81e0b17f985eeabad604e722675c35bac7d8cd3c","modified":1631880484000},{"_id":"source/image/image-20210917201523669.png","hash":"11a7dcb2a0fe39a5b58404ab8fd63ae38ab41b54","modified":1631880922000},{"_id":"source/image/image-20210917201922831.png","hash":"1a0d516910e1a7def3abe689437c42e7f581b906","modified":1631881162000},{"_id":"source/image/image-20210917215958091.png","hash":"82431243d17625d469c8b7c0d07f30d55b992c4a","modified":1631887198000},{"_id":"source/image/image-20210917221427930.png","hash":"8f0a5c16852d0220259e18927da040b8ec15f5f9","modified":1631888066000},{"_id":"source/image/image-20210918220338109.png","hash":"f3a467de3b0474afb259fa0268094d23cda3c0c0","modified":1631973818000},{"_id":"themes/xoxo-plus/source/js/xoxo.js","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1681793933463},{"_id":"source/image/image-20210918232904623.png","hash":"868d2546b472a1d4844588d5a69377157504a62b","modified":1631978944000},{"_id":"source/image/image-20210527190012042.png","hash":"76fef99be6ed72dcab7aa7e2870fcdd7c51d8ef2","modified":1622113212043},{"_id":"source/image/image-20210527194926715.png","hash":"26dc1027aad324a97762bdcc4c7ebe580d78687c","modified":1622116166715},{"_id":"source/image/image-20210624165417791.png","hash":"422f6189f600e18d5754327dad9cfff1372ccab6","modified":1624524857792},{"_id":"source/image/image-20210911155916899.png","hash":"2b9826357f66dfc385576255901e61d51793895a","modified":1631347156000},{"_id":"source/image/image-20210911174110687.png","hash":"6590e2fcce95e68ac441a9667ba84dd0c6823328","modified":1631353270000},{"_id":"source/image/image-20210917163736458.png","hash":"4350f0b0af3d0baf9ef71e3dde0012f592976bfc","modified":1631867856000},{"_id":"themes/xoxo-plus/README.md","hash":"9b2b73a2b1b135152b62cfdd080f15eb7c8dd3f0","modified":1681793933453},{"_id":"themes/xoxo-plus/gulpfile.js","hash":"d5f9cc74e2ea4a5d6de8b7931bf90e6a04a02dc9","modified":1681793933453},{"_id":"themes/xoxo-plus/.DS_Store","hash":"baa1ab61d3d2929d22f344be5d94fd3a665af335","modified":1681803081291},{"_id":"themes/xoxo-plus/package.json","hash":"203f579a057fb68bf79182b1da74bc7f52d09a0b","modified":1681793933459},{"_id":"themes/xoxo-plus/languages/default.yml","hash":"e44dfd1305ccc06b94f04de434ada89697e03e55","modified":1681793933453},{"_id":"themes/xoxo-plus/languages/en.yml","hash":"75b950e8e515b782a189c29210a9322e9af414f6","modified":1681793933454},{"_id":"themes/xoxo-plus/languages/zh-TW.yml","hash":"12e322c9f08dd2370785581b990baa43e9b9153f","modified":1681793933454},{"_id":"themes/xoxo-plus/languages/zh-CN.yml","hash":"5772afddf6caf059fafad0c15b7b36ffdef0105a","modified":1681793933454},{"_id":"themes/xoxo-plus/layout/archive.ejs","hash":"bd98c4a500422340d829b918b86963f810607205","modified":1681793933454},{"_id":"themes/xoxo-plus/layout/index.ejs","hash":"bc4c04e523b9152cb7e5f2b2c689e7a718f6bdd2","modified":1681793933454},{"_id":"themes/xoxo-plus/layout/page.ejs","hash":"1c5ff3315838aadde35454cf0430a564878b6670","modified":1681793933455},{"_id":"themes/xoxo-plus/layout/tag.ejs","hash":"f35efdf7de89401ab24cc7b1712ca7702a8591ff","modified":1681793933459},{"_id":"themes/xoxo-plus/layout/layout.ejs","hash":"c50f54fc42cc61cd13cc72b32bb429457ab6e847","modified":1681793933454},{"_id":"themes/xoxo-plus/layout/post.ejs","hash":"47750e1f70baaf4630f820a3a5aae91f06f23f92","modified":1681793933459},{"_id":"themes/xoxo-plus/scripts/tags/center-quote.js","hash":"535fc542781021c4326dec24d8495cbb1387634a","modified":1681793933459},{"_id":"themes/xoxo-plus/scripts/tags/lazy-image.js","hash":"451f6faf1ce5600774b81d8a7ca5826165333b12","modified":1681793933460},{"_id":"themes/xoxo-plus/scripts/tags/note.js","hash":"64de4e9d01cf3b491ffc7d53afdf148ee5ad9779","modified":1681793933460},{"_id":"themes/xoxo-plus/layout/partials/analytics.ejs","hash":"df9871e7d66f1b703c5b757df94fd0f3fd5ea1b6","modified":1681793933455},{"_id":"themes/xoxo-plus/layout/partials/archive-post.ejs","hash":"464086c3fd545aa2e059acade02e8382985e22e8","modified":1681793933455},{"_id":"themes/xoxo-plus/layout/partials/activity.ejs","hash":"b4d63ae07c0cf39b3a96cfd81a3a5b9e6813bfac","modified":1681793933455},{"_id":"themes/xoxo-plus/layout/partials/archive.ejs","hash":"b5c154d8e0f1930e4261ec63d3a0952ff03fd075","modified":1681793933455},{"_id":"themes/xoxo-plus/layout/partials/baidu_url_js_push.ejs","hash":"a9fe47c76a031e562be3d419f75a49b4a2fd07d7","modified":1681793933455},{"_id":"themes/xoxo-plus/layout/partials/copyright.ejs","hash":"80791921ca6d72f32368275aa88fb56ea99b0ef6","modified":1681793933456},{"_id":"themes/xoxo-plus/layout/partials/footer.ejs","hash":"b8bc46d384cf4a45397e6a729b0103136b7359c4","modified":1681793933456},{"_id":"themes/xoxo-plus/_config.yml","hash":"4cbd5473cae858ac90224f8e03a3e512302f2568","modified":1681988555936},{"_id":"themes/xoxo-plus/layout/partials/js.ejs","hash":"281e2504e687db6dc65c0fa6a2e6ff747efbc324","modified":1681793933456},{"_id":"themes/xoxo-plus/layout/partials/head.ejs","hash":"a4155da1a44ba0c0c1b7ab2f41433bf70f4a3711","modified":1681793933456},{"_id":"themes/xoxo-plus/layout/partials/links.ejs","hash":"a1fd03101bfa06f9895599eeb539fbacd1efa667","modified":1681793933456},{"_id":"themes/xoxo-plus/layout/partials/nav.ejs","hash":"ae7368b5825980bb9cddca829413dece9d72dc80","modified":1681793933456},{"_id":"themes/xoxo-plus/layout/partials/prenext.ejs","hash":"8ca2261a9fc465b1f1921569ac59b9aa4c83a8c1","modified":1681793933457},{"_id":"themes/xoxo-plus/layout/partials/recent-posts.ejs","hash":"1e743751f0480b3b65f8365199bdd228ac5494bc","modified":1681793933457},{"_id":"themes/xoxo-plus/layout/partials/project.ejs","hash":"fe4143d06f2b81c0f24d8178fac35772b965aaff","modified":1681793933457},{"_id":"themes/xoxo-plus/layout/partials/scripts.ejs","hash":"edc7c81143cd624719a43d2b3edb325fd3cd8019","modified":1681793933458},{"_id":"themes/xoxo-plus/layout/partials/paper.ejs","hash":"ce3a5758758ef4a2663591839f218c7129d8cbef","modified":1681813026515},{"_id":"themes/xoxo-plus/layout/partials/share.ejs","hash":"9f2999f988c94f7b481599f68752db20a7316104","modified":1681793933458},{"_id":"themes/xoxo-plus/layout/partials/comment.ejs","hash":"dc4bf2ea5ddc7321db4975c68d65aa28e5a2cb22","modified":1681982007306},{"_id":"themes/xoxo-plus/source/css/common.less","hash":"e436b6b577a1ae4d786ca016c534d3cec14c9247","modified":1681793933460},{"_id":"themes/xoxo-plus/layout/partials/search.ejs","hash":"1a03040e44ab0b91064c3d22a5a8d7cb70a379ca","modified":1681793933458},{"_id":"themes/xoxo-plus/layout/partials/toc.ejs","hash":"be02b5e03ecf4cac8d0fe22854a4c7632d36a6a5","modified":1681793933458},{"_id":"themes/xoxo-plus/source/css/core.less","hash":"cc7bd8065e0d45bdec12a98d33c3c8d770c81fa0","modified":1681793933460},{"_id":"themes/xoxo-plus/source/css/highlight.less","hash":"a7ae4e53c04249f69a2b878fe5e56bf1d23a8b9d","modified":1681793933460},{"_id":"themes/xoxo-plus/source/css/light_tritanopia_xoxo.css","hash":"27dc1169d00dd2ea91a9e4c9152bb9753813e693","modified":1681793933461},{"_id":"themes/xoxo-plus/source/css/mixin.less","hash":"e7336eca0285aa1189ad47bf6dc7f59fde60e67c","modified":1681793933461},{"_id":"themes/xoxo-plus/source/css/normalize.css","hash":"ebe0759bf259b6caeadee6137973481046ac5636","modified":1681793933461},{"_id":"themes/xoxo-plus/source/css/xoxo.css.map","hash":"9e43c4ab3dede729c344ad4e6c1bbf9ad0bee6a9","modified":1681793933462},{"_id":"themes/xoxo-plus/source/css/variables.less","hash":"52aafe1e3a907a85b69b2cf02f14e5e9973b8388","modified":1681793933461},{"_id":"themes/xoxo-plus/source/css/xoxo.less","hash":"43d9ab1c0fa6d73faeb64910b3e1e07cae63d489","modified":1681793933462},{"_id":"themes/xoxo-plus/source/css/xoxo.css","hash":"5705f0ca54325a6c9c944249ec30a84df81bd1ee","modified":1681793933461},{"_id":"themes/xoxo-plus/source/css/xxoo.css.map","hash":"d07fe1cc9edd53ca13b3e43ada5ac9788da609a9","modified":1681793933463},{"_id":"themes/xoxo-plus/source/css/xxoo.css","hash":"c3d0d559499adea9e89892b5d714f4ab00e0ffa9","modified":1681793933462},{"_id":"source/image/image-20210917215913779.png","hash":"913f75192239b565af757b36480d6cbde126d2ea","modified":1631887152000},{"_id":"source/image/image-20210527195317973.png","hash":"6dc602d3c8a977bbb76c08f597d53f44ee96cf86","modified":1622116397974},{"_id":"source/image/image-20210620092032503.png","hash":"5cb0125f5da669e130ee259768f3b5f338b91da6","modified":1624152032508},{"_id":"source/image/img-中文平台3.jpg","hash":"9ecfebd87fc6259c07dfe26f2545a04cbe57b0f4","modified":1681909155125},{"_id":"source/image/image-20210727144149656.png","hash":"49cc6ce4985337a08ded1e2d86375a8d37a90bc9","modified":1627368109657},{"_id":"source/image/image-20210911175502834.png","hash":"83ac3416664b9bff1d4b18b215a871bfdc551878","modified":1631354102000},{"_id":"source/image/image-20210917161422535.png","hash":"c100b40e5ac9bfdc010c31bf160e86e0a67d35b8","modified":1631866462000},{"_id":"source/image/image-20210917193910191.png","hash":"8312c82d0e1d052f42fa3857c32b51b3406ecfe9","modified":1631878750000},{"_id":"source/image/image-20210527193017688.png","hash":"a9936086853506ebc753f55573ceecaba8d80b5d","modified":1622115017689},{"_id":"source/image/image-20210527195451792.png","hash":"f101c0ac7391015111c44a79ba4281742144c7b9","modified":1622116491793},{"_id":"source/image/img-中文平台2.jpg","hash":"f6c788d4eee1037aadd2c2fcd5814b3a58b4fa9a","modified":1681907871999},{"_id":"source/image/image-20210911160850121.png","hash":"44839cfaec20accde214b4f667fce0166a3206ec","modified":1631347730000},{"_id":"source/image/img-中文平台1.jpg","hash":"51dcfaf43ac8f3653885976b5b5469bdd0a49f74","modified":1681907828892},{"_id":"source/image/image-20210911165642280.png","hash":"26d582d4be83d7a21d11501e87a39877bd99b6e8","modified":1631350602000},{"_id":"source/image/image-20210727142922916.png","hash":"528e7cc11ff1200b220d01ea0a24e9470f6ed463","modified":1627367362920},{"_id":"source/image/image-20210917162700711.png","hash":"f0e9a3c2983a7f54767b78d90a9872ed166ba4f7","modified":1631867220000},{"_id":"source/image/image-20210917163335913.png","hash":"087d8735b5ac5810e3f708696c80bbc07a84fff8","modified":1631867616000},{"_id":"source/image/image-20210917161720855.png","hash":"cc3aeed622eeed7106fd9fa69533ac632b57d9a4","modified":1631866640000},{"_id":"public/search/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1682596824795},{"_id":"public/activity/index.html","hash":"3313c9d1ab1e7394e2a2771a5364b6fe1414f820","modified":1682596824795},{"_id":"public/categories/index.html","hash":"0ac32fc49321f7de019f464c302ee409a2301f80","modified":1682596824795},{"_id":"public/project/index.html","hash":"53a0e632bf97ce1cc9e9c802a50d6c4d991d177e","modified":1682596824795},{"_id":"public/paper/index.html","hash":"f08ba1d12e6a80f2c85d90113e859d11d0b48d47","modified":1682596824795},{"_id":"public/paper/paper1.html","hash":"0ebefe5dc72b2eef4abbc7ff1cfbe2d891c4f2f2","modified":1682596824795},{"_id":"public/2023/04/10/安卓拓展/index.html","hash":"f742b0307a47cbb17c4cdd5aff6ace944d49b65e","modified":1682596824795},{"_id":"public/2023/03/29/python工具-提取单词/index.html","hash":"405be0caab36ed42fc2e81f334ea0bf412d6afb3","modified":1682596824795},{"_id":"public/2023/02/21/中文学习平台代码/index.html","hash":"f8f5b0bafc77d79ada52c222682a6e35316051b8","modified":1682596824795},{"_id":"public/2022/03/29/hello-world/index.html","hash":"8efc25286cc698d198acf6af5c9f15862ec7a95e","modified":1682596824795},{"_id":"public/2020/10/18/first-article/index.html","hash":"5acf7f95948797dc25feeee9b53f9cc5ce930c4f","modified":1682596824795},{"_id":"public/archives/index.html","hash":"75c78c55c498efa11a658dfdf3b73e7ab05929e7","modified":1682596824795},{"_id":"public/archives/page/2/index.html","hash":"d43c959088993032e7ce4b1f0459ea2b26c37cb2","modified":1682596824795},{"_id":"public/archives/2020/index.html","hash":"892eb3934263a6b0007ce834153e47751b637bea","modified":1682596824795},{"_id":"public/archives/2020/10/index.html","hash":"bf39fc37f9c15bc6067ecde49aebf8f4dba8a853","modified":1682596824795},{"_id":"public/archives/2021/index.html","hash":"34a75901dbd4ebe02ee384fd11cf7f31476bbe4b","modified":1682596824795},{"_id":"public/archives/2021/01/index.html","hash":"e4363bb35d1abcafaab5e998581b61d7513aa3e4","modified":1682596824795},{"_id":"public/archives/2021/07/index.html","hash":"9e16f5a2cecb6699100b733d6438138841bb2290","modified":1682596824795},{"_id":"public/archives/2022/index.html","hash":"01b1043df79e96b93efc31087f606bb16ad2362b","modified":1682596824795},{"_id":"public/archives/2022/02/index.html","hash":"50e1bd5fcc2d2a43918592673796f83e6dec24f9","modified":1682596824795},{"_id":"public/archives/2022/03/index.html","hash":"78cc462a0610a6c21206d78cb90fab4ad87c2faf","modified":1682596824795},{"_id":"public/archives/2022/04/index.html","hash":"b397d1eb851cf39be56a58b7f0c72cc6ea81391a","modified":1682596824795},{"_id":"public/archives/2022/05/index.html","hash":"fd7a8fb89703d4db4216ecc40def2962501ee59f","modified":1682596824795},{"_id":"public/archives/2023/index.html","hash":"698fe353b4efc53619d76e51f1c35384b2635087","modified":1682596824795},{"_id":"public/archives/2023/02/index.html","hash":"0e8b2622d27bfaf3879ef8cc34ee5d1068dd832c","modified":1682596824795},{"_id":"public/archives/2023/03/index.html","hash":"86971f79e1c89c52ae7d99420f111a67c7d935e3","modified":1682596824795},{"_id":"public/archives/2023/04/index.html","hash":"9ea49ad7ab6af4c2063602fc9ae2cd802b581ba9","modified":1682596824795},{"_id":"public/categories/笔记/index.html","hash":"e0f3def0633464c0e17fdbc236bc945760118227","modified":1682596824795},{"_id":"public/categories/技术分享/index.html","hash":"5c7af0dbe17fc7e6706322b672d04d8d6a23c07c","modified":1682596824795},{"_id":"public/categories/操作手册/index.html","hash":"f8ff8b64fb0e7c24dbcd3675b285932018bd1ec9","modified":1682596824795},{"_id":"public/categories/随便写/index.html","hash":"dd1160a6f9eff724ed009efc08d563f0b0608a5f","modified":1682596824795},{"_id":"public/page/2/index.html","hash":"be9c30602f28deeaa0c895044a3adb180c12edb0","modified":1682596824795},{"_id":"public/tags/英语词汇/index.html","hash":"bfad2970d91d81bb9fca9240cdcf069ef5a26014","modified":1682596824795},{"_id":"public/tags/循环/index.html","hash":"144f194d8ed36f8c0f62aaf1c50b401c336ad1ac","modified":1682596824795},{"_id":"public/tags/prompt/index.html","hash":"862ebc8ca83ac6e388d6afe6a4f01f3bc62d61eb","modified":1682596824795},{"_id":"public/tags/高等数学/index.html","hash":"5ff5f18aed49757876e8959266562ceb97c8b899","modified":1682596824795},{"_id":"public/tags/英语/index.html","hash":"a3fc911523a78128c47765eb38ef9ae36e055ada","modified":1682596824795},{"_id":"public/tags/吐槽/index.html","hash":"f11cc8e40c99218cef22c9cd756717219375a023","modified":1682596824795},{"_id":"public/tags/TypeScript/index.html","hash":"6244bbe15c6fb80187e01118e63b11d88058e8c3","modified":1682596824795},{"_id":"public/tags/游戏开发/index.html","hash":"3cacb153a83d6dc70e8d3392a1fbe549faeff525","modified":1682596824795},{"_id":"public/tags/前端开发/index.html","hash":"9ede03cf683a2819b046320d14e3751fc94265d7","modified":1682596824795},{"_id":"public/tags/编程语言/index.html","hash":"4fd5645e8f991028d1b604dbbf44213b8805bbaf","modified":1682596824795},{"_id":"public/tags/Web开发/index.html","hash":"f7b3448c232c64e02a4db5e992aef8e6db598af4","modified":1682596824795},{"_id":"public/tags/游戏设计/index.html","hash":"eaf55d9d8c0011b21bdfc48fc2d9953a9c9dddbc","modified":1682596824795},{"_id":"public/tags/前端框架/index.html","hash":"8f228a284e07cc85bdf9de6be6c1087286c74e71","modified":1682596824795},{"_id":"public/tags/工具/index.html","hash":"61f01b6c6c98c97ee5ce3577d66770a0beac54b4","modified":1682596824795},{"_id":"public/tags/学习笔记/index.html","hash":"c3d1f6ea415ee9275f3db6409bf894558664fc16","modified":1682596824795},{"_id":"public/tags/教程/index.html","hash":"ecae11966f381fb09350b8cbd6db187f35aa0203","modified":1682596824795},{"_id":"public/tags/杆踪球影冰球游戏/index.html","hash":"92212dc06e93ba01b27f275549ae866655f54679","modified":1682596824795},{"_id":"public/tags/Spring/index.html","hash":"f12108564c4349ad4a7a39756edf0fc4a6f12e07","modified":1682596824795},{"_id":"public/tags/Sprintboot/index.html","hash":"db264169007b91ec0cca935bfea6cd1cbb14d5c4","modified":1682596824795},{"_id":"public/tags/Mybatis/index.html","hash":"81cc1ede7608b947dcd5a5a43b4ceebd35c12128","modified":1682596824795},{"_id":"public/tags/hexo指南/index.html","hash":"8ee69bc0c98d6166a0d8d2e29e4b9a71d966c693","modified":1682596824795},{"_id":"public/tags/shell/index.html","hash":"2af4f922c8c0767a6ff5e8a25dc57830f33d0293","modified":1682596824795},{"_id":"public/tags/第一篇/index.html","hash":"126448542a017bee816a1d7afa777c5e63dcd9c5","modified":1682596824795},{"_id":"public/tags/Typescript/index.html","hash":"7c646135eff2230b477335b4a46a0cd604af8fca","modified":1682596824795},{"_id":"public/tags/React/index.html","hash":"30d934b2bc231b0a692b1d82ae15c0075b5b5efe","modified":1682596824795},{"_id":"public/tags/java/index.html","hash":"ab7b517bb6dc779bfdbc3e3cc6158854db7ffc94","modified":1682596824795},{"_id":"public/tags/菜鸟/index.html","hash":"8b94feeb3bf11d282e7773ef073c6bfb9e730c9e","modified":1682596824795},{"_id":"public/tags/大一/index.html","hash":"e1f92c22850abb0091a740b9685141ee69cd1347","modified":1682596824795},{"_id":"public/tags/考研英语/index.html","hash":"e515e1bbda9515f8337468a442fa59957d8bddbc","modified":1682596824795},{"_id":"public/tags/python/index.html","hash":"b847e723a2ffd628e2ac4150ac6826cd3b94143b","modified":1682596824795},{"_id":"public/tags/正则表达式/index.html","hash":"fc2f015fe0a0fbe647f4a87c38f979265815e6bc","modified":1682596824795},{"_id":"public/tags/前端/index.html","hash":"94ad9996e6b4d5cb3d26c78eebd369e18fea0d7f","modified":1682596824795},{"_id":"public/tags/Javascipt/index.html","hash":"516c8769f8d93248569ebb48857056f036008d23","modified":1682596824795},{"_id":"public/tags/组件化编程/index.html","hash":"5cc24bcecc81769483cd9fb39baaf47eba9be551","modified":1682596824795},{"_id":"public/tags/combineReducers/index.html","hash":"755e5b1c4841f70965b9a3c4764e14d2d4f9c794","modified":1682596824795},{"_id":"public/tags/redux/index.html","hash":"85737ca16524213869b6957337918f921ee88fd9","modified":1682596824795},{"_id":"public/tags/异步数据获取/index.html","hash":"749bdabb62a163a8bcbf747630b6fee717ed766e","modified":1682596824795},{"_id":"public/tags/redux-persist/index.html","hash":"bd2a62cae1c8561e72ccc7e316f1bdcdcd5bec22","modified":1682596824795},{"_id":"public/tags/样式化组件/index.html","hash":"f53b68228242b3ce42ffa73421a14108c5917571","modified":1682596824795},{"_id":"public/tags/生命周期/index.html","hash":"1536b0cea053f5f7981b64165d962db8319c58a9","modified":1682596824795},{"_id":"public/tags/单向数据流/index.html","hash":"33abca5e22f3f7758583f0e51777851e57a955aa","modified":1682596824795},{"_id":"public/tags/react/index.html","hash":"5018c7a121284a6b797c80e105eb56f581826eb4","modified":1682596824795},{"_id":"public/tags/字典/index.html","hash":"146a97fd89e27763ee71c4fb413e7e1367f34d0e","modified":1682596824795},{"_id":"public/tags/表单格式/index.html","hash":"7f9605fca4af81d770997b41e2b09f887a26cf95","modified":1682596824795},{"_id":"public/tags/正则/index.html","hash":"0fa6926e5ea59de16870558dcd7b8e6e1e31d93e","modified":1682596824795},{"_id":"public/tags/跨域/index.html","hash":"e6554268b8e005b52209b9f7f3abc81b9c9c5472","modified":1682596824795},{"_id":"public/tags/C/index.html","hash":"98dd5611b4c148c8bd6d1c46ffe24baf0c9befb9","modified":1682596824795},{"_id":"public/tags/leetcode/index.html","hash":"bfe2538ebb4e8474ff2a1bea094a55fa1ad363e8","modified":1682596824795},{"_id":"public/tags/算法/index.html","hash":"0b4bca37bf35973573e7a49fdcb1532788fa3fbd","modified":1682596824795},{"_id":"public/tags/一个月/index.html","hash":"460d61257b021b869c82a4bcb21e7d1176f1d5bc","modified":1682596824795},{"_id":"public/tags/kotlin/index.html","hash":"0a39478dbee73d61de4ddcc0b295bf84f57f4294","modified":1682596824795},{"_id":"public/tags/安卓开发/index.html","hash":"24d62ec3b8532745a41e26a564daeb19ca051529","modified":1682596824795},{"_id":"public/tags/dowdload/index.html","hash":"ce07f14823553957bdf85427da36eb6e9d234af9","modified":1682596824795},{"_id":"public/tags/轨道客流/index.html","hash":"d4e057f6d8bf90ceb82a64feecf97a55feb46559","modified":1682596824795},{"_id":"public/tags/异步编程/index.html","hash":"81f0a3bf467ef0d8a07653e7863af7af18cd3d82","modified":1682596824795},{"_id":"public/tags/Promise/index.html","hash":"09df747655feef3d78b901ba64165f1ac6b6b3a4","modified":1682596824795},{"_id":"public/tags/Object-entries/index.html","hash":"1373a2ba00618e9336e1fe087c2ae5e82e5375f2","modified":1682596824795},{"_id":"public/tags/Array-sort/index.html","hash":"4a096ff29b664cb681cb54646f3bc0dd74ae0ddd","modified":1682596824795},{"_id":"public/tags/Array-map/index.html","hash":"c6b603a72495b16ddf8e9566c339e2eace1d3724","modified":1682596824795},{"_id":"public/tags/Array-reduce/index.html","hash":"a9db8e9d4918a76a1f8d67e6a9255a6a9fe26160","modified":1682596824795},{"_id":"public/tags/Number/index.html","hash":"6dfb4b3a05a451da9709a98e750851ca5886a006","modified":1682596824795},{"_id":"public/tags/Date/index.html","hash":"ccbc7d7f7a41f58fe4ca2ecbc684479b805b359b","modified":1682596824795},{"_id":"public/tags/getTime/index.html","hash":"c81acae27c81643fdaf69df148cb95c56cd877f5","modified":1682596824795},{"_id":"public/tags/Object-values/index.html","hash":"1b6eb20178cf4f73b2779c2fec3d3b155f37aae7","modified":1682596824795},{"_id":"public/tags/Array-concat/index.html","hash":"3603fbef1bd82231650c8bf879b9ec2b1fe0a4e5","modified":1682596824795},{"_id":"public/tags/标准时间/index.html","hash":"ba739436640dfdf9eac3f3a72873116193ccf59a","modified":1682596824795},{"_id":"public/tags/类型推断/index.html","hash":"9745c83c25d841a9c7058c5a5114d9668c8e87c9","modified":1682596824795},{"_id":"public/tags/类型注释/index.html","hash":"aebba853f3d075423f33fe790fe61d110d9a0bb6","modified":1682596824795},{"_id":"public/tags/JavaScript/index.html","hash":"c2129c91ff691fdb0e5819f4aa8a38729df2302d","modified":1682596824795},{"_id":"public/tags/代码优化/index.html","hash":"f8c72e16396cacbf60d1c7853b2dc01f94250747","modified":1682596824795},{"_id":"public/tags/代码可读性/index.html","hash":"c23e5baca0b2754f412139a5bd59f7203e12b71a","modified":1682596824795},{"_id":"public/tags/index.html","hash":"fab8478b32756e5be89bc55c9eaaab8510e2053e","modified":1682596824795},{"_id":"public/2023/04/27/全域健康react/index.html","hash":"79887c9b0aec476b2938b9f16bff61fda84db94d","modified":1682596824795},{"_id":"public/2023/04/17/4.14今天学习量有点大/index.html","hash":"c94252126855e2f16cc88029b69f2c730db03efa","modified":1682596824795},{"_id":"public/2023/04/10/23年第一季度顽固词汇/index.html","hash":"9a5216cae0e40b574618f6a3743175d075966834","modified":1682596824795},{"_id":"public/2023/03/03/SSM学习/index.html","hash":"2f60940be542ea80c95a3c0e957f9ad28116b1a0","modified":1682596824795},{"_id":"public/2022/05/21/NPC代码分析/index.html","hash":"192575b21ee9e3c2fe4a685149b8793142f92dce","modified":1682596824795},{"_id":"public/2022/04/17/Typescript + React 开发中遇到的问题及解决方案/index.html","hash":"a62a61f2d1bdb1e6a160a0ca331e653a7bb8cb03","modified":1682596824795},{"_id":"public/2022/02/22/大三寒假学C++&lc/index.html","hash":"7abfdddbbf057a15e54ecbc589e7d2816d8d4e37","modified":1682596824795},{"_id":"public/2021/07/21/轨道代码分析/index.html","hash":"c0dba0fd8dbb89397eeb23fdcb6c0ce652fe8588","modified":1682596824795},{"_id":"public/2021/01/03/java菜鸟记/index.html","hash":"16f8d02bf784ea9895358728f36ec5e047f524ae","modified":1682596824795},{"_id":"public/index.html","hash":"3ea8f980dc975d820cffde3943c050e03247b94d","modified":1682596824795},{"_id":"public/css/highlight.less","hash":"a7ae4e53c04249f69a2b878fe5e56bf1d23a8b9d","modified":1682596824795},{"_id":"public/css/core.less","hash":"cc7bd8065e0d45bdec12a98d33c3c8d770c81fa0","modified":1682596824795},{"_id":"public/css/mixin.less","hash":"e7336eca0285aa1189ad47bf6dc7f59fde60e67c","modified":1682596824795},{"_id":"public/css/variables.less","hash":"52aafe1e3a907a85b69b2cf02f14e5e9973b8388","modified":1682596824795},{"_id":"public/css/xoxo.less","hash":"43d9ab1c0fa6d73faeb64910b3e1e07cae63d489","modified":1682596824795},{"_id":"public/css/xoxo.css.map","hash":"9e43c4ab3dede729c344ad4e6c1bbf9ad0bee6a9","modified":1682596824795},{"_id":"public/css/xxoo.css.map","hash":"d07fe1cc9edd53ca13b3e43ada5ac9788da609a9","modified":1682596824795},{"_id":"public/image/image-20210905000354527.png","hash":"800abf6edede2ff97bf4a989cc6df28ee4adef11","modified":1682596824795},{"_id":"public/image/image-20210911133112602.png","hash":"9a11fdc7773b3418f50971eabfb00a7aab91004e","modified":1682596824795},{"_id":"public/image/image-20210911133219847.png","hash":"f203e83913bcef174bf7c7ffdf37feedfd5a3a96","modified":1682596824795},{"_id":"public/image/image-20210911132335452.png","hash":"df479f9c3c19116e40d77c41bc9dcffc797a3c50","modified":1682596824795},{"_id":"public/image/image-20210911155249493.png","hash":"29e611b969bdef714dec43eec5b52a59ca626be4","modified":1682596824795},{"_id":"public/image/image-20210911155135008.png","hash":"9e4f233fe8304ecf1a19a82ec79d85b3bae49939","modified":1682596824795},{"_id":"public/image/image-20210911160541833.png","hash":"9c4e8e1bd21d7636481c69417af8ebeaeed425f3","modified":1682596824795},{"_id":"public/image/image-20210911173712014.png","hash":"10561eba1ea6b03ce5b46ebeea51df4573e541e8","modified":1682596824795},{"_id":"public/image/image-20210911172200292.png","hash":"ac60aac747785348f770dbfe012d370eb6b09261","modified":1682596824795},{"_id":"public/image/image-20210911175222857.png","hash":"f99693648b1a305d44de23ca5f7532ba4c2d914d","modified":1682596824795},{"_id":"public/css/common.less","hash":"e436b6b577a1ae4d786ca016c534d3cec14c9247","modified":1682596824795},{"_id":"public/image/image-20210911180828611.png","hash":"9685418b238b7558d4b308667ddf61f563aa1e6a","modified":1682596824795},{"_id":"public/image/image-20210917163557071.png","hash":"11bbf99006bb08efcc997f8ef447e5bb21a7b092","modified":1682596824795},{"_id":"public/image/image-20210917163828518.png","hash":"afb711d84816bda60cad5af66997e341a1306a7f","modified":1682596824795},{"_id":"public/image/image-20210917172736484.png","hash":"4925f1d850ac46c5a4d1d432c96e1cfa665fc320","modified":1682596824795},{"_id":"public/image/image-20210917180919390.png","hash":"7dc794c417a23e201eb4add9085d523226dbecc3","modified":1682596824795},{"_id":"public/image/image-20210917194941597.png","hash":"bbdf3ed0b4b1b659bcf86a56e170595d752c2550","modified":1682596824795},{"_id":"public/image/image-20210917185253557.png","hash":"829f8256797a66bde7ce93215de4074cdfb21d45","modified":1682596824795},{"_id":"public/image/image-20210917201243721.png","hash":"e43e1d9e4d362b78d98f9a18bf46e8fe0a8bb6db","modified":1682596824795},{"_id":"public/image/image-20210917200241282.png","hash":"fe1ef50b688c4595ec3fb87683e56ee2fee85ad4","modified":1682596824795},{"_id":"public/image/image-20210917163818051.png","hash":"425cb8f47e499a46551159912661d3a346e015b8","modified":1682596824795},{"_id":"public/image/image-20210917213556673.png","hash":"737d9ef592704e32280df6d5c88f2094bae4f3f2","modified":1682596824795},{"_id":"public/image/image-20210917225019868.png","hash":"35e0c79a8710ef26ea166a7043284b828e9d9a5c","modified":1682596824795},{"_id":"public/image/image-20210917225715519.png","hash":"0697ce17db26c771c6e3e162b155d55d5f3c731c","modified":1682596824795},{"_id":"public/image/image-20210917230702072.png","hash":"f99f3dad304f42022b5cad33698b5556ebcca0e1","modified":1682596824795},{"_id":"public/image/image-20210918220855024.png","hash":"1375ab9c96cd35bc3452190a577b8cf34cbfa049","modified":1682596824795},{"_id":"public/image/image-20210918221042947.png","hash":"80e4e3789fe89d0fafd23ffc942f4d4b166f333f","modified":1682596824795},{"_id":"public/image/image-20210918221942453.png","hash":"1098b7646f77d941e1b40428cf7da56c20ad64d6","modified":1682596824795},{"_id":"public/image/image-20210918232512707.png","hash":"6716529af8509b5f8e5e2a4c9db2da39b60af875","modified":1682596824795},{"_id":"public/image/image-20210918222321402.png","hash":"b5a4dea4536e034a041ef683ea4c4d1680510978","modified":1682596824795},{"_id":"public/image/image-20210918221511249.png","hash":"b7618f77504404bcd8933dc9bc12fab02e1e6478","modified":1682596824795},{"_id":"public/image/image-20210918222607469.png","hash":"632404440210369653b8a5a04a90ec1e3cdf8166","modified":1682596824795},{"_id":"public/image/image-20210625084016091.png","hash":"0688d436d6304a955b052806648ba409cb8b5002","modified":1682596824795},{"_id":"public/image/image-20210911133532151.png","hash":"f2ba1291ef1c2a6f4d9039dca5d30b0849f53080","modified":1682596824795},{"_id":"public/image/image-20210911160353534.png","hash":"c8f7190576e525318325e55ec176e2fedbde57a8","modified":1682596824795},{"_id":"public/image/image-20210911174650679.png","hash":"44fb36a936ea7af66e1945479347e5709a13990f","modified":1682596824795},{"_id":"public/image/image-20210917151314753.png","hash":"dc5ad563bea32ce7d85a71a8e0b366107190aef8","modified":1682596824795},{"_id":"public/image/image-20210911181714437.png","hash":"1bc8fc11473e3d3732812055a8be87c1969995f6","modified":1682596824795},{"_id":"public/image/image-20210911182956629.png","hash":"06360a7bf25177c4d17673514bcc7159f4767d35","modified":1682596824795},{"_id":"public/image/image-20210917162512646.png","hash":"062e427d4a8e706eac08092537875bf3550349a1","modified":1682596824795},{"_id":"public/image/image-20210917163846243.png","hash":"bee855dd660c9e1c7f8a74414c00079f85ba88e0","modified":1682596824795},{"_id":"public/image/image-20210917200805389.png","hash":"81e0b17f985eeabad604e722675c35bac7d8cd3c","modified":1682596824795},{"_id":"public/image/image-20210917201523669.png","hash":"11a7dcb2a0fe39a5b58404ab8fd63ae38ab41b54","modified":1682596824795},{"_id":"public/image/image-20210917201922831.png","hash":"1a0d516910e1a7def3abe689437c42e7f581b906","modified":1682596824795},{"_id":"public/image/image-20210917221427930.png","hash":"8f0a5c16852d0220259e18927da040b8ec15f5f9","modified":1682596824795},{"_id":"public/image/image-20210917215958091.png","hash":"82431243d17625d469c8b7c0d07f30d55b992c4a","modified":1682596824795},{"_id":"public/image/image-20210918220338109.png","hash":"f3a467de3b0474afb259fa0268094d23cda3c0c0","modified":1682596824795},{"_id":"public/css/light_tritanopia_xoxo.css","hash":"27dc1169d00dd2ea91a9e4c9152bb9753813e693","modified":1682596824795},{"_id":"public/css/normalize.css","hash":"ebe0759bf259b6caeadee6137973481046ac5636","modified":1682596824795},{"_id":"public/js/xoxo.js","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1682596824795},{"_id":"public/css/xoxo.css","hash":"5705f0ca54325a6c9c944249ec30a84df81bd1ee","modified":1682596824795},{"_id":"public/css/xxoo.css","hash":"c3d0d559499adea9e89892b5d714f4ab00e0ffa9","modified":1682596824795},{"_id":"public/image/image-20210918232904623.png","hash":"868d2546b472a1d4844588d5a69377157504a62b","modified":1682596824795},{"_id":"public/image/image-20210527190012042.png","hash":"76fef99be6ed72dcab7aa7e2870fcdd7c51d8ef2","modified":1682596824795},{"_id":"public/image/image-20210527194926715.png","hash":"26dc1027aad324a97762bdcc4c7ebe580d78687c","modified":1682596824795},{"_id":"public/image/image-20210624165417791.png","hash":"422f6189f600e18d5754327dad9cfff1372ccab6","modified":1682596824795},{"_id":"public/image/image-20210911155916899.png","hash":"2b9826357f66dfc385576255901e61d51793895a","modified":1682596824795},{"_id":"public/image/image-20210911174110687.png","hash":"6590e2fcce95e68ac441a9667ba84dd0c6823328","modified":1682596824795},{"_id":"public/image/image-20210917163736458.png","hash":"4350f0b0af3d0baf9ef71e3dde0012f592976bfc","modified":1682596824795},{"_id":"public/image/image-20210917215913779.png","hash":"913f75192239b565af757b36480d6cbde126d2ea","modified":1682596824795},{"_id":"public/image/img-中文平台3.jpg","hash":"9ecfebd87fc6259c07dfe26f2545a04cbe57b0f4","modified":1682596824795},{"_id":"public/image/image-20210527195317973.png","hash":"6dc602d3c8a977bbb76c08f597d53f44ee96cf86","modified":1682596824795},{"_id":"public/image/image-20210620092032503.png","hash":"5cb0125f5da669e130ee259768f3b5f338b91da6","modified":1682596824795},{"_id":"public/image/image-20210727144149656.png","hash":"49cc6ce4985337a08ded1e2d86375a8d37a90bc9","modified":1682596824795},{"_id":"public/image/image-20210911175502834.png","hash":"83ac3416664b9bff1d4b18b215a871bfdc551878","modified":1682596824795},{"_id":"public/image/image-20210917161422535.png","hash":"c100b40e5ac9bfdc010c31bf160e86e0a67d35b8","modified":1682596824795},{"_id":"public/image/image-20210917193910191.png","hash":"8312c82d0e1d052f42fa3857c32b51b3406ecfe9","modified":1682596824795},{"_id":"public/image/img-中文平台2.jpg","hash":"f6c788d4eee1037aadd2c2fcd5814b3a58b4fa9a","modified":1682596824795},{"_id":"public/image/image-20210527193017688.png","hash":"a9936086853506ebc753f55573ceecaba8d80b5d","modified":1682596824795},{"_id":"public/image/image-20210527195451792.png","hash":"f101c0ac7391015111c44a79ba4281742144c7b9","modified":1682596824795},{"_id":"public/image/image-20210911160850121.png","hash":"44839cfaec20accde214b4f667fce0166a3206ec","modified":1682596824795},{"_id":"public/image/img-中文平台1.jpg","hash":"51dcfaf43ac8f3653885976b5b5469bdd0a49f74","modified":1682596824795},{"_id":"public/image/image-20210911165642280.png","hash":"26d582d4be83d7a21d11501e87a39877bd99b6e8","modified":1682596824795},{"_id":"public/image/image-20210917162700711.png","hash":"f0e9a3c2983a7f54767b78d90a9872ed166ba4f7","modified":1682596824795},{"_id":"public/image/image-20210917163335913.png","hash":"087d8735b5ac5810e3f708696c80bbc07a84fff8","modified":1682596824795},{"_id":"public/image/image-20210727142922916.png","hash":"528e7cc11ff1200b220d01ea0a24e9470f6ed463","modified":1682596824795},{"_id":"public/image/image-20210917161720855.png","hash":"cc3aeed622eeed7106fd9fa69533ac632b57d9a4","modified":1682596824795}],"Category":[{"name":"笔记","_id":"clgz2pfeo0004dl5zh0ife7v5"},{"name":"技术分享","_id":"clgz2pff2000ndl5zbwrx2lsw"},{"name":"操作手册","_id":"clgz2pff6000udl5z03csaw77"},{"name":"随便写","_id":"clgz2pff90012dl5z6w80fghl"}],"Data":[],"Page":[{"title":"Activity","date":"2019-03-01T05:45:13.000Z","type":"activity","_content":"","source":"activity/index.md","raw":"---\ntitle: Activity\ndate: 2019-03-01 13:45:13\ntype: \"activity\"\n---","updated":"2023-04-18T05:32:44.413Z","path":"activity/index.html","comments":1,"layout":"page","_id":"clgz2pfeh0000dl5z0sewgdnx","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"Categories","type":"categories","_content":"","source":"categories/index.md","raw":"---\ntitle: Categories\ntype: categories\n---","date":"2023-04-18T05:47:05.938Z","updated":"2023-04-18T05:47:05.921Z","path":"categories/index.html","comments":1,"layout":"page","_id":"clgz2pfem0002dl5z89it6e25","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"project","date":"2019-03-01T05:45:13.000Z","type":"project","_content":"","source":"project/index.md","raw":"---\ntitle: project\ndate: 2019-03-01 13:45:13\ntype: \"project\"\n---","updated":"2023-04-18T05:37:34.649Z","path":"project/index.html","comments":1,"layout":"page","_id":"clgz2pfeq0006dl5z0v98feim","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"search","type":"search","_content":"","source":"search/index.md","raw":"---\ntitle: search\ntype: \"search\"\n---","date":"2023-04-18T07:31:16.198Z","updated":"2023-04-18T07:03:32.898Z","path":"search/index.html","comments":1,"layout":"page","_id":"clgz2pfes0008dl5zhgtv7ulw","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"Paper","date":"2023-04-17T02:00:00.000Z","type":"paper","comments":0,"_content":"","source":"paper/index.md","raw":"---\ntitle: Paper\ndate: 2023-04-17 10:00:00\ntype: \"paper\"\ncomments: false\n---\n","updated":"2023-04-18T07:03:17.161Z","path":"paper/index.html","layout":"page","_id":"clgz2pfet000adl5zf1131q1n","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"Paper1","date":"2023-04-17T02:00:00.000Z","_content":"\n[Paper1](https://example.com/paper1.pdf)\n","source":"paper/paper1.md","raw":"---\ntitle: Paper1\ndate: 2023-04-17 10:00:00\n---\n\n[Paper1](https://example.com/paper1.pdf)\n","updated":"2023-04-18T06:59:40.376Z","path":"paper/paper1.html","comments":1,"layout":"page","_id":"clgz2pfew000edl5z7zyghvdu","content":"<p><a href=\"https://example.com/paper1.pdf\">Paper1</a></p>\n","site":{"data":{}},"excerpt":"","more":"<p><a href=\"https://example.com/paper1.pdf\">Paper1</a></p>\n"},{"title":"tags","date":"2019-03-01T05:45:13.000Z","type":"tags","_content":"","source":"tags/index.md","raw":"---\ntitle: tags\ndate: 2019-03-01 13:45:13\ntype: \"tags\"\n---","updated":"2023-04-18T05:44:21.349Z","path":"tags/index.html","comments":1,"layout":"page","_id":"clgz2pfex000gdl5zctxwb9v7","content":"","site":{"data":{}},"excerpt":"","more":""}],"Post":[{"title":"23年第一季度顽固单词","date":"2023-04-10T03:18:34.000Z","_content":"\n# 顽固词汇\n\n<!-- more -->\n\n### 3.17\n\n需要你将我给的单词串成写作英语高分写作段落，上方先给出该篇单词多种释义的markdown表格，下方放上英文高分段落，最后放中文翻译，以下是单词：\n\nConvict,eradicate,massacre,harbor,burglar,blunt,stance,defect,reclaim,butcher, haul,tow,velvet,perish,\n\n### 3.18\n\n需要你将我给的单词串成写作英语高分写作段落，上方先给出该篇单词多种释义的markdown表格，下方放上英文高分段落，最后放中文翻译，以下是单词：\n\nBond,booth,breach,breed,chamber,cluster,convict,counsel,crew,cruise,clutch,\n\n### 3.19\n\n需要你将我给的单词串成写作英语高分写作段落，上方先给出该篇单词多种释义的markdown表格，下方放上英文高分段落，最后放中文翻译，以下是单词：\n\nFlatter, pine, reproach,tentative,elapse,gulf,draft,plausible\n\nTuck, creep,interact,blunt,penalize,annoy,sneeze,straw,embrace,chunk\n\nInduce,grope,equity,sack,booth,setback，\n\n### 3.20\n\n\n将我给的单词串成写作英语高分写作段落，上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：\n\nPlague,corporation,sober,contaminate,lash,merry,portrait,detect,portray\n\nDeparture,confer,hatred,comply,compartment,disposal,prey, disperse,stoop\n\nVariable,bond,counsel,burglar,dissolve,panorama,enrol，\n\n### 3.21\n\n将我给的单词串成写作英语高分写作段落，上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：\n\nDread,prey,quota,defect,malignant,whirl,sack,rake,scenario\n\nyield,consumption,despise,pigeon, probe,tame,dissolve,glow\n\n### 3.22\n\n将我给的单词串成写作英语高分写作段落，上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：\n\nReputation, tame,propagate,denounce,adhere,manifest,lapse,permeate, oblige,\n\nabsorb,prescribe,funeral,herald,embody,bait,proposal,inherit,deliberate\n\nDiscrete, hypothesis,convene,headquarters,scout,counsel,gracious\n\n### 3.23\n\n将我给的单词串成写作英语高分写作段落，上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：\n\npowder,manifest,sceptical,suffice,constitute,rage,crude,simultaneous.levy，\n\nProposition,detect, implication,broadcast,whilst,furnish,irritate,associate，\n\nDiscipline,emigrate,constituent,redundant,grand,broadcast,exclaim,levy\n\n### 3.24\n\n将我给的单词串成写作英语高分写作段落，上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：\n\nConstitution,accordingly,resume,discipline,lane,lapse,temptation,thread,inherent\n\nPersecute,constrain,speculate,term,jaw,coarse,conscious,subscribe\n\nBundle,arise,circumstance,compact,slump,latent,foremost, herald,guild\n\n### 3.25\n\n将我给的单词串成写作英语高分写作段落，上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：\n\nRevolve,utter,rash,choir,craft,constitution,criterion,cradle,instal,petty,\n\nWrench,revolt,sanction,ascertain,instalment,constituent\n\n### 3.26\n\n将我给的单词串成写作英语高分写作段落，上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：\n\nSplash,relate,stagger,heal,collar,speculate,sanction,cradle,grand,plant,\n\nBait,affection.proposal,fragile,moist,convene,avert,illuminate,deplore,\n\n### 3.27\n\n将我给的单词串成写作英语高分写作段落，上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：\n\nConvene,transaction,presume,utter,stem,discharge,flourish,beam,cluster,startle,revive,conspicuous,subscribe,deplore,parasite,workout,vacant,insight,crow,funding,spectacle,Induce,manufacture,archive,seam,manufacture,dense,infrared,illuminate,district,facility,scenario,proposition,backward,compact,founder,commend,denounce,buzz,Pickup,offensive,vain,flap,\n\n### 3.28\n\n将我给的单词串成写作英语高分写作段落（单词排序不分先后），上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词： \n\nExempt,cereal,permeate,mobilise,stagger,deduct,tedious，constitution，dread,imperial\n\nconsist,variable,stipulate,instalment,pioneer,settler,strike,slump,revive,interval,celsius,crush,lord,\n\nDistrict,coarse,coward,conspicuous,marvelous,splendid,dense,brass,rash,tray,substance,strand\n\n### 3.29\n\n将我给的单词串成写作英语高分写作段落（单词排序不分先后，文章要有条理），上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词： \n\nclutch,cluster,workout,dissolve,inventory,criterion,installment,descendant,bond,intensive,intimidate,strand,dense,speculate,scrutiny,remainder,pedestrian,extend,brutal,relate,reel,trench,irritate,contradict,inherent,firm,hoist,labor,integral,drift,graze,\n\n### 3.30\n\n将我给的单词串成写作英语高分写作段落（单词排序不分先后，文章要有条理），上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词： \n\nBully,velvet,tribute,spine,barrel,presume,mortal,anonymous,grant,slippery,subtract, powder,rein,jaw,intermittent,\n\n### 3.31\n\n将我给的单词串成写作英语高分写作段落（单词排序不分先后，文章要有条理），上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：\n\nLatent,adhere,division,symphony,puppet,authentic,spectacle，pond,sulphur,\n\nCheat, medium,vain,blush,rural,narrative,irritate,conspicuous,compact,trademark,\n\nForemost,permeate,sake,ring,fatigue,stimulate,pedestrian,strand,lateral,incur,equator,\n\n### 4.1\n\n将我给的单词串成写作英语高分写作段落（模仿马克吐温的文采，单词排序不分先后，文章要有条理），上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：\n\nMobilise,furnish,beware,critical,panorama,implicit,tub,pathetic,candidate, division,generalise,\n\nbrace,portrait,tram,drown,cardinal,hail,immigrant,trolley,\n\n### 4.2\n\n将我给的单词串成写作英语高分写作段落（模仿马克吐温的文采，单词排序不分先后，文章要有条理），上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：\n\nendure,maiden,paternal,strain,disposal,sketch,deficiency,peasant,cradle,cricket,Grand,spacious,divide,stagger,aggregate,pottery,census,grant,herald,instal,representative,cunning,Plausible, seam,amiable,intensive,constitute,brisk,avert,persecute,\n\n### 4.3\n\n将我给的单词串成写作英语高分写作段落（模仿马克吐温的文采，单词排序不分先后，文章要有条理），上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：\nOutfit,provided,booth,conclusion,beard,counsel,burden,marvelous,pickup,gracious,bully,distress,vain,rash,triple,spiritual,ego,strap,bulletin,perish, accommodate,flap,dairy,ministry,frown,suburb,immense,interval,resemble,inquire,notwithstanding,rein,predecessor,remnant,nevertheless,grace,bud,sake,envy,pathetic,instinct,fountain,puppet,foul,sneeze,rim,enclose,format,contingent,hoist,reed,\n\n### 4.4\n\n将我给的单词串成写作英语高分写作段落（模仿马克吐温的文采，单词排序不分先后，文章要有条理），上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：Plagiarism,fairy，insensitive, sneak,mayor,shrug,\n\n### 4.5\n\n将我给的单词串成写作英语高分写作段落（模仿马克吐温的文采，单词排序不分先后，文章要有条理），上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：\n\nSwarm,flexible,rational,artefact,stagger,stagger,wary,brisk,dairy,defect,pharmacy,frost,stain,cabinet,smash,raid,saddle,plague,sneak,snap,fairy,entrance,variance,\n\n### 4.6\n\n将我给的单词串成写作英语高分写作段落（模仿马克吐温的文采，单词排序不分先后，文章要有条理），上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：\n\nexpression,provided,wrap,exempt,coordination,cardinal,strain,heal,suspicious,enhance,submerge,organism,congress\n\n### 4.7\n\n将我给的单词串成写作英语高分写作段落（单词排序不分先后，文章要有条理），上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：\n\nDictation,remedy,rotate,respective,omit,nucleus,arbitrary,respective,inhabitant, fraction,\n\nmerchandise,\n\n### 4.8\n\n将我给的单词串成写作英语高分写作段落（单词排序不分先后，文章要有条理），上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：\n\nPronoun, sack,marvelous,reclaim,proposition,mortal,physician,circumstance,pant,deduct,jaw,weep,yield\n\n### 4.9\n\n将我给的单词串成写作英语高分写作段落（单词排序不分先后，文章要有条理），上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：\n\nParliament,intense,botany,interception,arrow,transaction,subtract,lapse,mobilise,dean,pathetic,beside,chill,palm,distress，drift,spine,petty,anonymous,\n\n### 4.15\n\n将我给的单词串成写作英语高分写作段落（单词排序不分先后，文章要有条理），上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词,最后给出单词覆盖率（%）：\n\nHumidity,ethnic,trival,conscious,fairy,ward,plague,daunting,sanction,beam,kin,geophysical,herald,contingent,snap,stretch,carpet,hoist,weary,rational,remedy.\n\nArbitrary,wicked,bachelor,peep,\n\n","source":"_posts/23年第一季度顽固词汇.md","raw":"---\ntitle: 23年第一季度顽固单词\ndate: 2023-04-10 11:18:34\ntags:\n- 英语词汇\n- 循环\n- prompt\ncategories: \n- 笔记\n---\n\n# 顽固词汇\n\n<!-- more -->\n\n### 3.17\n\n需要你将我给的单词串成写作英语高分写作段落，上方先给出该篇单词多种释义的markdown表格，下方放上英文高分段落，最后放中文翻译，以下是单词：\n\nConvict,eradicate,massacre,harbor,burglar,blunt,stance,defect,reclaim,butcher, haul,tow,velvet,perish,\n\n### 3.18\n\n需要你将我给的单词串成写作英语高分写作段落，上方先给出该篇单词多种释义的markdown表格，下方放上英文高分段落，最后放中文翻译，以下是单词：\n\nBond,booth,breach,breed,chamber,cluster,convict,counsel,crew,cruise,clutch,\n\n### 3.19\n\n需要你将我给的单词串成写作英语高分写作段落，上方先给出该篇单词多种释义的markdown表格，下方放上英文高分段落，最后放中文翻译，以下是单词：\n\nFlatter, pine, reproach,tentative,elapse,gulf,draft,plausible\n\nTuck, creep,interact,blunt,penalize,annoy,sneeze,straw,embrace,chunk\n\nInduce,grope,equity,sack,booth,setback，\n\n### 3.20\n\n\n将我给的单词串成写作英语高分写作段落，上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：\n\nPlague,corporation,sober,contaminate,lash,merry,portrait,detect,portray\n\nDeparture,confer,hatred,comply,compartment,disposal,prey, disperse,stoop\n\nVariable,bond,counsel,burglar,dissolve,panorama,enrol，\n\n### 3.21\n\n将我给的单词串成写作英语高分写作段落，上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：\n\nDread,prey,quota,defect,malignant,whirl,sack,rake,scenario\n\nyield,consumption,despise,pigeon, probe,tame,dissolve,glow\n\n### 3.22\n\n将我给的单词串成写作英语高分写作段落，上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：\n\nReputation, tame,propagate,denounce,adhere,manifest,lapse,permeate, oblige,\n\nabsorb,prescribe,funeral,herald,embody,bait,proposal,inherit,deliberate\n\nDiscrete, hypothesis,convene,headquarters,scout,counsel,gracious\n\n### 3.23\n\n将我给的单词串成写作英语高分写作段落，上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：\n\npowder,manifest,sceptical,suffice,constitute,rage,crude,simultaneous.levy，\n\nProposition,detect, implication,broadcast,whilst,furnish,irritate,associate，\n\nDiscipline,emigrate,constituent,redundant,grand,broadcast,exclaim,levy\n\n### 3.24\n\n将我给的单词串成写作英语高分写作段落，上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：\n\nConstitution,accordingly,resume,discipline,lane,lapse,temptation,thread,inherent\n\nPersecute,constrain,speculate,term,jaw,coarse,conscious,subscribe\n\nBundle,arise,circumstance,compact,slump,latent,foremost, herald,guild\n\n### 3.25\n\n将我给的单词串成写作英语高分写作段落，上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：\n\nRevolve,utter,rash,choir,craft,constitution,criterion,cradle,instal,petty,\n\nWrench,revolt,sanction,ascertain,instalment,constituent\n\n### 3.26\n\n将我给的单词串成写作英语高分写作段落，上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：\n\nSplash,relate,stagger,heal,collar,speculate,sanction,cradle,grand,plant,\n\nBait,affection.proposal,fragile,moist,convene,avert,illuminate,deplore,\n\n### 3.27\n\n将我给的单词串成写作英语高分写作段落，上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：\n\nConvene,transaction,presume,utter,stem,discharge,flourish,beam,cluster,startle,revive,conspicuous,subscribe,deplore,parasite,workout,vacant,insight,crow,funding,spectacle,Induce,manufacture,archive,seam,manufacture,dense,infrared,illuminate,district,facility,scenario,proposition,backward,compact,founder,commend,denounce,buzz,Pickup,offensive,vain,flap,\n\n### 3.28\n\n将我给的单词串成写作英语高分写作段落（单词排序不分先后），上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词： \n\nExempt,cereal,permeate,mobilise,stagger,deduct,tedious，constitution，dread,imperial\n\nconsist,variable,stipulate,instalment,pioneer,settler,strike,slump,revive,interval,celsius,crush,lord,\n\nDistrict,coarse,coward,conspicuous,marvelous,splendid,dense,brass,rash,tray,substance,strand\n\n### 3.29\n\n将我给的单词串成写作英语高分写作段落（单词排序不分先后，文章要有条理），上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词： \n\nclutch,cluster,workout,dissolve,inventory,criterion,installment,descendant,bond,intensive,intimidate,strand,dense,speculate,scrutiny,remainder,pedestrian,extend,brutal,relate,reel,trench,irritate,contradict,inherent,firm,hoist,labor,integral,drift,graze,\n\n### 3.30\n\n将我给的单词串成写作英语高分写作段落（单词排序不分先后，文章要有条理），上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词： \n\nBully,velvet,tribute,spine,barrel,presume,mortal,anonymous,grant,slippery,subtract, powder,rein,jaw,intermittent,\n\n### 3.31\n\n将我给的单词串成写作英语高分写作段落（单词排序不分先后，文章要有条理），上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：\n\nLatent,adhere,division,symphony,puppet,authentic,spectacle，pond,sulphur,\n\nCheat, medium,vain,blush,rural,narrative,irritate,conspicuous,compact,trademark,\n\nForemost,permeate,sake,ring,fatigue,stimulate,pedestrian,strand,lateral,incur,equator,\n\n### 4.1\n\n将我给的单词串成写作英语高分写作段落（模仿马克吐温的文采，单词排序不分先后，文章要有条理），上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：\n\nMobilise,furnish,beware,critical,panorama,implicit,tub,pathetic,candidate, division,generalise,\n\nbrace,portrait,tram,drown,cardinal,hail,immigrant,trolley,\n\n### 4.2\n\n将我给的单词串成写作英语高分写作段落（模仿马克吐温的文采，单词排序不分先后，文章要有条理），上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：\n\nendure,maiden,paternal,strain,disposal,sketch,deficiency,peasant,cradle,cricket,Grand,spacious,divide,stagger,aggregate,pottery,census,grant,herald,instal,representative,cunning,Plausible, seam,amiable,intensive,constitute,brisk,avert,persecute,\n\n### 4.3\n\n将我给的单词串成写作英语高分写作段落（模仿马克吐温的文采，单词排序不分先后，文章要有条理），上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：\nOutfit,provided,booth,conclusion,beard,counsel,burden,marvelous,pickup,gracious,bully,distress,vain,rash,triple,spiritual,ego,strap,bulletin,perish, accommodate,flap,dairy,ministry,frown,suburb,immense,interval,resemble,inquire,notwithstanding,rein,predecessor,remnant,nevertheless,grace,bud,sake,envy,pathetic,instinct,fountain,puppet,foul,sneeze,rim,enclose,format,contingent,hoist,reed,\n\n### 4.4\n\n将我给的单词串成写作英语高分写作段落（模仿马克吐温的文采，单词排序不分先后，文章要有条理），上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：Plagiarism,fairy，insensitive, sneak,mayor,shrug,\n\n### 4.5\n\n将我给的单词串成写作英语高分写作段落（模仿马克吐温的文采，单词排序不分先后，文章要有条理），上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：\n\nSwarm,flexible,rational,artefact,stagger,stagger,wary,brisk,dairy,defect,pharmacy,frost,stain,cabinet,smash,raid,saddle,plague,sneak,snap,fairy,entrance,variance,\n\n### 4.6\n\n将我给的单词串成写作英语高分写作段落（模仿马克吐温的文采，单词排序不分先后，文章要有条理），上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：\n\nexpression,provided,wrap,exempt,coordination,cardinal,strain,heal,suspicious,enhance,submerge,organism,congress\n\n### 4.7\n\n将我给的单词串成写作英语高分写作段落（单词排序不分先后，文章要有条理），上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：\n\nDictation,remedy,rotate,respective,omit,nucleus,arbitrary,respective,inhabitant, fraction,\n\nmerchandise,\n\n### 4.8\n\n将我给的单词串成写作英语高分写作段落（单词排序不分先后，文章要有条理），上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：\n\nPronoun, sack,marvelous,reclaim,proposition,mortal,physician,circumstance,pant,deduct,jaw,weep,yield\n\n### 4.9\n\n将我给的单词串成写作英语高分写作段落（单词排序不分先后，文章要有条理），上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：\n\nParliament,intense,botany,interception,arrow,transaction,subtract,lapse,mobilise,dean,pathetic,beside,chill,palm,distress，drift,spine,petty,anonymous,\n\n### 4.15\n\n将我给的单词串成写作英语高分写作段落（单词排序不分先后，文章要有条理），上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词,最后给出单词覆盖率（%）：\n\nHumidity,ethnic,trival,conscious,fairy,ward,plague,daunting,sanction,beam,kin,geophysical,herald,contingent,snap,stretch,carpet,hoist,weary,rational,remedy.\n\nArbitrary,wicked,bachelor,peep,\n\n","slug":"23年第一季度顽固词汇","published":1,"updated":"2023-04-20T10:45:10.848Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clgz2pfek0001dl5zbil03791","content":"<h1 id=\"顽固词汇\"><a href=\"#顽固词汇\" class=\"headerlink\" title=\"顽固词汇\"></a>顽固词汇</h1><span id=\"more\"></span>\n\n<h3 id=\"3-17\"><a href=\"#3-17\" class=\"headerlink\" title=\"3.17\"></a>3.17</h3><p>需要你将我给的单词串成写作英语高分写作段落，上方先给出该篇单词多种释义的markdown表格，下方放上英文高分段落，最后放中文翻译，以下是单词：</p>\n<p>Convict,eradicate,massacre,harbor,burglar,blunt,stance,defect,reclaim,butcher, haul,tow,velvet,perish,</p>\n<h3 id=\"3-18\"><a href=\"#3-18\" class=\"headerlink\" title=\"3.18\"></a>3.18</h3><p>需要你将我给的单词串成写作英语高分写作段落，上方先给出该篇单词多种释义的markdown表格，下方放上英文高分段落，最后放中文翻译，以下是单词：</p>\n<p>Bond,booth,breach,breed,chamber,cluster,convict,counsel,crew,cruise,clutch,</p>\n<h3 id=\"3-19\"><a href=\"#3-19\" class=\"headerlink\" title=\"3.19\"></a>3.19</h3><p>需要你将我给的单词串成写作英语高分写作段落，上方先给出该篇单词多种释义的markdown表格，下方放上英文高分段落，最后放中文翻译，以下是单词：</p>\n<p>Flatter, pine, reproach,tentative,elapse,gulf,draft,plausible</p>\n<p>Tuck, creep,interact,blunt,penalize,annoy,sneeze,straw,embrace,chunk</p>\n<p>Induce,grope,equity,sack,booth,setback，</p>\n<h3 id=\"3-20\"><a href=\"#3-20\" class=\"headerlink\" title=\"3.20\"></a>3.20</h3><p>将我给的单词串成写作英语高分写作段落，上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：</p>\n<p>Plague,corporation,sober,contaminate,lash,merry,portrait,detect,portray</p>\n<p>Departure,confer,hatred,comply,compartment,disposal,prey, disperse,stoop</p>\n<p>Variable,bond,counsel,burglar,dissolve,panorama,enrol，</p>\n<h3 id=\"3-21\"><a href=\"#3-21\" class=\"headerlink\" title=\"3.21\"></a>3.21</h3><p>将我给的单词串成写作英语高分写作段落，上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：</p>\n<p>Dread,prey,quota,defect,malignant,whirl,sack,rake,scenario</p>\n<p>yield,consumption,despise,pigeon, probe,tame,dissolve,glow</p>\n<h3 id=\"3-22\"><a href=\"#3-22\" class=\"headerlink\" title=\"3.22\"></a>3.22</h3><p>将我给的单词串成写作英语高分写作段落，上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：</p>\n<p>Reputation, tame,propagate,denounce,adhere,manifest,lapse,permeate, oblige,</p>\n<p>absorb,prescribe,funeral,herald,embody,bait,proposal,inherit,deliberate</p>\n<p>Discrete, hypothesis,convene,headquarters,scout,counsel,gracious</p>\n<h3 id=\"3-23\"><a href=\"#3-23\" class=\"headerlink\" title=\"3.23\"></a>3.23</h3><p>将我给的单词串成写作英语高分写作段落，上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：</p>\n<p>powder,manifest,sceptical,suffice,constitute,rage,crude,simultaneous.levy，</p>\n<p>Proposition,detect, implication,broadcast,whilst,furnish,irritate,associate，</p>\n<p>Discipline,emigrate,constituent,redundant,grand,broadcast,exclaim,levy</p>\n<h3 id=\"3-24\"><a href=\"#3-24\" class=\"headerlink\" title=\"3.24\"></a>3.24</h3><p>将我给的单词串成写作英语高分写作段落，上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：</p>\n<p>Constitution,accordingly,resume,discipline,lane,lapse,temptation,thread,inherent</p>\n<p>Persecute,constrain,speculate,term,jaw,coarse,conscious,subscribe</p>\n<p>Bundle,arise,circumstance,compact,slump,latent,foremost, herald,guild</p>\n<h3 id=\"3-25\"><a href=\"#3-25\" class=\"headerlink\" title=\"3.25\"></a>3.25</h3><p>将我给的单词串成写作英语高分写作段落，上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：</p>\n<p>Revolve,utter,rash,choir,craft,constitution,criterion,cradle,instal,petty,</p>\n<p>Wrench,revolt,sanction,ascertain,instalment,constituent</p>\n<h3 id=\"3-26\"><a href=\"#3-26\" class=\"headerlink\" title=\"3.26\"></a>3.26</h3><p>将我给的单词串成写作英语高分写作段落，上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：</p>\n<p>Splash,relate,stagger,heal,collar,speculate,sanction,cradle,grand,plant,</p>\n<p>Bait,affection.proposal,fragile,moist,convene,avert,illuminate,deplore,</p>\n<h3 id=\"3-27\"><a href=\"#3-27\" class=\"headerlink\" title=\"3.27\"></a>3.27</h3><p>将我给的单词串成写作英语高分写作段落，上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：</p>\n<p>Convene,transaction,presume,utter,stem,discharge,flourish,beam,cluster,startle,revive,conspicuous,subscribe,deplore,parasite,workout,vacant,insight,crow,funding,spectacle,Induce,manufacture,archive,seam,manufacture,dense,infrared,illuminate,district,facility,scenario,proposition,backward,compact,founder,commend,denounce,buzz,Pickup,offensive,vain,flap,</p>\n<h3 id=\"3-28\"><a href=\"#3-28\" class=\"headerlink\" title=\"3.28\"></a>3.28</h3><p>将我给的单词串成写作英语高分写作段落（单词排序不分先后），上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词： </p>\n<p>Exempt,cereal,permeate,mobilise,stagger,deduct,tedious，constitution，dread,imperial</p>\n<p>consist,variable,stipulate,instalment,pioneer,settler,strike,slump,revive,interval,celsius,crush,lord,</p>\n<p>District,coarse,coward,conspicuous,marvelous,splendid,dense,brass,rash,tray,substance,strand</p>\n<h3 id=\"3-29\"><a href=\"#3-29\" class=\"headerlink\" title=\"3.29\"></a>3.29</h3><p>将我给的单词串成写作英语高分写作段落（单词排序不分先后，文章要有条理），上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词： </p>\n<p>clutch,cluster,workout,dissolve,inventory,criterion,installment,descendant,bond,intensive,intimidate,strand,dense,speculate,scrutiny,remainder,pedestrian,extend,brutal,relate,reel,trench,irritate,contradict,inherent,firm,hoist,labor,integral,drift,graze,</p>\n<h3 id=\"3-30\"><a href=\"#3-30\" class=\"headerlink\" title=\"3.30\"></a>3.30</h3><p>将我给的单词串成写作英语高分写作段落（单词排序不分先后，文章要有条理），上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词： </p>\n<p>Bully,velvet,tribute,spine,barrel,presume,mortal,anonymous,grant,slippery,subtract, powder,rein,jaw,intermittent,</p>\n<h3 id=\"3-31\"><a href=\"#3-31\" class=\"headerlink\" title=\"3.31\"></a>3.31</h3><p>将我给的单词串成写作英语高分写作段落（单词排序不分先后，文章要有条理），上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：</p>\n<p>Latent,adhere,division,symphony,puppet,authentic,spectacle，pond,sulphur,</p>\n<p>Cheat, medium,vain,blush,rural,narrative,irritate,conspicuous,compact,trademark,</p>\n<p>Foremost,permeate,sake,ring,fatigue,stimulate,pedestrian,strand,lateral,incur,equator,</p>\n<h3 id=\"4-1\"><a href=\"#4-1\" class=\"headerlink\" title=\"4.1\"></a>4.1</h3><p>将我给的单词串成写作英语高分写作段落（模仿马克吐温的文采，单词排序不分先后，文章要有条理），上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：</p>\n<p>Mobilise,furnish,beware,critical,panorama,implicit,tub,pathetic,candidate, division,generalise,</p>\n<p>brace,portrait,tram,drown,cardinal,hail,immigrant,trolley,</p>\n<h3 id=\"4-2\"><a href=\"#4-2\" class=\"headerlink\" title=\"4.2\"></a>4.2</h3><p>将我给的单词串成写作英语高分写作段落（模仿马克吐温的文采，单词排序不分先后，文章要有条理），上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：</p>\n<p>endure,maiden,paternal,strain,disposal,sketch,deficiency,peasant,cradle,cricket,Grand,spacious,divide,stagger,aggregate,pottery,census,grant,herald,instal,representative,cunning,Plausible, seam,amiable,intensive,constitute,brisk,avert,persecute,</p>\n<h3 id=\"4-3\"><a href=\"#4-3\" class=\"headerlink\" title=\"4.3\"></a>4.3</h3><p>将我给的单词串成写作英语高分写作段落（模仿马克吐温的文采，单词排序不分先后，文章要有条理），上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：<br>Outfit,provided,booth,conclusion,beard,counsel,burden,marvelous,pickup,gracious,bully,distress,vain,rash,triple,spiritual,ego,strap,bulletin,perish, accommodate,flap,dairy,ministry,frown,suburb,immense,interval,resemble,inquire,notwithstanding,rein,predecessor,remnant,nevertheless,grace,bud,sake,envy,pathetic,instinct,fountain,puppet,foul,sneeze,rim,enclose,format,contingent,hoist,reed,</p>\n<h3 id=\"4-4\"><a href=\"#4-4\" class=\"headerlink\" title=\"4.4\"></a>4.4</h3><p>将我给的单词串成写作英语高分写作段落（模仿马克吐温的文采，单词排序不分先后，文章要有条理），上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：Plagiarism,fairy，insensitive, sneak,mayor,shrug,</p>\n<h3 id=\"4-5\"><a href=\"#4-5\" class=\"headerlink\" title=\"4.5\"></a>4.5</h3><p>将我给的单词串成写作英语高分写作段落（模仿马克吐温的文采，单词排序不分先后，文章要有条理），上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：</p>\n<p>Swarm,flexible,rational,artefact,stagger,stagger,wary,brisk,dairy,defect,pharmacy,frost,stain,cabinet,smash,raid,saddle,plague,sneak,snap,fairy,entrance,variance,</p>\n<h3 id=\"4-6\"><a href=\"#4-6\" class=\"headerlink\" title=\"4.6\"></a>4.6</h3><p>将我给的单词串成写作英语高分写作段落（模仿马克吐温的文采，单词排序不分先后，文章要有条理），上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：</p>\n<p>expression,provided,wrap,exempt,coordination,cardinal,strain,heal,suspicious,enhance,submerge,organism,congress</p>\n<h3 id=\"4-7\"><a href=\"#4-7\" class=\"headerlink\" title=\"4.7\"></a>4.7</h3><p>将我给的单词串成写作英语高分写作段落（单词排序不分先后，文章要有条理），上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：</p>\n<p>Dictation,remedy,rotate,respective,omit,nucleus,arbitrary,respective,inhabitant, fraction,</p>\n<p>merchandise,</p>\n<h3 id=\"4-8\"><a href=\"#4-8\" class=\"headerlink\" title=\"4.8\"></a>4.8</h3><p>将我给的单词串成写作英语高分写作段落（单词排序不分先后，文章要有条理），上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：</p>\n<p>Pronoun, sack,marvelous,reclaim,proposition,mortal,physician,circumstance,pant,deduct,jaw,weep,yield</p>\n<h3 id=\"4-9\"><a href=\"#4-9\" class=\"headerlink\" title=\"4.9\"></a>4.9</h3><p>将我给的单词串成写作英语高分写作段落（单词排序不分先后，文章要有条理），上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：</p>\n<p>Parliament,intense,botany,interception,arrow,transaction,subtract,lapse,mobilise,dean,pathetic,beside,chill,palm,distress，drift,spine,petty,anonymous,</p>\n<h3 id=\"4-15\"><a href=\"#4-15\" class=\"headerlink\" title=\"4.15\"></a>4.15</h3><p>将我给的单词串成写作英语高分写作段落（单词排序不分先后，文章要有条理），上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词,最后给出单词覆盖率（%）：</p>\n<p>Humidity,ethnic,trival,conscious,fairy,ward,plague,daunting,sanction,beam,kin,geophysical,herald,contingent,snap,stretch,carpet,hoist,weary,rational,remedy.</p>\n<p>Arbitrary,wicked,bachelor,peep,</p>\n","site":{"data":{}},"excerpt":"<h1 id=\"顽固词汇\"><a href=\"#顽固词汇\" class=\"headerlink\" title=\"顽固词汇\"></a>顽固词汇</h1>","more":"<h3 id=\"3-17\"><a href=\"#3-17\" class=\"headerlink\" title=\"3.17\"></a>3.17</h3><p>需要你将我给的单词串成写作英语高分写作段落，上方先给出该篇单词多种释义的markdown表格，下方放上英文高分段落，最后放中文翻译，以下是单词：</p>\n<p>Convict,eradicate,massacre,harbor,burglar,blunt,stance,defect,reclaim,butcher, haul,tow,velvet,perish,</p>\n<h3 id=\"3-18\"><a href=\"#3-18\" class=\"headerlink\" title=\"3.18\"></a>3.18</h3><p>需要你将我给的单词串成写作英语高分写作段落，上方先给出该篇单词多种释义的markdown表格，下方放上英文高分段落，最后放中文翻译，以下是单词：</p>\n<p>Bond,booth,breach,breed,chamber,cluster,convict,counsel,crew,cruise,clutch,</p>\n<h3 id=\"3-19\"><a href=\"#3-19\" class=\"headerlink\" title=\"3.19\"></a>3.19</h3><p>需要你将我给的单词串成写作英语高分写作段落，上方先给出该篇单词多种释义的markdown表格，下方放上英文高分段落，最后放中文翻译，以下是单词：</p>\n<p>Flatter, pine, reproach,tentative,elapse,gulf,draft,plausible</p>\n<p>Tuck, creep,interact,blunt,penalize,annoy,sneeze,straw,embrace,chunk</p>\n<p>Induce,grope,equity,sack,booth,setback，</p>\n<h3 id=\"3-20\"><a href=\"#3-20\" class=\"headerlink\" title=\"3.20\"></a>3.20</h3><p>将我给的单词串成写作英语高分写作段落，上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：</p>\n<p>Plague,corporation,sober,contaminate,lash,merry,portrait,detect,portray</p>\n<p>Departure,confer,hatred,comply,compartment,disposal,prey, disperse,stoop</p>\n<p>Variable,bond,counsel,burglar,dissolve,panorama,enrol，</p>\n<h3 id=\"3-21\"><a href=\"#3-21\" class=\"headerlink\" title=\"3.21\"></a>3.21</h3><p>将我给的单词串成写作英语高分写作段落，上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：</p>\n<p>Dread,prey,quota,defect,malignant,whirl,sack,rake,scenario</p>\n<p>yield,consumption,despise,pigeon, probe,tame,dissolve,glow</p>\n<h3 id=\"3-22\"><a href=\"#3-22\" class=\"headerlink\" title=\"3.22\"></a>3.22</h3><p>将我给的单词串成写作英语高分写作段落，上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：</p>\n<p>Reputation, tame,propagate,denounce,adhere,manifest,lapse,permeate, oblige,</p>\n<p>absorb,prescribe,funeral,herald,embody,bait,proposal,inherit,deliberate</p>\n<p>Discrete, hypothesis,convene,headquarters,scout,counsel,gracious</p>\n<h3 id=\"3-23\"><a href=\"#3-23\" class=\"headerlink\" title=\"3.23\"></a>3.23</h3><p>将我给的单词串成写作英语高分写作段落，上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：</p>\n<p>powder,manifest,sceptical,suffice,constitute,rage,crude,simultaneous.levy，</p>\n<p>Proposition,detect, implication,broadcast,whilst,furnish,irritate,associate，</p>\n<p>Discipline,emigrate,constituent,redundant,grand,broadcast,exclaim,levy</p>\n<h3 id=\"3-24\"><a href=\"#3-24\" class=\"headerlink\" title=\"3.24\"></a>3.24</h3><p>将我给的单词串成写作英语高分写作段落，上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：</p>\n<p>Constitution,accordingly,resume,discipline,lane,lapse,temptation,thread,inherent</p>\n<p>Persecute,constrain,speculate,term,jaw,coarse,conscious,subscribe</p>\n<p>Bundle,arise,circumstance,compact,slump,latent,foremost, herald,guild</p>\n<h3 id=\"3-25\"><a href=\"#3-25\" class=\"headerlink\" title=\"3.25\"></a>3.25</h3><p>将我给的单词串成写作英语高分写作段落，上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：</p>\n<p>Revolve,utter,rash,choir,craft,constitution,criterion,cradle,instal,petty,</p>\n<p>Wrench,revolt,sanction,ascertain,instalment,constituent</p>\n<h3 id=\"3-26\"><a href=\"#3-26\" class=\"headerlink\" title=\"3.26\"></a>3.26</h3><p>将我给的单词串成写作英语高分写作段落，上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：</p>\n<p>Splash,relate,stagger,heal,collar,speculate,sanction,cradle,grand,plant,</p>\n<p>Bait,affection.proposal,fragile,moist,convene,avert,illuminate,deplore,</p>\n<h3 id=\"3-27\"><a href=\"#3-27\" class=\"headerlink\" title=\"3.27\"></a>3.27</h3><p>将我给的单词串成写作英语高分写作段落，上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：</p>\n<p>Convene,transaction,presume,utter,stem,discharge,flourish,beam,cluster,startle,revive,conspicuous,subscribe,deplore,parasite,workout,vacant,insight,crow,funding,spectacle,Induce,manufacture,archive,seam,manufacture,dense,infrared,illuminate,district,facility,scenario,proposition,backward,compact,founder,commend,denounce,buzz,Pickup,offensive,vain,flap,</p>\n<h3 id=\"3-28\"><a href=\"#3-28\" class=\"headerlink\" title=\"3.28\"></a>3.28</h3><p>将我给的单词串成写作英语高分写作段落（单词排序不分先后），上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词： </p>\n<p>Exempt,cereal,permeate,mobilise,stagger,deduct,tedious，constitution，dread,imperial</p>\n<p>consist,variable,stipulate,instalment,pioneer,settler,strike,slump,revive,interval,celsius,crush,lord,</p>\n<p>District,coarse,coward,conspicuous,marvelous,splendid,dense,brass,rash,tray,substance,strand</p>\n<h3 id=\"3-29\"><a href=\"#3-29\" class=\"headerlink\" title=\"3.29\"></a>3.29</h3><p>将我给的单词串成写作英语高分写作段落（单词排序不分先后，文章要有条理），上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词： </p>\n<p>clutch,cluster,workout,dissolve,inventory,criterion,installment,descendant,bond,intensive,intimidate,strand,dense,speculate,scrutiny,remainder,pedestrian,extend,brutal,relate,reel,trench,irritate,contradict,inherent,firm,hoist,labor,integral,drift,graze,</p>\n<h3 id=\"3-30\"><a href=\"#3-30\" class=\"headerlink\" title=\"3.30\"></a>3.30</h3><p>将我给的单词串成写作英语高分写作段落（单词排序不分先后，文章要有条理），上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词： </p>\n<p>Bully,velvet,tribute,spine,barrel,presume,mortal,anonymous,grant,slippery,subtract, powder,rein,jaw,intermittent,</p>\n<h3 id=\"3-31\"><a href=\"#3-31\" class=\"headerlink\" title=\"3.31\"></a>3.31</h3><p>将我给的单词串成写作英语高分写作段落（单词排序不分先后，文章要有条理），上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：</p>\n<p>Latent,adhere,division,symphony,puppet,authentic,spectacle，pond,sulphur,</p>\n<p>Cheat, medium,vain,blush,rural,narrative,irritate,conspicuous,compact,trademark,</p>\n<p>Foremost,permeate,sake,ring,fatigue,stimulate,pedestrian,strand,lateral,incur,equator,</p>\n<h3 id=\"4-1\"><a href=\"#4-1\" class=\"headerlink\" title=\"4.1\"></a>4.1</h3><p>将我给的单词串成写作英语高分写作段落（模仿马克吐温的文采，单词排序不分先后，文章要有条理），上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：</p>\n<p>Mobilise,furnish,beware,critical,panorama,implicit,tub,pathetic,candidate, division,generalise,</p>\n<p>brace,portrait,tram,drown,cardinal,hail,immigrant,trolley,</p>\n<h3 id=\"4-2\"><a href=\"#4-2\" class=\"headerlink\" title=\"4.2\"></a>4.2</h3><p>将我给的单词串成写作英语高分写作段落（模仿马克吐温的文采，单词排序不分先后，文章要有条理），上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：</p>\n<p>endure,maiden,paternal,strain,disposal,sketch,deficiency,peasant,cradle,cricket,Grand,spacious,divide,stagger,aggregate,pottery,census,grant,herald,instal,representative,cunning,Plausible, seam,amiable,intensive,constitute,brisk,avert,persecute,</p>\n<h3 id=\"4-3\"><a href=\"#4-3\" class=\"headerlink\" title=\"4.3\"></a>4.3</h3><p>将我给的单词串成写作英语高分写作段落（模仿马克吐温的文采，单词排序不分先后，文章要有条理），上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：<br>Outfit,provided,booth,conclusion,beard,counsel,burden,marvelous,pickup,gracious,bully,distress,vain,rash,triple,spiritual,ego,strap,bulletin,perish, accommodate,flap,dairy,ministry,frown,suburb,immense,interval,resemble,inquire,notwithstanding,rein,predecessor,remnant,nevertheless,grace,bud,sake,envy,pathetic,instinct,fountain,puppet,foul,sneeze,rim,enclose,format,contingent,hoist,reed,</p>\n<h3 id=\"4-4\"><a href=\"#4-4\" class=\"headerlink\" title=\"4.4\"></a>4.4</h3><p>将我给的单词串成写作英语高分写作段落（模仿马克吐温的文采，单词排序不分先后，文章要有条理），上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：Plagiarism,fairy，insensitive, sneak,mayor,shrug,</p>\n<h3 id=\"4-5\"><a href=\"#4-5\" class=\"headerlink\" title=\"4.5\"></a>4.5</h3><p>将我给的单词串成写作英语高分写作段落（模仿马克吐温的文采，单词排序不分先后，文章要有条理），上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：</p>\n<p>Swarm,flexible,rational,artefact,stagger,stagger,wary,brisk,dairy,defect,pharmacy,frost,stain,cabinet,smash,raid,saddle,plague,sneak,snap,fairy,entrance,variance,</p>\n<h3 id=\"4-6\"><a href=\"#4-6\" class=\"headerlink\" title=\"4.6\"></a>4.6</h3><p>将我给的单词串成写作英语高分写作段落（模仿马克吐温的文采，单词排序不分先后，文章要有条理），上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：</p>\n<p>expression,provided,wrap,exempt,coordination,cardinal,strain,heal,suspicious,enhance,submerge,organism,congress</p>\n<h3 id=\"4-7\"><a href=\"#4-7\" class=\"headerlink\" title=\"4.7\"></a>4.7</h3><p>将我给的单词串成写作英语高分写作段落（单词排序不分先后，文章要有条理），上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：</p>\n<p>Dictation,remedy,rotate,respective,omit,nucleus,arbitrary,respective,inhabitant, fraction,</p>\n<p>merchandise,</p>\n<h3 id=\"4-8\"><a href=\"#4-8\" class=\"headerlink\" title=\"4.8\"></a>4.8</h3><p>将我给的单词串成写作英语高分写作段落（单词排序不分先后，文章要有条理），上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：</p>\n<p>Pronoun, sack,marvelous,reclaim,proposition,mortal,physician,circumstance,pant,deduct,jaw,weep,yield</p>\n<h3 id=\"4-9\"><a href=\"#4-9\" class=\"headerlink\" title=\"4.9\"></a>4.9</h3><p>将我给的单词串成写作英语高分写作段落（单词排序不分先后，文章要有条理），上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词：</p>\n<p>Parliament,intense,botany,interception,arrow,transaction,subtract,lapse,mobilise,dean,pathetic,beside,chill,palm,distress，drift,spine,petty,anonymous,</p>\n<h3 id=\"4-15\"><a href=\"#4-15\" class=\"headerlink\" title=\"4.15\"></a>4.15</h3><p>将我给的单词串成写作英语高分写作段落（单词排序不分先后，文章要有条理），上方先给出该篇单词多种中文释义的markdown表格，其中表格两列，列名：“单词” 、“释义”，下方放上英文高分段落，最后放中文翻译，不用给任何标题，以下是单词,最后给出单词覆盖率（%）：</p>\n<p>Humidity,ethnic,trival,conscious,fairy,ward,plague,daunting,sanction,beam,kin,geophysical,herald,contingent,snap,stretch,carpet,hoist,weary,rational,remedy.</p>\n<p>Arbitrary,wicked,bachelor,peep,</p>"},{"title":"今天学吐了","date":"2023-04-17T15:23:00.000Z","_content":"\n\n\n# 数学\n\n熟练下面公式，复听 积分基础 - 最简单的积分 多种初等变形推以下公式\n\n<!-- more -->\n\n$\\int a^x dx = \\frac{1}{\\ln a} a^x + C$\n$\\int \\tan x dx = -\\ln|\\cos x| + C$\n$\\int \\frac{1}{a^2+x^2} dx = \\frac{1}{a} \\arctan\\frac{x}{a} + C$\n$\\int \\frac{1}{a^2-x^2} dx = \\frac{1}{2a} \\ln\\left|\\frac{a+x}{a-x}\\right| + C$\n$\\int \\frac{1}{\\sqrt{a^2-x^2}} dx = \\arcsin\\frac{x}{a} + C$\n$\\int e^x dx = e^x + C$\n$\\int a^x \\ln a dx = a^x + C$\n$\\int \\log_a x dx = x\\log_a x - x + C$\n$\\int \\sin^n(x) dx = -\\frac{1}{n} \\sin^{n-1}(x) \\cos(x) + \\frac{n-1}{n} \\int \\sin^{n-2}(x) dx$\n$\\int \\cos^n(x) dx = \\frac{1}{n} \\cos^{n-1}(x) \\sin(x) + \\frac{n-1}{n} \\int \\cos^{n-2}(x) dx$\n$\\int \\sin(mx) \\sin(nx) dx = \\frac{1}{2} \\left[\\frac{\\cos[(m-n)x]}{m-n} - \\frac{\\cos[(m+n)x]}{m+n}\\right]$\n$\\int \\cos(mx) \\cos(nx) dx = \\frac{1}{2} \\left[\\frac{\\cos[(m-n)x]}{m-n} + \\frac{\\cos[(m+n)x]}{m+n}\\right]$\n$\\int \\sin(mx) \\cos(nx) dx = \\frac{1}{2} \\left[\\frac{\\sin[(m+n)x]}{m+n} - \\frac{\\sin[(m-n)x]}{m-n}\\right]$\n$\\int \\tan(x) dx = \\ln|\\sec(x)| + C$\n$\\int \\cot(x) dx = \\ln|\\sin(x)| + C$\n$\\int \\sec(x) dx = \\ln|\\sec(x) + \\tan(x)| + C$\n$\\int \\csc(x) dx = \\ln|\\csc(x) - \\cot(x)| + C$\n分部积分法：$\\int u(x) v'(x) dx = u(x) v(x) - \\int u'(x) v(x) dx$\n其中 u(x) 和 v(x) 都是可导的函数。\n\n代换积分法：设 u = g(x) 是 x 的可导函数，y = f(u)，则 $\\int f(g(x))g'(x) dx = \\int f(u) du$\n\n三角函数的和差化积公式：\n$\\sin(A \\pm B) = \\sin A \\cos B \\pm \\cos A \\sin B$\n$\\cos(A \\pm B) = \\cos A \\cos B \\mp \\sin A \\sin B$\n可以用来化简某些三角函数的积分式子。\n# 英语\n## part1:\nIn a small rural village, an amiable peasant, with a coarse beard and a backward cap, had an inherent affection for botany, tending to the fragile buds and plants in his humble garden. The peasant's authentic love for nature was evident in the way he would gently graze the leaves, his face glowing with a warm blush. A narrow lane adorned with a row of cricket sounds, led to the picturesque pond where the inhabitant's children would occasionally play, splashing water and laughing with merry expressions.\n\nNevertheless, the village had its own hardships. The brutal burden of a persistent drought had yielded a deficit in their water supply, causing distress among the community. The inhabitants convened in the village center, under the intense scrutiny of the sun, to discuss the pressing circumstance. The mayor, a man of immense stature, declared that the community must come together and seek a solution to eradicate this problem.\n\nIn a desperate effort to avert further crisis, a group of settlers, comprising of young and old, decided to explore the surroundings, hoping to stumble upon a potential water source. Their journey led them through a dense forest, encountering various species of wildlife. The air was filled with the intermittent sounds of the birds and the rustle of leaves, while the group trudged forward, consumed by fatigue.\n\nSuddenly, a young woman, in the crew, with an innate instinct for detection, stumbled upon a hidden path. As they ventured further, they discovered a concealed fountain, a remnant of their ancestors. The crystal-clear water gushing from the fountain revitalized their spirits, inducing a sense of hope and excitement. The villagers swiftly mobilized to construct a makeshift aqueduct, ensuring a steady flow of water back to their village.\n\nAs the water made its way through the heart of the village, it seemed to breathe new life into the parched land. The once-dreary gardens began to flourish with vibrant colors, and the villagers' faces beamed with gratitude and joy. The village had endured the ordeal through unity and determination, exemplifying the true power of community resilience. Their collective efforts transformed their environment, and as they gazed upon the thriving landscape, they knew that they had overcome adversity together, leaving a lasting legacy for the generations to come.\n\n在一个小乡村，一个和蔼可亲的农民，留着粗糙的胡子，戴着一顶反向的帽子，对植物学有着与生俱来的喜爱，他在自己简陋的花园里照顾着脆弱的花苞和植物。这个农民对自然的真挚热爱，从他轻轻抚摸叶子的方式中就可以看出来，他的脸上泛着温暖的红晕。一条狭窄的小巷，两旁鸣着蟋蟀的声音，通向一片如画的池塘，村民们的孩子偶尔会在那里嬉戏，溅起水花，笑得开心。\n\n然而，这个村子也有自己的困境。持续的干旱给他们的水供应带来了严重的短缺，给社区带来了很大的困扰。村民们聚集在村子的中心，在烈日的严密审视下，讨论当前的紧急情况。身材高大的市长宣布，整个社区必须团结起来，寻求消除这个问题的办法。\n\n为了避免进一步的危机，一群由年轻人和老年人组成的移民决定探险周围的环境，希望能找到一个潜在的水源。他们的旅程带领他们穿越了一片茂密的森林，邂逅了各种各样的野生动物。空气中充满了鸟儿的断断续续的鸣叫声和树叶沙沙作响的声音，而这群人在疲惫中继续前进。\n\n突然，队伍中的一位年轻女子凭借她与生俱来的侦查本能，发现了一条隐藏的小路。当他们继续前进时，他们发现了一个隐藏的喷泉，这是他们祖先留下的遗迹。从喷泉涌出的清澈的水激发了他们的精神，给他们带来了希望和兴奋。村民们迅速行动起来，搭建了一个临时的渠道，确保水稳定地流回他们的村子。\n\n当河水流经村庄中心时，它似乎给这片干枯的土地注入了新的生命。 曾经沉闷的花园开始绽放出生机勃勃的色彩，村民们的脸上洋溢着感激和喜悦。 村民们团结一致、坚韧不拔地经受住了磨难，体现了社区复原力的真正力量。 他们的共同努力改变了他们的环境，当他们注视着欣欣向荣的风景时，他们知道他们一起克服了逆境，为后代留下了持久的遗产 。\n\n## part2:\nIn an era where technology was advancing at a rapid pace, a renowned corporation embarked on a mission to develop an innovative device to enhance communication. The company's headquarters buzzed with excitement as the research team, consisting of top-notch engineers and scientists, convened to brainstorm potential ideas. The chief scientist, an amicable yet assertive individual, would frequently emphasize the importance of discipline, focus, and collaboration.\n\nTheir first prototype, a compact gadget with extraordinary capabilities, allowed users to interact with one another in real-time. The device harnessed the power of cutting-edge infrared technology to transmit voice and video data seamlessly. However, the prototype had its fair share of defects, including short battery life and intermittent connectivity issues. The engineers worked tirelessly to iron out these problems, fueled by their unwavering determination and a shared belief in the project's potential.\n\nMeanwhile, the marketing department was tasked with developing an advertising campaign to create hype around the product launch. They devised a series of advertisements that showcased the device's unique selling points, including its flexibility, wireless connectivity, and user-friendly interface. The marketing team's efforts soon paid off as consumers began to express interest in the product, eagerly anticipating its release.\n\nUnfortunately, the corporation faced a major setback when their rival company accused them of plagiarism, claiming that the device's design infringed on their patents. The allegations prompted a thorough investigation, and the matter was eventually brought before a court of law. The judge, a wise and fair individual, presided over the case, listening intently to both sides' arguments.\n\nIn the end, the court ruled in favor of the defendant, concluding that there was insufficient evidence to support the plaintiff's claims. The verdict was met with a collective sigh of relief from the corporation's employees, who had feared that their hard work would be in vain. The company's reputation remained intact, and they resumed their preparations for the product launch with renewed vigor.\n\nThe device's official release was met with widespread acclaim, as customers praised its intuitive design and advanced features. The corporation's sales skyrocketed, solidifying their position as a dominant player in the tech industry. In the face of adversity, the company had demonstrated resilience and adaptability, qualities that would continue to define their success in the years to come.\n\nThroughout the entire ordeal, the employees had remained united in their pursuit of innovation. Their unwavering commitment to excellence served as a testament to the power of teamwork and perseverance, traits that would shape the company's culture for generations to come.\n\n在一个科技飞速发展的时代，一家著名的公司开始了一项使命，开发一种创新的设备，以加强沟通。 由顶尖工程师和科学家组成的研究团队聚集在一起，对潜在的想法进行头脑风暴，公司总部一片兴奋。 首席科学家是一个友好而自信的人，他经常强调纪律、专注和合作的重要性。  \n\n他们的第一个原型是一个具有非凡功能的小型设备，允许用户与他人实时互动。 该设备利用尖端红外技术的力量无缝传输语音和视频数据。 然而，原型机也存在一些缺陷，包括电池寿命短和间歇性连接问题。 工程师们不知疲倦地工作，以解决这些问题，他们坚定的决心和对项目潜力的共同信念激励着他们。  \n\n与此同时，营销部门的任务是开展一场广告宣传活动，为产品发布造势。 他们设计了一系列广告来展示这款设备的独特卖点，包括它的灵活性、无线连接和用户友好的界面。 营销团队的努力很快得到了回报，因为消费者开始对产品表示兴趣，急切地期待着它的发布。  \n\n不幸的是，该公司遭遇了重大挫折，他们的竞争对手指控他们抄袭，声称该设备的设计侵犯了他们的专利。 这些指控引发了彻底的调查，并最终将此事提交法庭。 法官是一个明智而公正的人，他主持了这个案件，认真地听取了双方的论点。  \n\n最后，法院裁定被告胜诉，认为没有足够的证据支持原告的主张。 这一判决让公司员工集体松了一口气，他们曾担心自己的辛勤工作将付诸东流。 公司的声誉完好无损，他们以新的活力重新开始了产品发布的准备工作。  \n\n这款设备的正式发布受到了广泛的好评，消费者称赞其直观的设计和先进的功能。 该公司的销售额飙升，巩固了他们在科技行业的主导地位。 面对逆境，该公司表现出了韧性和适应能力，这些品质将继续决定他们在未来几年的成功。  \n\n在整个磨难中，员工们始终团结一致，追求创新。 他们对卓越的坚定不移的承诺证明了团队合作和毅力的力量，这些品质将塑造未来几代人的公司文化。\n\n> 考研真的还是蛮苦的\n>\n> GPT太酷了\n","source":"_posts/4.14今天学习量有点大.md","raw":"---\ntitle: 今天学吐了\ndate:  2023-04-17 23:23:00 \ntags:\n- 高等数学\n- 英语\n- 吐槽\ncategories: \n- 笔记\n---\n\n\n\n# 数学\n\n熟练下面公式，复听 积分基础 - 最简单的积分 多种初等变形推以下公式\n\n<!-- more -->\n\n$\\int a^x dx = \\frac{1}{\\ln a} a^x + C$\n$\\int \\tan x dx = -\\ln|\\cos x| + C$\n$\\int \\frac{1}{a^2+x^2} dx = \\frac{1}{a} \\arctan\\frac{x}{a} + C$\n$\\int \\frac{1}{a^2-x^2} dx = \\frac{1}{2a} \\ln\\left|\\frac{a+x}{a-x}\\right| + C$\n$\\int \\frac{1}{\\sqrt{a^2-x^2}} dx = \\arcsin\\frac{x}{a} + C$\n$\\int e^x dx = e^x + C$\n$\\int a^x \\ln a dx = a^x + C$\n$\\int \\log_a x dx = x\\log_a x - x + C$\n$\\int \\sin^n(x) dx = -\\frac{1}{n} \\sin^{n-1}(x) \\cos(x) + \\frac{n-1}{n} \\int \\sin^{n-2}(x) dx$\n$\\int \\cos^n(x) dx = \\frac{1}{n} \\cos^{n-1}(x) \\sin(x) + \\frac{n-1}{n} \\int \\cos^{n-2}(x) dx$\n$\\int \\sin(mx) \\sin(nx) dx = \\frac{1}{2} \\left[\\frac{\\cos[(m-n)x]}{m-n} - \\frac{\\cos[(m+n)x]}{m+n}\\right]$\n$\\int \\cos(mx) \\cos(nx) dx = \\frac{1}{2} \\left[\\frac{\\cos[(m-n)x]}{m-n} + \\frac{\\cos[(m+n)x]}{m+n}\\right]$\n$\\int \\sin(mx) \\cos(nx) dx = \\frac{1}{2} \\left[\\frac{\\sin[(m+n)x]}{m+n} - \\frac{\\sin[(m-n)x]}{m-n}\\right]$\n$\\int \\tan(x) dx = \\ln|\\sec(x)| + C$\n$\\int \\cot(x) dx = \\ln|\\sin(x)| + C$\n$\\int \\sec(x) dx = \\ln|\\sec(x) + \\tan(x)| + C$\n$\\int \\csc(x) dx = \\ln|\\csc(x) - \\cot(x)| + C$\n分部积分法：$\\int u(x) v'(x) dx = u(x) v(x) - \\int u'(x) v(x) dx$\n其中 u(x) 和 v(x) 都是可导的函数。\n\n代换积分法：设 u = g(x) 是 x 的可导函数，y = f(u)，则 $\\int f(g(x))g'(x) dx = \\int f(u) du$\n\n三角函数的和差化积公式：\n$\\sin(A \\pm B) = \\sin A \\cos B \\pm \\cos A \\sin B$\n$\\cos(A \\pm B) = \\cos A \\cos B \\mp \\sin A \\sin B$\n可以用来化简某些三角函数的积分式子。\n# 英语\n## part1:\nIn a small rural village, an amiable peasant, with a coarse beard and a backward cap, had an inherent affection for botany, tending to the fragile buds and plants in his humble garden. The peasant's authentic love for nature was evident in the way he would gently graze the leaves, his face glowing with a warm blush. A narrow lane adorned with a row of cricket sounds, led to the picturesque pond where the inhabitant's children would occasionally play, splashing water and laughing with merry expressions.\n\nNevertheless, the village had its own hardships. The brutal burden of a persistent drought had yielded a deficit in their water supply, causing distress among the community. The inhabitants convened in the village center, under the intense scrutiny of the sun, to discuss the pressing circumstance. The mayor, a man of immense stature, declared that the community must come together and seek a solution to eradicate this problem.\n\nIn a desperate effort to avert further crisis, a group of settlers, comprising of young and old, decided to explore the surroundings, hoping to stumble upon a potential water source. Their journey led them through a dense forest, encountering various species of wildlife. The air was filled with the intermittent sounds of the birds and the rustle of leaves, while the group trudged forward, consumed by fatigue.\n\nSuddenly, a young woman, in the crew, with an innate instinct for detection, stumbled upon a hidden path. As they ventured further, they discovered a concealed fountain, a remnant of their ancestors. The crystal-clear water gushing from the fountain revitalized their spirits, inducing a sense of hope and excitement. The villagers swiftly mobilized to construct a makeshift aqueduct, ensuring a steady flow of water back to their village.\n\nAs the water made its way through the heart of the village, it seemed to breathe new life into the parched land. The once-dreary gardens began to flourish with vibrant colors, and the villagers' faces beamed with gratitude and joy. The village had endured the ordeal through unity and determination, exemplifying the true power of community resilience. Their collective efforts transformed their environment, and as they gazed upon the thriving landscape, they knew that they had overcome adversity together, leaving a lasting legacy for the generations to come.\n\n在一个小乡村，一个和蔼可亲的农民，留着粗糙的胡子，戴着一顶反向的帽子，对植物学有着与生俱来的喜爱，他在自己简陋的花园里照顾着脆弱的花苞和植物。这个农民对自然的真挚热爱，从他轻轻抚摸叶子的方式中就可以看出来，他的脸上泛着温暖的红晕。一条狭窄的小巷，两旁鸣着蟋蟀的声音，通向一片如画的池塘，村民们的孩子偶尔会在那里嬉戏，溅起水花，笑得开心。\n\n然而，这个村子也有自己的困境。持续的干旱给他们的水供应带来了严重的短缺，给社区带来了很大的困扰。村民们聚集在村子的中心，在烈日的严密审视下，讨论当前的紧急情况。身材高大的市长宣布，整个社区必须团结起来，寻求消除这个问题的办法。\n\n为了避免进一步的危机，一群由年轻人和老年人组成的移民决定探险周围的环境，希望能找到一个潜在的水源。他们的旅程带领他们穿越了一片茂密的森林，邂逅了各种各样的野生动物。空气中充满了鸟儿的断断续续的鸣叫声和树叶沙沙作响的声音，而这群人在疲惫中继续前进。\n\n突然，队伍中的一位年轻女子凭借她与生俱来的侦查本能，发现了一条隐藏的小路。当他们继续前进时，他们发现了一个隐藏的喷泉，这是他们祖先留下的遗迹。从喷泉涌出的清澈的水激发了他们的精神，给他们带来了希望和兴奋。村民们迅速行动起来，搭建了一个临时的渠道，确保水稳定地流回他们的村子。\n\n当河水流经村庄中心时，它似乎给这片干枯的土地注入了新的生命。 曾经沉闷的花园开始绽放出生机勃勃的色彩，村民们的脸上洋溢着感激和喜悦。 村民们团结一致、坚韧不拔地经受住了磨难，体现了社区复原力的真正力量。 他们的共同努力改变了他们的环境，当他们注视着欣欣向荣的风景时，他们知道他们一起克服了逆境，为后代留下了持久的遗产 。\n\n## part2:\nIn an era where technology was advancing at a rapid pace, a renowned corporation embarked on a mission to develop an innovative device to enhance communication. The company's headquarters buzzed with excitement as the research team, consisting of top-notch engineers and scientists, convened to brainstorm potential ideas. The chief scientist, an amicable yet assertive individual, would frequently emphasize the importance of discipline, focus, and collaboration.\n\nTheir first prototype, a compact gadget with extraordinary capabilities, allowed users to interact with one another in real-time. The device harnessed the power of cutting-edge infrared technology to transmit voice and video data seamlessly. However, the prototype had its fair share of defects, including short battery life and intermittent connectivity issues. The engineers worked tirelessly to iron out these problems, fueled by their unwavering determination and a shared belief in the project's potential.\n\nMeanwhile, the marketing department was tasked with developing an advertising campaign to create hype around the product launch. They devised a series of advertisements that showcased the device's unique selling points, including its flexibility, wireless connectivity, and user-friendly interface. The marketing team's efforts soon paid off as consumers began to express interest in the product, eagerly anticipating its release.\n\nUnfortunately, the corporation faced a major setback when their rival company accused them of plagiarism, claiming that the device's design infringed on their patents. The allegations prompted a thorough investigation, and the matter was eventually brought before a court of law. The judge, a wise and fair individual, presided over the case, listening intently to both sides' arguments.\n\nIn the end, the court ruled in favor of the defendant, concluding that there was insufficient evidence to support the plaintiff's claims. The verdict was met with a collective sigh of relief from the corporation's employees, who had feared that their hard work would be in vain. The company's reputation remained intact, and they resumed their preparations for the product launch with renewed vigor.\n\nThe device's official release was met with widespread acclaim, as customers praised its intuitive design and advanced features. The corporation's sales skyrocketed, solidifying their position as a dominant player in the tech industry. In the face of adversity, the company had demonstrated resilience and adaptability, qualities that would continue to define their success in the years to come.\n\nThroughout the entire ordeal, the employees had remained united in their pursuit of innovation. Their unwavering commitment to excellence served as a testament to the power of teamwork and perseverance, traits that would shape the company's culture for generations to come.\n\n在一个科技飞速发展的时代，一家著名的公司开始了一项使命，开发一种创新的设备，以加强沟通。 由顶尖工程师和科学家组成的研究团队聚集在一起，对潜在的想法进行头脑风暴，公司总部一片兴奋。 首席科学家是一个友好而自信的人，他经常强调纪律、专注和合作的重要性。  \n\n他们的第一个原型是一个具有非凡功能的小型设备，允许用户与他人实时互动。 该设备利用尖端红外技术的力量无缝传输语音和视频数据。 然而，原型机也存在一些缺陷，包括电池寿命短和间歇性连接问题。 工程师们不知疲倦地工作，以解决这些问题，他们坚定的决心和对项目潜力的共同信念激励着他们。  \n\n与此同时，营销部门的任务是开展一场广告宣传活动，为产品发布造势。 他们设计了一系列广告来展示这款设备的独特卖点，包括它的灵活性、无线连接和用户友好的界面。 营销团队的努力很快得到了回报，因为消费者开始对产品表示兴趣，急切地期待着它的发布。  \n\n不幸的是，该公司遭遇了重大挫折，他们的竞争对手指控他们抄袭，声称该设备的设计侵犯了他们的专利。 这些指控引发了彻底的调查，并最终将此事提交法庭。 法官是一个明智而公正的人，他主持了这个案件，认真地听取了双方的论点。  \n\n最后，法院裁定被告胜诉，认为没有足够的证据支持原告的主张。 这一判决让公司员工集体松了一口气，他们曾担心自己的辛勤工作将付诸东流。 公司的声誉完好无损，他们以新的活力重新开始了产品发布的准备工作。  \n\n这款设备的正式发布受到了广泛的好评，消费者称赞其直观的设计和先进的功能。 该公司的销售额飙升，巩固了他们在科技行业的主导地位。 面对逆境，该公司表现出了韧性和适应能力，这些品质将继续决定他们在未来几年的成功。  \n\n在整个磨难中，员工们始终团结一致，追求创新。 他们对卓越的坚定不移的承诺证明了团队合作和毅力的力量，这些品质将塑造未来几代人的公司文化。\n\n> 考研真的还是蛮苦的\n>\n> GPT太酷了\n","slug":"4.14今天学习量有点大","published":1,"updated":"2023-04-20T10:46:09.271Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clgz2pfen0003dl5z4a0a68z2","content":"<h1 id=\"数学\"><a href=\"#数学\" class=\"headerlink\" title=\"数学\"></a>数学</h1><p>熟练下面公式，复听 积分基础 - 最简单的积分 多种初等变形推以下公式</p>\n<span id=\"more\"></span>\n\n<p>$\\int a^x dx = \\frac{1}{\\ln a} a^x + C$<br>$\\int \\tan x dx = -\\ln|\\cos x| + C$<br>$\\int \\frac{1}{a^2+x^2} dx = \\frac{1}{a} \\arctan\\frac{x}{a} + C$<br>$\\int \\frac{1}{a^2-x^2} dx = \\frac{1}{2a} \\ln\\left|\\frac{a+x}{a-x}\\right| + C$<br>$\\int \\frac{1}{\\sqrt{a^2-x^2}} dx = \\arcsin\\frac{x}{a} + C$<br>$\\int e^x dx = e^x + C$<br>$\\int a^x \\ln a dx = a^x + C$<br>$\\int \\log_a x dx = x\\log_a x - x + C$<br>$\\int \\sin^n(x) dx = -\\frac{1}{n} \\sin^{n-1}(x) \\cos(x) + \\frac{n-1}{n} \\int \\sin^{n-2}(x) dx$<br>$\\int \\cos^n(x) dx = \\frac{1}{n} \\cos^{n-1}(x) \\sin(x) + \\frac{n-1}{n} \\int \\cos^{n-2}(x) dx$<br>$\\int \\sin(mx) \\sin(nx) dx = \\frac{1}{2} \\left[\\frac{\\cos[(m-n)x]}{m-n} - \\frac{\\cos[(m+n)x]}{m+n}\\right]$<br>$\\int \\cos(mx) \\cos(nx) dx = \\frac{1}{2} \\left[\\frac{\\cos[(m-n)x]}{m-n} + \\frac{\\cos[(m+n)x]}{m+n}\\right]$<br>$\\int \\sin(mx) \\cos(nx) dx = \\frac{1}{2} \\left[\\frac{\\sin[(m+n)x]}{m+n} - \\frac{\\sin[(m-n)x]}{m-n}\\right]$<br>$\\int \\tan(x) dx = \\ln|\\sec(x)| + C$<br>$\\int \\cot(x) dx = \\ln|\\sin(x)| + C$<br>$\\int \\sec(x) dx = \\ln|\\sec(x) + \\tan(x)| + C$<br>$\\int \\csc(x) dx = \\ln|\\csc(x) - \\cot(x)| + C$<br>分部积分法：$\\int u(x) v’(x) dx = u(x) v(x) - \\int u’(x) v(x) dx$<br>其中 u(x) 和 v(x) 都是可导的函数。</p>\n<p>代换积分法：设 u = g(x) 是 x 的可导函数，y = f(u)，则 $\\int f(g(x))g’(x) dx = \\int f(u) du$</p>\n<p>三角函数的和差化积公式：<br>$\\sin(A \\pm B) = \\sin A \\cos B \\pm \\cos A \\sin B$<br>$\\cos(A \\pm B) = \\cos A \\cos B \\mp \\sin A \\sin B$<br>可以用来化简某些三角函数的积分式子。</p>\n<h1 id=\"英语\"><a href=\"#英语\" class=\"headerlink\" title=\"英语\"></a>英语</h1><h2 id=\"part1\"><a href=\"#part1\" class=\"headerlink\" title=\"part1:\"></a>part1:</h2><p>In a small rural village, an amiable peasant, with a coarse beard and a backward cap, had an inherent affection for botany, tending to the fragile buds and plants in his humble garden. The peasant’s authentic love for nature was evident in the way he would gently graze the leaves, his face glowing with a warm blush. A narrow lane adorned with a row of cricket sounds, led to the picturesque pond where the inhabitant’s children would occasionally play, splashing water and laughing with merry expressions.</p>\n<p>Nevertheless, the village had its own hardships. The brutal burden of a persistent drought had yielded a deficit in their water supply, causing distress among the community. The inhabitants convened in the village center, under the intense scrutiny of the sun, to discuss the pressing circumstance. The mayor, a man of immense stature, declared that the community must come together and seek a solution to eradicate this problem.</p>\n<p>In a desperate effort to avert further crisis, a group of settlers, comprising of young and old, decided to explore the surroundings, hoping to stumble upon a potential water source. Their journey led them through a dense forest, encountering various species of wildlife. The air was filled with the intermittent sounds of the birds and the rustle of leaves, while the group trudged forward, consumed by fatigue.</p>\n<p>Suddenly, a young woman, in the crew, with an innate instinct for detection, stumbled upon a hidden path. As they ventured further, they discovered a concealed fountain, a remnant of their ancestors. The crystal-clear water gushing from the fountain revitalized their spirits, inducing a sense of hope and excitement. The villagers swiftly mobilized to construct a makeshift aqueduct, ensuring a steady flow of water back to their village.</p>\n<p>As the water made its way through the heart of the village, it seemed to breathe new life into the parched land. The once-dreary gardens began to flourish with vibrant colors, and the villagers’ faces beamed with gratitude and joy. The village had endured the ordeal through unity and determination, exemplifying the true power of community resilience. Their collective efforts transformed their environment, and as they gazed upon the thriving landscape, they knew that they had overcome adversity together, leaving a lasting legacy for the generations to come.</p>\n<p>在一个小乡村，一个和蔼可亲的农民，留着粗糙的胡子，戴着一顶反向的帽子，对植物学有着与生俱来的喜爱，他在自己简陋的花园里照顾着脆弱的花苞和植物。这个农民对自然的真挚热爱，从他轻轻抚摸叶子的方式中就可以看出来，他的脸上泛着温暖的红晕。一条狭窄的小巷，两旁鸣着蟋蟀的声音，通向一片如画的池塘，村民们的孩子偶尔会在那里嬉戏，溅起水花，笑得开心。</p>\n<p>然而，这个村子也有自己的困境。持续的干旱给他们的水供应带来了严重的短缺，给社区带来了很大的困扰。村民们聚集在村子的中心，在烈日的严密审视下，讨论当前的紧急情况。身材高大的市长宣布，整个社区必须团结起来，寻求消除这个问题的办法。</p>\n<p>为了避免进一步的危机，一群由年轻人和老年人组成的移民决定探险周围的环境，希望能找到一个潜在的水源。他们的旅程带领他们穿越了一片茂密的森林，邂逅了各种各样的野生动物。空气中充满了鸟儿的断断续续的鸣叫声和树叶沙沙作响的声音，而这群人在疲惫中继续前进。</p>\n<p>突然，队伍中的一位年轻女子凭借她与生俱来的侦查本能，发现了一条隐藏的小路。当他们继续前进时，他们发现了一个隐藏的喷泉，这是他们祖先留下的遗迹。从喷泉涌出的清澈的水激发了他们的精神，给他们带来了希望和兴奋。村民们迅速行动起来，搭建了一个临时的渠道，确保水稳定地流回他们的村子。</p>\n<p>当河水流经村庄中心时，它似乎给这片干枯的土地注入了新的生命。 曾经沉闷的花园开始绽放出生机勃勃的色彩，村民们的脸上洋溢着感激和喜悦。 村民们团结一致、坚韧不拔地经受住了磨难，体现了社区复原力的真正力量。 他们的共同努力改变了他们的环境，当他们注视着欣欣向荣的风景时，他们知道他们一起克服了逆境，为后代留下了持久的遗产 。</p>\n<h2 id=\"part2\"><a href=\"#part2\" class=\"headerlink\" title=\"part2:\"></a>part2:</h2><p>In an era where technology was advancing at a rapid pace, a renowned corporation embarked on a mission to develop an innovative device to enhance communication. The company’s headquarters buzzed with excitement as the research team, consisting of top-notch engineers and scientists, convened to brainstorm potential ideas. The chief scientist, an amicable yet assertive individual, would frequently emphasize the importance of discipline, focus, and collaboration.</p>\n<p>Their first prototype, a compact gadget with extraordinary capabilities, allowed users to interact with one another in real-time. The device harnessed the power of cutting-edge infrared technology to transmit voice and video data seamlessly. However, the prototype had its fair share of defects, including short battery life and intermittent connectivity issues. The engineers worked tirelessly to iron out these problems, fueled by their unwavering determination and a shared belief in the project’s potential.</p>\n<p>Meanwhile, the marketing department was tasked with developing an advertising campaign to create hype around the product launch. They devised a series of advertisements that showcased the device’s unique selling points, including its flexibility, wireless connectivity, and user-friendly interface. The marketing team’s efforts soon paid off as consumers began to express interest in the product, eagerly anticipating its release.</p>\n<p>Unfortunately, the corporation faced a major setback when their rival company accused them of plagiarism, claiming that the device’s design infringed on their patents. The allegations prompted a thorough investigation, and the matter was eventually brought before a court of law. The judge, a wise and fair individual, presided over the case, listening intently to both sides’ arguments.</p>\n<p>In the end, the court ruled in favor of the defendant, concluding that there was insufficient evidence to support the plaintiff’s claims. The verdict was met with a collective sigh of relief from the corporation’s employees, who had feared that their hard work would be in vain. The company’s reputation remained intact, and they resumed their preparations for the product launch with renewed vigor.</p>\n<p>The device’s official release was met with widespread acclaim, as customers praised its intuitive design and advanced features. The corporation’s sales skyrocketed, solidifying their position as a dominant player in the tech industry. In the face of adversity, the company had demonstrated resilience and adaptability, qualities that would continue to define their success in the years to come.</p>\n<p>Throughout the entire ordeal, the employees had remained united in their pursuit of innovation. Their unwavering commitment to excellence served as a testament to the power of teamwork and perseverance, traits that would shape the company’s culture for generations to come.</p>\n<p>在一个科技飞速发展的时代，一家著名的公司开始了一项使命，开发一种创新的设备，以加强沟通。 由顶尖工程师和科学家组成的研究团队聚集在一起，对潜在的想法进行头脑风暴，公司总部一片兴奋。 首席科学家是一个友好而自信的人，他经常强调纪律、专注和合作的重要性。  </p>\n<p>他们的第一个原型是一个具有非凡功能的小型设备，允许用户与他人实时互动。 该设备利用尖端红外技术的力量无缝传输语音和视频数据。 然而，原型机也存在一些缺陷，包括电池寿命短和间歇性连接问题。 工程师们不知疲倦地工作，以解决这些问题，他们坚定的决心和对项目潜力的共同信念激励着他们。  </p>\n<p>与此同时，营销部门的任务是开展一场广告宣传活动，为产品发布造势。 他们设计了一系列广告来展示这款设备的独特卖点，包括它的灵活性、无线连接和用户友好的界面。 营销团队的努力很快得到了回报，因为消费者开始对产品表示兴趣，急切地期待着它的发布。  </p>\n<p>不幸的是，该公司遭遇了重大挫折，他们的竞争对手指控他们抄袭，声称该设备的设计侵犯了他们的专利。 这些指控引发了彻底的调查，并最终将此事提交法庭。 法官是一个明智而公正的人，他主持了这个案件，认真地听取了双方的论点。  </p>\n<p>最后，法院裁定被告胜诉，认为没有足够的证据支持原告的主张。 这一判决让公司员工集体松了一口气，他们曾担心自己的辛勤工作将付诸东流。 公司的声誉完好无损，他们以新的活力重新开始了产品发布的准备工作。  </p>\n<p>这款设备的正式发布受到了广泛的好评，消费者称赞其直观的设计和先进的功能。 该公司的销售额飙升，巩固了他们在科技行业的主导地位。 面对逆境，该公司表现出了韧性和适应能力，这些品质将继续决定他们在未来几年的成功。  </p>\n<p>在整个磨难中，员工们始终团结一致，追求创新。 他们对卓越的坚定不移的承诺证明了团队合作和毅力的力量，这些品质将塑造未来几代人的公司文化。</p>\n<blockquote>\n<p>考研真的还是蛮苦的</p>\n<p>GPT太酷了</p>\n</blockquote>\n","site":{"data":{}},"excerpt":"<h1 id=\"数学\"><a href=\"#数学\" class=\"headerlink\" title=\"数学\"></a>数学</h1><p>熟练下面公式，复听 积分基础 - 最简单的积分 多种初等变形推以下公式</p>","more":"<p>$\\int a^x dx = \\frac{1}{\\ln a} a^x + C$<br>$\\int \\tan x dx = -\\ln|\\cos x| + C$<br>$\\int \\frac{1}{a^2+x^2} dx = \\frac{1}{a} \\arctan\\frac{x}{a} + C$<br>$\\int \\frac{1}{a^2-x^2} dx = \\frac{1}{2a} \\ln\\left|\\frac{a+x}{a-x}\\right| + C$<br>$\\int \\frac{1}{\\sqrt{a^2-x^2}} dx = \\arcsin\\frac{x}{a} + C$<br>$\\int e^x dx = e^x + C$<br>$\\int a^x \\ln a dx = a^x + C$<br>$\\int \\log_a x dx = x\\log_a x - x + C$<br>$\\int \\sin^n(x) dx = -\\frac{1}{n} \\sin^{n-1}(x) \\cos(x) + \\frac{n-1}{n} \\int \\sin^{n-2}(x) dx$<br>$\\int \\cos^n(x) dx = \\frac{1}{n} \\cos^{n-1}(x) \\sin(x) + \\frac{n-1}{n} \\int \\cos^{n-2}(x) dx$<br>$\\int \\sin(mx) \\sin(nx) dx = \\frac{1}{2} \\left[\\frac{\\cos[(m-n)x]}{m-n} - \\frac{\\cos[(m+n)x]}{m+n}\\right]$<br>$\\int \\cos(mx) \\cos(nx) dx = \\frac{1}{2} \\left[\\frac{\\cos[(m-n)x]}{m-n} + \\frac{\\cos[(m+n)x]}{m+n}\\right]$<br>$\\int \\sin(mx) \\cos(nx) dx = \\frac{1}{2} \\left[\\frac{\\sin[(m+n)x]}{m+n} - \\frac{\\sin[(m-n)x]}{m-n}\\right]$<br>$\\int \\tan(x) dx = \\ln|\\sec(x)| + C$<br>$\\int \\cot(x) dx = \\ln|\\sin(x)| + C$<br>$\\int \\sec(x) dx = \\ln|\\sec(x) + \\tan(x)| + C$<br>$\\int \\csc(x) dx = \\ln|\\csc(x) - \\cot(x)| + C$<br>分部积分法：$\\int u(x) v’(x) dx = u(x) v(x) - \\int u’(x) v(x) dx$<br>其中 u(x) 和 v(x) 都是可导的函数。</p>\n<p>代换积分法：设 u = g(x) 是 x 的可导函数，y = f(u)，则 $\\int f(g(x))g’(x) dx = \\int f(u) du$</p>\n<p>三角函数的和差化积公式：<br>$\\sin(A \\pm B) = \\sin A \\cos B \\pm \\cos A \\sin B$<br>$\\cos(A \\pm B) = \\cos A \\cos B \\mp \\sin A \\sin B$<br>可以用来化简某些三角函数的积分式子。</p>\n<h1 id=\"英语\"><a href=\"#英语\" class=\"headerlink\" title=\"英语\"></a>英语</h1><h2 id=\"part1\"><a href=\"#part1\" class=\"headerlink\" title=\"part1:\"></a>part1:</h2><p>In a small rural village, an amiable peasant, with a coarse beard and a backward cap, had an inherent affection for botany, tending to the fragile buds and plants in his humble garden. The peasant’s authentic love for nature was evident in the way he would gently graze the leaves, his face glowing with a warm blush. A narrow lane adorned with a row of cricket sounds, led to the picturesque pond where the inhabitant’s children would occasionally play, splashing water and laughing with merry expressions.</p>\n<p>Nevertheless, the village had its own hardships. The brutal burden of a persistent drought had yielded a deficit in their water supply, causing distress among the community. The inhabitants convened in the village center, under the intense scrutiny of the sun, to discuss the pressing circumstance. The mayor, a man of immense stature, declared that the community must come together and seek a solution to eradicate this problem.</p>\n<p>In a desperate effort to avert further crisis, a group of settlers, comprising of young and old, decided to explore the surroundings, hoping to stumble upon a potential water source. Their journey led them through a dense forest, encountering various species of wildlife. The air was filled with the intermittent sounds of the birds and the rustle of leaves, while the group trudged forward, consumed by fatigue.</p>\n<p>Suddenly, a young woman, in the crew, with an innate instinct for detection, stumbled upon a hidden path. As they ventured further, they discovered a concealed fountain, a remnant of their ancestors. The crystal-clear water gushing from the fountain revitalized their spirits, inducing a sense of hope and excitement. The villagers swiftly mobilized to construct a makeshift aqueduct, ensuring a steady flow of water back to their village.</p>\n<p>As the water made its way through the heart of the village, it seemed to breathe new life into the parched land. The once-dreary gardens began to flourish with vibrant colors, and the villagers’ faces beamed with gratitude and joy. The village had endured the ordeal through unity and determination, exemplifying the true power of community resilience. Their collective efforts transformed their environment, and as they gazed upon the thriving landscape, they knew that they had overcome adversity together, leaving a lasting legacy for the generations to come.</p>\n<p>在一个小乡村，一个和蔼可亲的农民，留着粗糙的胡子，戴着一顶反向的帽子，对植物学有着与生俱来的喜爱，他在自己简陋的花园里照顾着脆弱的花苞和植物。这个农民对自然的真挚热爱，从他轻轻抚摸叶子的方式中就可以看出来，他的脸上泛着温暖的红晕。一条狭窄的小巷，两旁鸣着蟋蟀的声音，通向一片如画的池塘，村民们的孩子偶尔会在那里嬉戏，溅起水花，笑得开心。</p>\n<p>然而，这个村子也有自己的困境。持续的干旱给他们的水供应带来了严重的短缺，给社区带来了很大的困扰。村民们聚集在村子的中心，在烈日的严密审视下，讨论当前的紧急情况。身材高大的市长宣布，整个社区必须团结起来，寻求消除这个问题的办法。</p>\n<p>为了避免进一步的危机，一群由年轻人和老年人组成的移民决定探险周围的环境，希望能找到一个潜在的水源。他们的旅程带领他们穿越了一片茂密的森林，邂逅了各种各样的野生动物。空气中充满了鸟儿的断断续续的鸣叫声和树叶沙沙作响的声音，而这群人在疲惫中继续前进。</p>\n<p>突然，队伍中的一位年轻女子凭借她与生俱来的侦查本能，发现了一条隐藏的小路。当他们继续前进时，他们发现了一个隐藏的喷泉，这是他们祖先留下的遗迹。从喷泉涌出的清澈的水激发了他们的精神，给他们带来了希望和兴奋。村民们迅速行动起来，搭建了一个临时的渠道，确保水稳定地流回他们的村子。</p>\n<p>当河水流经村庄中心时，它似乎给这片干枯的土地注入了新的生命。 曾经沉闷的花园开始绽放出生机勃勃的色彩，村民们的脸上洋溢着感激和喜悦。 村民们团结一致、坚韧不拔地经受住了磨难，体现了社区复原力的真正力量。 他们的共同努力改变了他们的环境，当他们注视着欣欣向荣的风景时，他们知道他们一起克服了逆境，为后代留下了持久的遗产 。</p>\n<h2 id=\"part2\"><a href=\"#part2\" class=\"headerlink\" title=\"part2:\"></a>part2:</h2><p>In an era where technology was advancing at a rapid pace, a renowned corporation embarked on a mission to develop an innovative device to enhance communication. The company’s headquarters buzzed with excitement as the research team, consisting of top-notch engineers and scientists, convened to brainstorm potential ideas. The chief scientist, an amicable yet assertive individual, would frequently emphasize the importance of discipline, focus, and collaboration.</p>\n<p>Their first prototype, a compact gadget with extraordinary capabilities, allowed users to interact with one another in real-time. The device harnessed the power of cutting-edge infrared technology to transmit voice and video data seamlessly. However, the prototype had its fair share of defects, including short battery life and intermittent connectivity issues. The engineers worked tirelessly to iron out these problems, fueled by their unwavering determination and a shared belief in the project’s potential.</p>\n<p>Meanwhile, the marketing department was tasked with developing an advertising campaign to create hype around the product launch. They devised a series of advertisements that showcased the device’s unique selling points, including its flexibility, wireless connectivity, and user-friendly interface. The marketing team’s efforts soon paid off as consumers began to express interest in the product, eagerly anticipating its release.</p>\n<p>Unfortunately, the corporation faced a major setback when their rival company accused them of plagiarism, claiming that the device’s design infringed on their patents. The allegations prompted a thorough investigation, and the matter was eventually brought before a court of law. The judge, a wise and fair individual, presided over the case, listening intently to both sides’ arguments.</p>\n<p>In the end, the court ruled in favor of the defendant, concluding that there was insufficient evidence to support the plaintiff’s claims. The verdict was met with a collective sigh of relief from the corporation’s employees, who had feared that their hard work would be in vain. The company’s reputation remained intact, and they resumed their preparations for the product launch with renewed vigor.</p>\n<p>The device’s official release was met with widespread acclaim, as customers praised its intuitive design and advanced features. The corporation’s sales skyrocketed, solidifying their position as a dominant player in the tech industry. In the face of adversity, the company had demonstrated resilience and adaptability, qualities that would continue to define their success in the years to come.</p>\n<p>Throughout the entire ordeal, the employees had remained united in their pursuit of innovation. Their unwavering commitment to excellence served as a testament to the power of teamwork and perseverance, traits that would shape the company’s culture for generations to come.</p>\n<p>在一个科技飞速发展的时代，一家著名的公司开始了一项使命，开发一种创新的设备，以加强沟通。 由顶尖工程师和科学家组成的研究团队聚集在一起，对潜在的想法进行头脑风暴，公司总部一片兴奋。 首席科学家是一个友好而自信的人，他经常强调纪律、专注和合作的重要性。  </p>\n<p>他们的第一个原型是一个具有非凡功能的小型设备，允许用户与他人实时互动。 该设备利用尖端红外技术的力量无缝传输语音和视频数据。 然而，原型机也存在一些缺陷，包括电池寿命短和间歇性连接问题。 工程师们不知疲倦地工作，以解决这些问题，他们坚定的决心和对项目潜力的共同信念激励着他们。  </p>\n<p>与此同时，营销部门的任务是开展一场广告宣传活动，为产品发布造势。 他们设计了一系列广告来展示这款设备的独特卖点，包括它的灵活性、无线连接和用户友好的界面。 营销团队的努力很快得到了回报，因为消费者开始对产品表示兴趣，急切地期待着它的发布。  </p>\n<p>不幸的是，该公司遭遇了重大挫折，他们的竞争对手指控他们抄袭，声称该设备的设计侵犯了他们的专利。 这些指控引发了彻底的调查，并最终将此事提交法庭。 法官是一个明智而公正的人，他主持了这个案件，认真地听取了双方的论点。  </p>\n<p>最后，法院裁定被告胜诉，认为没有足够的证据支持原告的主张。 这一判决让公司员工集体松了一口气，他们曾担心自己的辛勤工作将付诸东流。 公司的声誉完好无损，他们以新的活力重新开始了产品发布的准备工作。  </p>\n<p>这款设备的正式发布受到了广泛的好评，消费者称赞其直观的设计和先进的功能。 该公司的销售额飙升，巩固了他们在科技行业的主导地位。 面对逆境，该公司表现出了韧性和适应能力，这些品质将继续决定他们在未来几年的成功。  </p>\n<p>在整个磨难中，员工们始终团结一致，追求创新。 他们对卓越的坚定不移的承诺证明了团队合作和毅力的力量，这些品质将塑造未来几代人的公司文化。</p>\n<blockquote>\n<p>考研真的还是蛮苦的</p>\n<p>GPT太酷了</p>\n</blockquote>"},{"title":"TypeScript开发游戏学习笔记","date":"2022-05-21T02:15:56.000Z","_content":"\n### “烂码”\n\n看之前写的杆踪球影中NPC这段代码可能确实存在一些潜在的问题。其中可能比较明显的是，NPC在Chapter.Total状态下的行为过于复杂，导致代码变得比较混乱难以维护。\n\n此外，NPC移动的速度也受到了限制，可能会导致玩家在进行游戏时感到不自然。现在觉得最好的做法是将代码进行重构，尽量将每个状态下的行为分开处理，并考虑到玩家在游戏中的体验。\n<!-- more -->\n\n### 截取某段\n\n```typescript\nelse if (this.stihs.chapter === Chapter.Total) {\n  if (this === this.stihs.redCharacters[5] || this === this.stihs.blueCharacters[5]) {\n    if (!this.locked) {\n      if (!this.isAutoMoving) {\n        const pos = this.node.getPosition();\n        const rand = 1 - 2 * randomRangeInt(0, 2);\n        pos.x += rand * 0.5;\n        if (-2.5 <= pos.x && pos.x <=2.5) {\n          this.isAutoMoving = true;\n          tween(this.node)\n          .to(0.5, { position: pos }, { easing: \"linear\" })\n          .call(() => {\n            this.isAutoMoving = false;\n          })\n          .start();\n        }\n      }\n    }\n  } else {\n    if (!this.locked) {\n      if (this.stihs.player?.gamePad) {\n        if (this.stihs.player.gamePad.dir.length() > 0.5) {\n          const skeletalAnimation = this.getComponent(\n            SkeletalAnimation\n          ) as SkeletalAnimation;\n          const animState1 = skeletalAnimation.getState(\"起步\");\n          const animState2 = skeletalAnimation.getState(\"溜冰\");\n          const animState3 = skeletalAnimation.getState(\"急停\");\n          if (!animState1.isPlaying && !animState2.isPlaying) {\n            skeletalAnimation.play(\"起步\");\n          }\n          const rigidBody = this.getComponent(RigidBody) as RigidBody;\n          let { x, y } = this.stihs.player.gamePad.dir;\n          let angle = Math.atan2(y, x);\n          const delta = Math.random() * Math.PI - Math.PI / 2;\n          angle += delta;\n          [x, y] = [Math.cos(angle), Math.sin(angle)];\n          rigidBody.applyForce(\n            new Vec3(\n              x * 5000 * deltaTime,\n              0,\n              y * -5000 * deltaTime\n            )\n          );\n          let v: Vec3 = new Vec3(0, 0, 0);\n          rigidBody.getLinearVelocity(v);\n          let vLen = v.length();\n          if (vLen > 7) {\n            v.divide(\n              new Vec3(1, 1, 1).multiplyScalar(vLen)\n            ).multiplyScalar(7);\n            vLen = 7;\n            rigidBody.setLinearVelocity(v);\n            if (animState1.isPlaying) {\n              animState1.stop();\n              skeletalAnimation.crossFade(\"溜冰\", 0.3);\n              animState2.speed = 1;\n            }\n          }\n          if (!this.facedTarget) {\n            this.dir = new Vec3(v.x / vLen, v.y / vLen, v.z / vLen);\n          }\n        } else {\n          const skeletalAnimation = this.getComponent(\n            SkeletalAnimation\n          ) as SkeletalAnimation;\n          const animState1 = skeletalAnimation.getState(\"起步\");\n          const animState2 = skeletalAnimation.getState(\"溜冰\");\n          const animState3 = skeletalAnimation.getState(\"急停\");\n          if (animState1.isPlaying) {\n            animState1.setTime(0);\n            animState1.stop();\n          }\n          if (animState2.isPlaying) {\n            skeletalAnimation.play(\"急停\");\n            animState3.repeatCount = 1;\n          }\n        }\n      }\n    }\n  }\n}\n\n```\n\n### 可以使用曲线函数调整NPC的移动速度：\n\n```typescript\nphpCopy code\n// 定义速度曲线函数\nconst speedCurve = new cc.AnimationCurve([\n  { time: 0, value: 0 },\n  { time: 0.25, value: 0.5 },\n  { time: 0.5, value: 1 },\n  { time: 0.75, value: 0.5 },\n  { time: 1, value: 0 }\n]);\n\n// 在 update 方法中使用曲线函数调整移动速度\nupdate(deltaTime: number) {\n  if (this.isAutoMoving && this.stihs) {\n    const speed = speedCurve.evaluate(this.elapsedTime / this.moveDuration) * this.maxSpeed;\n    // 使用 speed 进行移动\n  }\n}\n```\n\n### 再添加物理效果：\n\n```typescript\nkotlinCopy code\n// 定义 NPC 的物理属性\nconst mass = 1;\nconst friction = 0.5;\nconst restitution = 0.2;\n\n// 在初始化方法中为 NPC 添加刚体组件\nonLoad() {\n  const rigidbody = this.node.addComponent(cc.RigidBody);\n  rigidbody.type = cc.RigidBodyType.Dynamic;\n  rigidbody.gravityScale = 0;\n  rigidbody.mass = mass;\n  rigidbody.linearDamping = friction;\n  rigidbody.angularDamping = friction;\n  rigidbody.restitution = restitution;\n}\n\n// 在 update 方法中更新 NPC 的位置\nupdate(deltaTime: number) {\n  if (this.isAutoMoving && this.stihs) {\n    const velocity = cc.v2(this.moveDirection).normalize().mul(this.maxSpeed);\n    const force = velocity.mul(mass);\n    const rigidbody = this.node.getComponent(cc.RigidBody);\n    rigidbody.applyForceToCenter(force);\n  }\n}\n```\n\n### 然后解决在Chapter.Total状态下的行为过于复杂，导致代码变得比较混乱难以维护。\n\n直接继承 `Chapter.Shoot` 状态下的行为,将 `Chapter.Shoot` 状态下的行为提取成一个单独的方法或者函数，并将其放在一个可重用的地方。然后在需要使用这个行为的地方，调用该方法或函数即可。\n\n```typescript\nkotlinCopy code\nclass NPC extends Character {\n  private isAutoMoving: boolean = false;\n  private stihs: Stihs | null = null;\n\n  // ...\n\n  private moveRandomlyWithinRange(range: number) {\n    // 移动到随机的位置\n  }\n\n  private playSkatingAnimation(speed: number) {\n    // 播放溜冰动画\n  }\n\n  private updateBlockChapter() {\n    this.playSkatingAnimation(1.5); // 播放溜冰动画，速度为 1.5\n  }\n\n  private updateShootChapter() {\n    if (!this.isAutoMoving) {\n      this.isAutoMoving = true;\n      this.moveRandomlyWithinRange(10); // 在范围内随机移动\n    }\n  }\n\n  private updateTotalChapter() {\n    if (this instanceof SpecificNPC) {\n      this.updateShootChapter(); // 直接继承 Chapter.Shoot 状态下的行为\n    } else {\n      // 移动方向由玩家游戏手柄输入的方向确定，加上一些小的随机偏差\n      // 移动速度受到限制，超过一定速度会切换到溜冰动画\n      this.playSkatingAnimation(1.2);\n      // ...\n    }\n  }\n\n  public update() {\n    if (this.stihs === null || this.isLocked) {\n      return;\n    }\n\n    switch (this.stihs.currentChapter) {\n      case Chapter.Block:\n        this.updateBlockChapter();\n        break;\n      case Chapter.Shoot:\n        this.updateShootChapter();\n        break;\n      case Chapter.Total:\n        this.updateTotalChapter();\n        break;\n    }\n  }\n}\n```\n\n到此差不多了\n","source":"_posts/NPC代码分析.md","raw":"---\ntitle: TypeScript开发游戏学习笔记\ndate: 2022-05-21 10:15:56\ntags:\n  - TypeScript\n  - 游戏开发\n  - 前端开发\n  - 编程语言\n  - Web开发\n  - 游戏设计\n  - 前端框架\n  - 工具\n  - 学习笔记\n  - 教程\n  - 杆踪球影冰球游戏\ncategories:\n- 笔记\n---\n\n### “烂码”\n\n看之前写的杆踪球影中NPC这段代码可能确实存在一些潜在的问题。其中可能比较明显的是，NPC在Chapter.Total状态下的行为过于复杂，导致代码变得比较混乱难以维护。\n\n此外，NPC移动的速度也受到了限制，可能会导致玩家在进行游戏时感到不自然。现在觉得最好的做法是将代码进行重构，尽量将每个状态下的行为分开处理，并考虑到玩家在游戏中的体验。\n<!-- more -->\n\n### 截取某段\n\n```typescript\nelse if (this.stihs.chapter === Chapter.Total) {\n  if (this === this.stihs.redCharacters[5] || this === this.stihs.blueCharacters[5]) {\n    if (!this.locked) {\n      if (!this.isAutoMoving) {\n        const pos = this.node.getPosition();\n        const rand = 1 - 2 * randomRangeInt(0, 2);\n        pos.x += rand * 0.5;\n        if (-2.5 <= pos.x && pos.x <=2.5) {\n          this.isAutoMoving = true;\n          tween(this.node)\n          .to(0.5, { position: pos }, { easing: \"linear\" })\n          .call(() => {\n            this.isAutoMoving = false;\n          })\n          .start();\n        }\n      }\n    }\n  } else {\n    if (!this.locked) {\n      if (this.stihs.player?.gamePad) {\n        if (this.stihs.player.gamePad.dir.length() > 0.5) {\n          const skeletalAnimation = this.getComponent(\n            SkeletalAnimation\n          ) as SkeletalAnimation;\n          const animState1 = skeletalAnimation.getState(\"起步\");\n          const animState2 = skeletalAnimation.getState(\"溜冰\");\n          const animState3 = skeletalAnimation.getState(\"急停\");\n          if (!animState1.isPlaying && !animState2.isPlaying) {\n            skeletalAnimation.play(\"起步\");\n          }\n          const rigidBody = this.getComponent(RigidBody) as RigidBody;\n          let { x, y } = this.stihs.player.gamePad.dir;\n          let angle = Math.atan2(y, x);\n          const delta = Math.random() * Math.PI - Math.PI / 2;\n          angle += delta;\n          [x, y] = [Math.cos(angle), Math.sin(angle)];\n          rigidBody.applyForce(\n            new Vec3(\n              x * 5000 * deltaTime,\n              0,\n              y * -5000 * deltaTime\n            )\n          );\n          let v: Vec3 = new Vec3(0, 0, 0);\n          rigidBody.getLinearVelocity(v);\n          let vLen = v.length();\n          if (vLen > 7) {\n            v.divide(\n              new Vec3(1, 1, 1).multiplyScalar(vLen)\n            ).multiplyScalar(7);\n            vLen = 7;\n            rigidBody.setLinearVelocity(v);\n            if (animState1.isPlaying) {\n              animState1.stop();\n              skeletalAnimation.crossFade(\"溜冰\", 0.3);\n              animState2.speed = 1;\n            }\n          }\n          if (!this.facedTarget) {\n            this.dir = new Vec3(v.x / vLen, v.y / vLen, v.z / vLen);\n          }\n        } else {\n          const skeletalAnimation = this.getComponent(\n            SkeletalAnimation\n          ) as SkeletalAnimation;\n          const animState1 = skeletalAnimation.getState(\"起步\");\n          const animState2 = skeletalAnimation.getState(\"溜冰\");\n          const animState3 = skeletalAnimation.getState(\"急停\");\n          if (animState1.isPlaying) {\n            animState1.setTime(0);\n            animState1.stop();\n          }\n          if (animState2.isPlaying) {\n            skeletalAnimation.play(\"急停\");\n            animState3.repeatCount = 1;\n          }\n        }\n      }\n    }\n  }\n}\n\n```\n\n### 可以使用曲线函数调整NPC的移动速度：\n\n```typescript\nphpCopy code\n// 定义速度曲线函数\nconst speedCurve = new cc.AnimationCurve([\n  { time: 0, value: 0 },\n  { time: 0.25, value: 0.5 },\n  { time: 0.5, value: 1 },\n  { time: 0.75, value: 0.5 },\n  { time: 1, value: 0 }\n]);\n\n// 在 update 方法中使用曲线函数调整移动速度\nupdate(deltaTime: number) {\n  if (this.isAutoMoving && this.stihs) {\n    const speed = speedCurve.evaluate(this.elapsedTime / this.moveDuration) * this.maxSpeed;\n    // 使用 speed 进行移动\n  }\n}\n```\n\n### 再添加物理效果：\n\n```typescript\nkotlinCopy code\n// 定义 NPC 的物理属性\nconst mass = 1;\nconst friction = 0.5;\nconst restitution = 0.2;\n\n// 在初始化方法中为 NPC 添加刚体组件\nonLoad() {\n  const rigidbody = this.node.addComponent(cc.RigidBody);\n  rigidbody.type = cc.RigidBodyType.Dynamic;\n  rigidbody.gravityScale = 0;\n  rigidbody.mass = mass;\n  rigidbody.linearDamping = friction;\n  rigidbody.angularDamping = friction;\n  rigidbody.restitution = restitution;\n}\n\n// 在 update 方法中更新 NPC 的位置\nupdate(deltaTime: number) {\n  if (this.isAutoMoving && this.stihs) {\n    const velocity = cc.v2(this.moveDirection).normalize().mul(this.maxSpeed);\n    const force = velocity.mul(mass);\n    const rigidbody = this.node.getComponent(cc.RigidBody);\n    rigidbody.applyForceToCenter(force);\n  }\n}\n```\n\n### 然后解决在Chapter.Total状态下的行为过于复杂，导致代码变得比较混乱难以维护。\n\n直接继承 `Chapter.Shoot` 状态下的行为,将 `Chapter.Shoot` 状态下的行为提取成一个单独的方法或者函数，并将其放在一个可重用的地方。然后在需要使用这个行为的地方，调用该方法或函数即可。\n\n```typescript\nkotlinCopy code\nclass NPC extends Character {\n  private isAutoMoving: boolean = false;\n  private stihs: Stihs | null = null;\n\n  // ...\n\n  private moveRandomlyWithinRange(range: number) {\n    // 移动到随机的位置\n  }\n\n  private playSkatingAnimation(speed: number) {\n    // 播放溜冰动画\n  }\n\n  private updateBlockChapter() {\n    this.playSkatingAnimation(1.5); // 播放溜冰动画，速度为 1.5\n  }\n\n  private updateShootChapter() {\n    if (!this.isAutoMoving) {\n      this.isAutoMoving = true;\n      this.moveRandomlyWithinRange(10); // 在范围内随机移动\n    }\n  }\n\n  private updateTotalChapter() {\n    if (this instanceof SpecificNPC) {\n      this.updateShootChapter(); // 直接继承 Chapter.Shoot 状态下的行为\n    } else {\n      // 移动方向由玩家游戏手柄输入的方向确定，加上一些小的随机偏差\n      // 移动速度受到限制，超过一定速度会切换到溜冰动画\n      this.playSkatingAnimation(1.2);\n      // ...\n    }\n  }\n\n  public update() {\n    if (this.stihs === null || this.isLocked) {\n      return;\n    }\n\n    switch (this.stihs.currentChapter) {\n      case Chapter.Block:\n        this.updateBlockChapter();\n        break;\n      case Chapter.Shoot:\n        this.updateShootChapter();\n        break;\n      case Chapter.Total:\n        this.updateTotalChapter();\n        break;\n    }\n  }\n}\n```\n\n到此差不多了\n","slug":"NPC代码分析","published":1,"updated":"2023-04-19T12:02:39.035Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clgz2pfer0007dl5z1ltgesjy","content":"<h3 id=\"“烂码”\"><a href=\"#“烂码”\" class=\"headerlink\" title=\"“烂码”\"></a>“烂码”</h3><p>看之前写的杆踪球影中NPC这段代码可能确实存在一些潜在的问题。其中可能比较明显的是，NPC在Chapter.Total状态下的行为过于复杂，导致代码变得比较混乱难以维护。</p>\n<p>此外，NPC移动的速度也受到了限制，可能会导致玩家在进行游戏时感到不自然。现在觉得最好的做法是将代码进行重构，尽量将每个状态下的行为分开处理，并考虑到玩家在游戏中的体验。</p>\n<span id=\"more\"></span>\n\n<h3 id=\"截取某段\"><a href=\"#截取某段\" class=\"headerlink\" title=\"截取某段\"></a>截取某段</h3><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">stihs</span>.<span class=\"property\">chapter</span> === <span class=\"title class_\">Chapter</span>.<span class=\"property\">Total</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span> === <span class=\"variable language_\">this</span>.<span class=\"property\">stihs</span>.<span class=\"property\">redCharacters</span>[<span class=\"number\">5</span>] || <span class=\"variable language_\">this</span> === <span class=\"variable language_\">this</span>.<span class=\"property\">stihs</span>.<span class=\"property\">blueCharacters</span>[<span class=\"number\">5</span>]) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!<span class=\"variable language_\">this</span>.<span class=\"property\">locked</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (!<span class=\"variable language_\">this</span>.<span class=\"property\">isAutoMoving</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> pos = <span class=\"variable language_\">this</span>.<span class=\"property\">node</span>.<span class=\"title function_\">getPosition</span>();</span><br><span class=\"line\">        <span class=\"keyword\">const</span> rand = <span class=\"number\">1</span> - <span class=\"number\">2</span> * <span class=\"title function_\">randomRangeInt</span>(<span class=\"number\">0</span>, <span class=\"number\">2</span>);</span><br><span class=\"line\">        pos.<span class=\"property\">x</span> += rand * <span class=\"number\">0.5</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (-<span class=\"number\">2.5</span> &lt;= pos.<span class=\"property\">x</span> &amp;&amp; pos.<span class=\"property\">x</span> &lt;=<span class=\"number\">2.5</span>) &#123;</span><br><span class=\"line\">          <span class=\"variable language_\">this</span>.<span class=\"property\">isAutoMoving</span> = <span class=\"literal\">true</span>;</span><br><span class=\"line\">          <span class=\"title function_\">tween</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">node</span>)</span><br><span class=\"line\">          .<span class=\"title function_\">to</span>(<span class=\"number\">0.5</span>, &#123; <span class=\"attr\">position</span>: pos &#125;, &#123; <span class=\"attr\">easing</span>: <span class=\"string\">&quot;linear&quot;</span> &#125;)</span><br><span class=\"line\">          .<span class=\"title function_\">call</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"property\">isAutoMoving</span> = <span class=\"literal\">false</span>;</span><br><span class=\"line\">          &#125;)</span><br><span class=\"line\">          .<span class=\"title function_\">start</span>();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!<span class=\"variable language_\">this</span>.<span class=\"property\">locked</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">stihs</span>.<span class=\"property\">player</span>?.<span class=\"property\">gamePad</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">stihs</span>.<span class=\"property\">player</span>.<span class=\"property\">gamePad</span>.<span class=\"property\">dir</span>.<span class=\"title function_\">length</span>() &gt; <span class=\"number\">0.5</span>) &#123;</span><br><span class=\"line\">          <span class=\"keyword\">const</span> skeletalAnimation = <span class=\"variable language_\">this</span>.<span class=\"title function_\">getComponent</span>(</span><br><span class=\"line\">            <span class=\"title class_\">SkeletalAnimation</span></span><br><span class=\"line\">          ) <span class=\"keyword\">as</span> <span class=\"title class_\">SkeletalAnimation</span>;</span><br><span class=\"line\">          <span class=\"keyword\">const</span> animState1 = skeletalAnimation.<span class=\"title function_\">getState</span>(<span class=\"string\">&quot;起步&quot;</span>);</span><br><span class=\"line\">          <span class=\"keyword\">const</span> animState2 = skeletalAnimation.<span class=\"title function_\">getState</span>(<span class=\"string\">&quot;溜冰&quot;</span>);</span><br><span class=\"line\">          <span class=\"keyword\">const</span> animState3 = skeletalAnimation.<span class=\"title function_\">getState</span>(<span class=\"string\">&quot;急停&quot;</span>);</span><br><span class=\"line\">          <span class=\"keyword\">if</span> (!animState1.<span class=\"property\">isPlaying</span> &amp;&amp; !animState2.<span class=\"property\">isPlaying</span>) &#123;</span><br><span class=\"line\">            skeletalAnimation.<span class=\"title function_\">play</span>(<span class=\"string\">&quot;起步&quot;</span>);</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          <span class=\"keyword\">const</span> rigidBody = <span class=\"variable language_\">this</span>.<span class=\"title function_\">getComponent</span>(<span class=\"title class_\">RigidBody</span>) <span class=\"keyword\">as</span> <span class=\"title class_\">RigidBody</span>;</span><br><span class=\"line\">          <span class=\"keyword\">let</span> &#123; x, y &#125; = <span class=\"variable language_\">this</span>.<span class=\"property\">stihs</span>.<span class=\"property\">player</span>.<span class=\"property\">gamePad</span>.<span class=\"property\">dir</span>;</span><br><span class=\"line\">          <span class=\"keyword\">let</span> angle = <span class=\"title class_\">Math</span>.<span class=\"title function_\">atan2</span>(y, x);</span><br><span class=\"line\">          <span class=\"keyword\">const</span> delta = <span class=\"title class_\">Math</span>.<span class=\"title function_\">random</span>() * <span class=\"title class_\">Math</span>.<span class=\"property\">PI</span> - <span class=\"title class_\">Math</span>.<span class=\"property\">PI</span> / <span class=\"number\">2</span>;</span><br><span class=\"line\">          angle += delta;</span><br><span class=\"line\">          [x, y] = [<span class=\"title class_\">Math</span>.<span class=\"title function_\">cos</span>(angle), <span class=\"title class_\">Math</span>.<span class=\"title function_\">sin</span>(angle)];</span><br><span class=\"line\">          rigidBody.<span class=\"title function_\">applyForce</span>(</span><br><span class=\"line\">            <span class=\"keyword\">new</span> <span class=\"title class_\">Vec3</span>(</span><br><span class=\"line\">              x * <span class=\"number\">5000</span> * deltaTime,</span><br><span class=\"line\">              <span class=\"number\">0</span>,</span><br><span class=\"line\">              y * -<span class=\"number\">5000</span> * deltaTime</span><br><span class=\"line\">            )</span><br><span class=\"line\">          );</span><br><span class=\"line\">          <span class=\"keyword\">let</span> <span class=\"attr\">v</span>: <span class=\"title class_\">Vec3</span> = <span class=\"keyword\">new</span> <span class=\"title class_\">Vec3</span>(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>);</span><br><span class=\"line\">          rigidBody.<span class=\"title function_\">getLinearVelocity</span>(v);</span><br><span class=\"line\">          <span class=\"keyword\">let</span> vLen = v.<span class=\"title function_\">length</span>();</span><br><span class=\"line\">          <span class=\"keyword\">if</span> (vLen &gt; <span class=\"number\">7</span>) &#123;</span><br><span class=\"line\">            v.<span class=\"title function_\">divide</span>(</span><br><span class=\"line\">              <span class=\"keyword\">new</span> <span class=\"title class_\">Vec3</span>(<span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>).<span class=\"title function_\">multiplyScalar</span>(vLen)</span><br><span class=\"line\">            ).<span class=\"title function_\">multiplyScalar</span>(<span class=\"number\">7</span>);</span><br><span class=\"line\">            vLen = <span class=\"number\">7</span>;</span><br><span class=\"line\">            rigidBody.<span class=\"title function_\">setLinearVelocity</span>(v);</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (animState1.<span class=\"property\">isPlaying</span>) &#123;</span><br><span class=\"line\">              animState1.<span class=\"title function_\">stop</span>();</span><br><span class=\"line\">              skeletalAnimation.<span class=\"title function_\">crossFade</span>(<span class=\"string\">&quot;溜冰&quot;</span>, <span class=\"number\">0.3</span>);</span><br><span class=\"line\">              animState2.<span class=\"property\">speed</span> = <span class=\"number\">1</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          <span class=\"keyword\">if</span> (!<span class=\"variable language_\">this</span>.<span class=\"property\">facedTarget</span>) &#123;</span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"property\">dir</span> = <span class=\"keyword\">new</span> <span class=\"title class_\">Vec3</span>(v.<span class=\"property\">x</span> / vLen, v.<span class=\"property\">y</span> / vLen, v.<span class=\"property\">z</span> / vLen);</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">          <span class=\"keyword\">const</span> skeletalAnimation = <span class=\"variable language_\">this</span>.<span class=\"title function_\">getComponent</span>(</span><br><span class=\"line\">            <span class=\"title class_\">SkeletalAnimation</span></span><br><span class=\"line\">          ) <span class=\"keyword\">as</span> <span class=\"title class_\">SkeletalAnimation</span>;</span><br><span class=\"line\">          <span class=\"keyword\">const</span> animState1 = skeletalAnimation.<span class=\"title function_\">getState</span>(<span class=\"string\">&quot;起步&quot;</span>);</span><br><span class=\"line\">          <span class=\"keyword\">const</span> animState2 = skeletalAnimation.<span class=\"title function_\">getState</span>(<span class=\"string\">&quot;溜冰&quot;</span>);</span><br><span class=\"line\">          <span class=\"keyword\">const</span> animState3 = skeletalAnimation.<span class=\"title function_\">getState</span>(<span class=\"string\">&quot;急停&quot;</span>);</span><br><span class=\"line\">          <span class=\"keyword\">if</span> (animState1.<span class=\"property\">isPlaying</span>) &#123;</span><br><span class=\"line\">            animState1.<span class=\"title function_\">setTime</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\">            animState1.<span class=\"title function_\">stop</span>();</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          <span class=\"keyword\">if</span> (animState2.<span class=\"property\">isPlaying</span>) &#123;</span><br><span class=\"line\">            skeletalAnimation.<span class=\"title function_\">play</span>(<span class=\"string\">&quot;急停&quot;</span>);</span><br><span class=\"line\">            animState3.<span class=\"property\">repeatCount</span> = <span class=\"number\">1</span>;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"可以使用曲线函数调整NPC的移动速度：\"><a href=\"#可以使用曲线函数调整NPC的移动速度：\" class=\"headerlink\" title=\"可以使用曲线函数调整NPC的移动速度：\"></a>可以使用曲线函数调整NPC的移动速度：</h3><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">phpCopy code</span><br><span class=\"line\"><span class=\"comment\">// 定义速度曲线函数</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> speedCurve = <span class=\"keyword\">new</span> cc.<span class=\"title class_\">AnimationCurve</span>([</span><br><span class=\"line\">  &#123; <span class=\"attr\">time</span>: <span class=\"number\">0</span>, <span class=\"attr\">value</span>: <span class=\"number\">0</span> &#125;,</span><br><span class=\"line\">  &#123; <span class=\"attr\">time</span>: <span class=\"number\">0.25</span>, <span class=\"attr\">value</span>: <span class=\"number\">0.5</span> &#125;,</span><br><span class=\"line\">  &#123; <span class=\"attr\">time</span>: <span class=\"number\">0.5</span>, <span class=\"attr\">value</span>: <span class=\"number\">1</span> &#125;,</span><br><span class=\"line\">  &#123; <span class=\"attr\">time</span>: <span class=\"number\">0.75</span>, <span class=\"attr\">value</span>: <span class=\"number\">0.5</span> &#125;,</span><br><span class=\"line\">  &#123; <span class=\"attr\">time</span>: <span class=\"number\">1</span>, <span class=\"attr\">value</span>: <span class=\"number\">0</span> &#125;</span><br><span class=\"line\">]);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 在 update 方法中使用曲线函数调整移动速度</span></span><br><span class=\"line\"><span class=\"title function_\">update</span>(<span class=\"params\">deltaTime: <span class=\"built_in\">number</span></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">isAutoMoving</span> &amp;&amp; <span class=\"variable language_\">this</span>.<span class=\"property\">stihs</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> speed = speedCurve.evaluate(<span class=\"variable language_\">this</span>.<span class=\"property\">elapsedTime</span> / <span class=\"variable language_\">this</span>.<span class=\"property\">moveDuration</span>) * <span class=\"variable language_\">this</span>.<span class=\"property\">maxSpeed</span>;</span><br><span class=\"line\">    <span class=\"comment\">// 使用 speed 进行移动</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"再添加物理效果：\"><a href=\"#再添加物理效果：\" class=\"headerlink\" title=\"再添加物理效果：\"></a>再添加物理效果：</h3><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">kotlinCopy code</span><br><span class=\"line\"><span class=\"comment\">// 定义 NPC 的物理属性</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> mass = <span class=\"number\">1</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> friction = <span class=\"number\">0.5</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> restitution = <span class=\"number\">0.2</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 在初始化方法中为 NPC 添加刚体组件</span></span><br><span class=\"line\"><span class=\"title function_\">onLoad</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> rigidbody = <span class=\"variable language_\">this</span>.<span class=\"property\">node</span>.<span class=\"title function_\">addComponent</span>(cc.<span class=\"property\">RigidBody</span>);</span><br><span class=\"line\">  rigidbody.<span class=\"property\">type</span> = cc.<span class=\"property\">RigidBodyType</span>.<span class=\"property\">Dynamic</span>;</span><br><span class=\"line\">  rigidbody.<span class=\"property\">gravityScale</span> = <span class=\"number\">0</span>;</span><br><span class=\"line\">  rigidbody.<span class=\"property\">mass</span> = mass;</span><br><span class=\"line\">  rigidbody.<span class=\"property\">linearDamping</span> = friction;</span><br><span class=\"line\">  rigidbody.<span class=\"property\">angularDamping</span> = friction;</span><br><span class=\"line\">  rigidbody.<span class=\"property\">restitution</span> = restitution;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 在 update 方法中更新 NPC 的位置</span></span><br><span class=\"line\"><span class=\"title function_\">update</span>(<span class=\"params\">deltaTime: <span class=\"built_in\">number</span></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">isAutoMoving</span> &amp;&amp; <span class=\"variable language_\">this</span>.<span class=\"property\">stihs</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> velocity = cc.<span class=\"title function_\">v2</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">moveDirection</span>).<span class=\"title function_\">normalize</span>().<span class=\"title function_\">mul</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">maxSpeed</span>);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> force = velocity.<span class=\"title function_\">mul</span>(mass);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> rigidbody = <span class=\"variable language_\">this</span>.<span class=\"property\">node</span>.<span class=\"title function_\">getComponent</span>(cc.<span class=\"property\">RigidBody</span>);</span><br><span class=\"line\">    rigidbody.<span class=\"title function_\">applyForceToCenter</span>(force);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"然后解决在Chapter-Total状态下的行为过于复杂，导致代码变得比较混乱难以维护。\"><a href=\"#然后解决在Chapter-Total状态下的行为过于复杂，导致代码变得比较混乱难以维护。\" class=\"headerlink\" title=\"然后解决在Chapter.Total状态下的行为过于复杂，导致代码变得比较混乱难以维护。\"></a>然后解决在Chapter.Total状态下的行为过于复杂，导致代码变得比较混乱难以维护。</h3><p>直接继承 <code>Chapter.Shoot</code> 状态下的行为,将 <code>Chapter.Shoot</code> 状态下的行为提取成一个单独的方法或者函数，并将其放在一个可重用的地方。然后在需要使用这个行为的地方，调用该方法或函数即可。</p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">kotlinCopy code</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">NPC</span> <span class=\"keyword\">extends</span> <span class=\"title class_ inherited__\">Character</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"attr\">isAutoMoving</span>: <span class=\"built_in\">boolean</span> = <span class=\"literal\">false</span>;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"attr\">stihs</span>: <span class=\"title class_\">Stihs</span> | <span class=\"literal\">null</span> = <span class=\"literal\">null</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"title function_\">moveRandomlyWithinRange</span>(<span class=\"params\">range: <span class=\"built_in\">number</span></span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 移动到随机的位置</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"title function_\">playSkatingAnimation</span>(<span class=\"params\">speed: <span class=\"built_in\">number</span></span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 播放溜冰动画</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"title function_\">updateBlockChapter</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"title function_\">playSkatingAnimation</span>(<span class=\"number\">1.5</span>); <span class=\"comment\">// 播放溜冰动画，速度为 1.5</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"title function_\">updateShootChapter</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!<span class=\"variable language_\">this</span>.<span class=\"property\">isAutoMoving</span>) &#123;</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">isAutoMoving</span> = <span class=\"literal\">true</span>;</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"title function_\">moveRandomlyWithinRange</span>(<span class=\"number\">10</span>); <span class=\"comment\">// 在范围内随机移动</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"title function_\">updateTotalChapter</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span> <span class=\"keyword\">instanceof</span> <span class=\"title class_\">SpecificNPC</span>) &#123;</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"title function_\">updateShootChapter</span>(); <span class=\"comment\">// 直接继承 Chapter.Shoot 状态下的行为</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"comment\">// 移动方向由玩家游戏手柄输入的方向确定，加上一些小的随机偏差</span></span><br><span class=\"line\">      <span class=\"comment\">// 移动速度受到限制，超过一定速度会切换到溜冰动画</span></span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"title function_\">playSkatingAnimation</span>(<span class=\"number\">1.2</span>);</span><br><span class=\"line\">      <span class=\"comment\">// ...</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"title function_\">update</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">stihs</span> === <span class=\"literal\">null</span> || <span class=\"variable language_\">this</span>.<span class=\"property\">isLocked</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">switch</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">stihs</span>.<span class=\"property\">currentChapter</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">case</span> <span class=\"title class_\">Chapter</span>.<span class=\"property\">Block</span>:</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"title function_\">updateBlockChapter</span>();</span><br><span class=\"line\">        <span class=\"keyword\">break</span>;</span><br><span class=\"line\">      <span class=\"keyword\">case</span> <span class=\"title class_\">Chapter</span>.<span class=\"property\">Shoot</span>:</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"title function_\">updateShootChapter</span>();</span><br><span class=\"line\">        <span class=\"keyword\">break</span>;</span><br><span class=\"line\">      <span class=\"keyword\">case</span> <span class=\"title class_\">Chapter</span>.<span class=\"property\">Total</span>:</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"title function_\">updateTotalChapter</span>();</span><br><span class=\"line\">        <span class=\"keyword\">break</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>到此差不多了</p>\n","site":{"data":{}},"excerpt":"<h3 id=\"“烂码”\"><a href=\"#“烂码”\" class=\"headerlink\" title=\"“烂码”\"></a>“烂码”</h3><p>看之前写的杆踪球影中NPC这段代码可能确实存在一些潜在的问题。其中可能比较明显的是，NPC在Chapter.Total状态下的行为过于复杂，导致代码变得比较混乱难以维护。</p>\n<p>此外，NPC移动的速度也受到了限制，可能会导致玩家在进行游戏时感到不自然。现在觉得最好的做法是将代码进行重构，尽量将每个状态下的行为分开处理，并考虑到玩家在游戏中的体验。</p>","more":"<h3 id=\"截取某段\"><a href=\"#截取某段\" class=\"headerlink\" title=\"截取某段\"></a>截取某段</h3><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">stihs</span>.<span class=\"property\">chapter</span> === <span class=\"title class_\">Chapter</span>.<span class=\"property\">Total</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span> === <span class=\"variable language_\">this</span>.<span class=\"property\">stihs</span>.<span class=\"property\">redCharacters</span>[<span class=\"number\">5</span>] || <span class=\"variable language_\">this</span> === <span class=\"variable language_\">this</span>.<span class=\"property\">stihs</span>.<span class=\"property\">blueCharacters</span>[<span class=\"number\">5</span>]) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!<span class=\"variable language_\">this</span>.<span class=\"property\">locked</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (!<span class=\"variable language_\">this</span>.<span class=\"property\">isAutoMoving</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> pos = <span class=\"variable language_\">this</span>.<span class=\"property\">node</span>.<span class=\"title function_\">getPosition</span>();</span><br><span class=\"line\">        <span class=\"keyword\">const</span> rand = <span class=\"number\">1</span> - <span class=\"number\">2</span> * <span class=\"title function_\">randomRangeInt</span>(<span class=\"number\">0</span>, <span class=\"number\">2</span>);</span><br><span class=\"line\">        pos.<span class=\"property\">x</span> += rand * <span class=\"number\">0.5</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (-<span class=\"number\">2.5</span> &lt;= pos.<span class=\"property\">x</span> &amp;&amp; pos.<span class=\"property\">x</span> &lt;=<span class=\"number\">2.5</span>) &#123;</span><br><span class=\"line\">          <span class=\"variable language_\">this</span>.<span class=\"property\">isAutoMoving</span> = <span class=\"literal\">true</span>;</span><br><span class=\"line\">          <span class=\"title function_\">tween</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">node</span>)</span><br><span class=\"line\">          .<span class=\"title function_\">to</span>(<span class=\"number\">0.5</span>, &#123; <span class=\"attr\">position</span>: pos &#125;, &#123; <span class=\"attr\">easing</span>: <span class=\"string\">&quot;linear&quot;</span> &#125;)</span><br><span class=\"line\">          .<span class=\"title function_\">call</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"property\">isAutoMoving</span> = <span class=\"literal\">false</span>;</span><br><span class=\"line\">          &#125;)</span><br><span class=\"line\">          .<span class=\"title function_\">start</span>();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!<span class=\"variable language_\">this</span>.<span class=\"property\">locked</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">stihs</span>.<span class=\"property\">player</span>?.<span class=\"property\">gamePad</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">stihs</span>.<span class=\"property\">player</span>.<span class=\"property\">gamePad</span>.<span class=\"property\">dir</span>.<span class=\"title function_\">length</span>() &gt; <span class=\"number\">0.5</span>) &#123;</span><br><span class=\"line\">          <span class=\"keyword\">const</span> skeletalAnimation = <span class=\"variable language_\">this</span>.<span class=\"title function_\">getComponent</span>(</span><br><span class=\"line\">            <span class=\"title class_\">SkeletalAnimation</span></span><br><span class=\"line\">          ) <span class=\"keyword\">as</span> <span class=\"title class_\">SkeletalAnimation</span>;</span><br><span class=\"line\">          <span class=\"keyword\">const</span> animState1 = skeletalAnimation.<span class=\"title function_\">getState</span>(<span class=\"string\">&quot;起步&quot;</span>);</span><br><span class=\"line\">          <span class=\"keyword\">const</span> animState2 = skeletalAnimation.<span class=\"title function_\">getState</span>(<span class=\"string\">&quot;溜冰&quot;</span>);</span><br><span class=\"line\">          <span class=\"keyword\">const</span> animState3 = skeletalAnimation.<span class=\"title function_\">getState</span>(<span class=\"string\">&quot;急停&quot;</span>);</span><br><span class=\"line\">          <span class=\"keyword\">if</span> (!animState1.<span class=\"property\">isPlaying</span> &amp;&amp; !animState2.<span class=\"property\">isPlaying</span>) &#123;</span><br><span class=\"line\">            skeletalAnimation.<span class=\"title function_\">play</span>(<span class=\"string\">&quot;起步&quot;</span>);</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          <span class=\"keyword\">const</span> rigidBody = <span class=\"variable language_\">this</span>.<span class=\"title function_\">getComponent</span>(<span class=\"title class_\">RigidBody</span>) <span class=\"keyword\">as</span> <span class=\"title class_\">RigidBody</span>;</span><br><span class=\"line\">          <span class=\"keyword\">let</span> &#123; x, y &#125; = <span class=\"variable language_\">this</span>.<span class=\"property\">stihs</span>.<span class=\"property\">player</span>.<span class=\"property\">gamePad</span>.<span class=\"property\">dir</span>;</span><br><span class=\"line\">          <span class=\"keyword\">let</span> angle = <span class=\"title class_\">Math</span>.<span class=\"title function_\">atan2</span>(y, x);</span><br><span class=\"line\">          <span class=\"keyword\">const</span> delta = <span class=\"title class_\">Math</span>.<span class=\"title function_\">random</span>() * <span class=\"title class_\">Math</span>.<span class=\"property\">PI</span> - <span class=\"title class_\">Math</span>.<span class=\"property\">PI</span> / <span class=\"number\">2</span>;</span><br><span class=\"line\">          angle += delta;</span><br><span class=\"line\">          [x, y] = [<span class=\"title class_\">Math</span>.<span class=\"title function_\">cos</span>(angle), <span class=\"title class_\">Math</span>.<span class=\"title function_\">sin</span>(angle)];</span><br><span class=\"line\">          rigidBody.<span class=\"title function_\">applyForce</span>(</span><br><span class=\"line\">            <span class=\"keyword\">new</span> <span class=\"title class_\">Vec3</span>(</span><br><span class=\"line\">              x * <span class=\"number\">5000</span> * deltaTime,</span><br><span class=\"line\">              <span class=\"number\">0</span>,</span><br><span class=\"line\">              y * -<span class=\"number\">5000</span> * deltaTime</span><br><span class=\"line\">            )</span><br><span class=\"line\">          );</span><br><span class=\"line\">          <span class=\"keyword\">let</span> <span class=\"attr\">v</span>: <span class=\"title class_\">Vec3</span> = <span class=\"keyword\">new</span> <span class=\"title class_\">Vec3</span>(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>);</span><br><span class=\"line\">          rigidBody.<span class=\"title function_\">getLinearVelocity</span>(v);</span><br><span class=\"line\">          <span class=\"keyword\">let</span> vLen = v.<span class=\"title function_\">length</span>();</span><br><span class=\"line\">          <span class=\"keyword\">if</span> (vLen &gt; <span class=\"number\">7</span>) &#123;</span><br><span class=\"line\">            v.<span class=\"title function_\">divide</span>(</span><br><span class=\"line\">              <span class=\"keyword\">new</span> <span class=\"title class_\">Vec3</span>(<span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>).<span class=\"title function_\">multiplyScalar</span>(vLen)</span><br><span class=\"line\">            ).<span class=\"title function_\">multiplyScalar</span>(<span class=\"number\">7</span>);</span><br><span class=\"line\">            vLen = <span class=\"number\">7</span>;</span><br><span class=\"line\">            rigidBody.<span class=\"title function_\">setLinearVelocity</span>(v);</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (animState1.<span class=\"property\">isPlaying</span>) &#123;</span><br><span class=\"line\">              animState1.<span class=\"title function_\">stop</span>();</span><br><span class=\"line\">              skeletalAnimation.<span class=\"title function_\">crossFade</span>(<span class=\"string\">&quot;溜冰&quot;</span>, <span class=\"number\">0.3</span>);</span><br><span class=\"line\">              animState2.<span class=\"property\">speed</span> = <span class=\"number\">1</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          <span class=\"keyword\">if</span> (!<span class=\"variable language_\">this</span>.<span class=\"property\">facedTarget</span>) &#123;</span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"property\">dir</span> = <span class=\"keyword\">new</span> <span class=\"title class_\">Vec3</span>(v.<span class=\"property\">x</span> / vLen, v.<span class=\"property\">y</span> / vLen, v.<span class=\"property\">z</span> / vLen);</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">          <span class=\"keyword\">const</span> skeletalAnimation = <span class=\"variable language_\">this</span>.<span class=\"title function_\">getComponent</span>(</span><br><span class=\"line\">            <span class=\"title class_\">SkeletalAnimation</span></span><br><span class=\"line\">          ) <span class=\"keyword\">as</span> <span class=\"title class_\">SkeletalAnimation</span>;</span><br><span class=\"line\">          <span class=\"keyword\">const</span> animState1 = skeletalAnimation.<span class=\"title function_\">getState</span>(<span class=\"string\">&quot;起步&quot;</span>);</span><br><span class=\"line\">          <span class=\"keyword\">const</span> animState2 = skeletalAnimation.<span class=\"title function_\">getState</span>(<span class=\"string\">&quot;溜冰&quot;</span>);</span><br><span class=\"line\">          <span class=\"keyword\">const</span> animState3 = skeletalAnimation.<span class=\"title function_\">getState</span>(<span class=\"string\">&quot;急停&quot;</span>);</span><br><span class=\"line\">          <span class=\"keyword\">if</span> (animState1.<span class=\"property\">isPlaying</span>) &#123;</span><br><span class=\"line\">            animState1.<span class=\"title function_\">setTime</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\">            animState1.<span class=\"title function_\">stop</span>();</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          <span class=\"keyword\">if</span> (animState2.<span class=\"property\">isPlaying</span>) &#123;</span><br><span class=\"line\">            skeletalAnimation.<span class=\"title function_\">play</span>(<span class=\"string\">&quot;急停&quot;</span>);</span><br><span class=\"line\">            animState3.<span class=\"property\">repeatCount</span> = <span class=\"number\">1</span>;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"可以使用曲线函数调整NPC的移动速度：\"><a href=\"#可以使用曲线函数调整NPC的移动速度：\" class=\"headerlink\" title=\"可以使用曲线函数调整NPC的移动速度：\"></a>可以使用曲线函数调整NPC的移动速度：</h3><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">phpCopy code</span><br><span class=\"line\"><span class=\"comment\">// 定义速度曲线函数</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> speedCurve = <span class=\"keyword\">new</span> cc.<span class=\"title class_\">AnimationCurve</span>([</span><br><span class=\"line\">  &#123; <span class=\"attr\">time</span>: <span class=\"number\">0</span>, <span class=\"attr\">value</span>: <span class=\"number\">0</span> &#125;,</span><br><span class=\"line\">  &#123; <span class=\"attr\">time</span>: <span class=\"number\">0.25</span>, <span class=\"attr\">value</span>: <span class=\"number\">0.5</span> &#125;,</span><br><span class=\"line\">  &#123; <span class=\"attr\">time</span>: <span class=\"number\">0.5</span>, <span class=\"attr\">value</span>: <span class=\"number\">1</span> &#125;,</span><br><span class=\"line\">  &#123; <span class=\"attr\">time</span>: <span class=\"number\">0.75</span>, <span class=\"attr\">value</span>: <span class=\"number\">0.5</span> &#125;,</span><br><span class=\"line\">  &#123; <span class=\"attr\">time</span>: <span class=\"number\">1</span>, <span class=\"attr\">value</span>: <span class=\"number\">0</span> &#125;</span><br><span class=\"line\">]);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 在 update 方法中使用曲线函数调整移动速度</span></span><br><span class=\"line\"><span class=\"title function_\">update</span>(<span class=\"params\">deltaTime: <span class=\"built_in\">number</span></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">isAutoMoving</span> &amp;&amp; <span class=\"variable language_\">this</span>.<span class=\"property\">stihs</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> speed = speedCurve.evaluate(<span class=\"variable language_\">this</span>.<span class=\"property\">elapsedTime</span> / <span class=\"variable language_\">this</span>.<span class=\"property\">moveDuration</span>) * <span class=\"variable language_\">this</span>.<span class=\"property\">maxSpeed</span>;</span><br><span class=\"line\">    <span class=\"comment\">// 使用 speed 进行移动</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"再添加物理效果：\"><a href=\"#再添加物理效果：\" class=\"headerlink\" title=\"再添加物理效果：\"></a>再添加物理效果：</h3><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">kotlinCopy code</span><br><span class=\"line\"><span class=\"comment\">// 定义 NPC 的物理属性</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> mass = <span class=\"number\">1</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> friction = <span class=\"number\">0.5</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> restitution = <span class=\"number\">0.2</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 在初始化方法中为 NPC 添加刚体组件</span></span><br><span class=\"line\"><span class=\"title function_\">onLoad</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> rigidbody = <span class=\"variable language_\">this</span>.<span class=\"property\">node</span>.<span class=\"title function_\">addComponent</span>(cc.<span class=\"property\">RigidBody</span>);</span><br><span class=\"line\">  rigidbody.<span class=\"property\">type</span> = cc.<span class=\"property\">RigidBodyType</span>.<span class=\"property\">Dynamic</span>;</span><br><span class=\"line\">  rigidbody.<span class=\"property\">gravityScale</span> = <span class=\"number\">0</span>;</span><br><span class=\"line\">  rigidbody.<span class=\"property\">mass</span> = mass;</span><br><span class=\"line\">  rigidbody.<span class=\"property\">linearDamping</span> = friction;</span><br><span class=\"line\">  rigidbody.<span class=\"property\">angularDamping</span> = friction;</span><br><span class=\"line\">  rigidbody.<span class=\"property\">restitution</span> = restitution;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 在 update 方法中更新 NPC 的位置</span></span><br><span class=\"line\"><span class=\"title function_\">update</span>(<span class=\"params\">deltaTime: <span class=\"built_in\">number</span></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">isAutoMoving</span> &amp;&amp; <span class=\"variable language_\">this</span>.<span class=\"property\">stihs</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> velocity = cc.<span class=\"title function_\">v2</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">moveDirection</span>).<span class=\"title function_\">normalize</span>().<span class=\"title function_\">mul</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">maxSpeed</span>);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> force = velocity.<span class=\"title function_\">mul</span>(mass);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> rigidbody = <span class=\"variable language_\">this</span>.<span class=\"property\">node</span>.<span class=\"title function_\">getComponent</span>(cc.<span class=\"property\">RigidBody</span>);</span><br><span class=\"line\">    rigidbody.<span class=\"title function_\">applyForceToCenter</span>(force);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"然后解决在Chapter-Total状态下的行为过于复杂，导致代码变得比较混乱难以维护。\"><a href=\"#然后解决在Chapter-Total状态下的行为过于复杂，导致代码变得比较混乱难以维护。\" class=\"headerlink\" title=\"然后解决在Chapter.Total状态下的行为过于复杂，导致代码变得比较混乱难以维护。\"></a>然后解决在Chapter.Total状态下的行为过于复杂，导致代码变得比较混乱难以维护。</h3><p>直接继承 <code>Chapter.Shoot</code> 状态下的行为,将 <code>Chapter.Shoot</code> 状态下的行为提取成一个单独的方法或者函数，并将其放在一个可重用的地方。然后在需要使用这个行为的地方，调用该方法或函数即可。</p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">kotlinCopy code</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">NPC</span> <span class=\"keyword\">extends</span> <span class=\"title class_ inherited__\">Character</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"attr\">isAutoMoving</span>: <span class=\"built_in\">boolean</span> = <span class=\"literal\">false</span>;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"attr\">stihs</span>: <span class=\"title class_\">Stihs</span> | <span class=\"literal\">null</span> = <span class=\"literal\">null</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"title function_\">moveRandomlyWithinRange</span>(<span class=\"params\">range: <span class=\"built_in\">number</span></span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 移动到随机的位置</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"title function_\">playSkatingAnimation</span>(<span class=\"params\">speed: <span class=\"built_in\">number</span></span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 播放溜冰动画</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"title function_\">updateBlockChapter</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"title function_\">playSkatingAnimation</span>(<span class=\"number\">1.5</span>); <span class=\"comment\">// 播放溜冰动画，速度为 1.5</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"title function_\">updateShootChapter</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!<span class=\"variable language_\">this</span>.<span class=\"property\">isAutoMoving</span>) &#123;</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">isAutoMoving</span> = <span class=\"literal\">true</span>;</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"title function_\">moveRandomlyWithinRange</span>(<span class=\"number\">10</span>); <span class=\"comment\">// 在范围内随机移动</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"title function_\">updateTotalChapter</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span> <span class=\"keyword\">instanceof</span> <span class=\"title class_\">SpecificNPC</span>) &#123;</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"title function_\">updateShootChapter</span>(); <span class=\"comment\">// 直接继承 Chapter.Shoot 状态下的行为</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"comment\">// 移动方向由玩家游戏手柄输入的方向确定，加上一些小的随机偏差</span></span><br><span class=\"line\">      <span class=\"comment\">// 移动速度受到限制，超过一定速度会切换到溜冰动画</span></span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"title function_\">playSkatingAnimation</span>(<span class=\"number\">1.2</span>);</span><br><span class=\"line\">      <span class=\"comment\">// ...</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"title function_\">update</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">stihs</span> === <span class=\"literal\">null</span> || <span class=\"variable language_\">this</span>.<span class=\"property\">isLocked</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">switch</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">stihs</span>.<span class=\"property\">currentChapter</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">case</span> <span class=\"title class_\">Chapter</span>.<span class=\"property\">Block</span>:</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"title function_\">updateBlockChapter</span>();</span><br><span class=\"line\">        <span class=\"keyword\">break</span>;</span><br><span class=\"line\">      <span class=\"keyword\">case</span> <span class=\"title class_\">Chapter</span>.<span class=\"property\">Shoot</span>:</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"title function_\">updateShootChapter</span>();</span><br><span class=\"line\">        <span class=\"keyword\">break</span>;</span><br><span class=\"line\">      <span class=\"keyword\">case</span> <span class=\"title class_\">Chapter</span>.<span class=\"property\">Total</span>:</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"title function_\">updateTotalChapter</span>();</span><br><span class=\"line\">        <span class=\"keyword\">break</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>到此差不多了</p>"},{"title":"SSM学习","date":"2023-03-02T16:00:00.000Z","_content":"\n学点后端吧，学习了黑马的SSM课程,耗时半个寒假，以前提前放假安得一息安寝\n\n用了Springboot再也不想碰Spring\n\n<!-- more -->\n\n## SpringBoot\n\n**今日目标：**\n\n> * 掌握基于SpringBoot框架的程序开发步骤\n> * 熟练使用SpringBoot配置信息修改服务器配置\n> * 基于SpringBoot的完成SSM整合项目开发\n\n## 1，SpringBoot简介\n\n`SpringBoot` 是由 `Pivotal` 团队提供的全新框架，其设计目的是用来==简化== `Spring` 应用的==初始搭建==以及==开发过程==。\n\n使用了 `Spring` 框架后已经简化了我们的开发。而 `SpringBoot` 又是对 `Spring` 开发进行简化的，可想而知 `SpringBoot` 使用的简单及广泛性。既然 `SpringBoot` 是用来简化 `Spring` 开发的，那我们就先回顾一下，以 `SpringMVC` 开发为例：\n\n1. **创建工程，并在 `pom.xml` 配置文件中配置所依赖的坐标**\n\n<img src=\"/image/image-20210911132335452.png\" alt=\"image-20210911133112602\" style=\"zoom:50%;\" />\n\n2. **编写 `web3.0` 的配置类**\n\n   作为 `web` 程序，`web3.0` 的配置类不能缺少，而这个配置类还是比较麻烦的，代码如下\n\n<img src=\"/image/image-20210911133112602.png\" alt=\"image-20210911133112602\" style=\"zoom:50%;\" />\n\n3. **编写 `SpringMVC` 的配置类**\n\n<img src=\"/image/image-20210911133219847.png\" alt=\"image-20210911133219847\" style=\"zoom:50%;\" />\n\n​\t做到这只是将工程的架子搭起来。要想被外界访问，最起码还需要提供一个 `Controller` 类，在该类中提供一个方法。\n\n4. **编写 `Controller` 类**\n\n<img src=\"/image/image-20210911133532151.png\" alt=\"image-20210911133532151\" style=\"zoom:50%;\" />\n\n从上面的 `SpringMVC` 程序开发可以看到，前三步都是在搭建环境，而且这三步基本都是固定的。`SpringBoot` 就是对这三步进行简化了。接下来我们通过一个入门案例来体现 `SpingBoot` 简化 `Spring` 开发。\n\n### 1.1  SpringBoot快速入门\n\n#### 1.1.1  开发步骤\n\n`SpringBoot` 开发起来特别简单，分为如下几步：\n\n* 创建新模块，选择Spring初始化，并配置模块相关基础信息\n* 选择当前模块需要使用的技术集\n* 开发控制器类\n* 运行自动生成的Application类\n\n知道了 `SpringBoot` 的开发步骤后，接下来我们进行具体的操作\n\n##### 1.1.1.1  创建新模块\n\n* 点击 `+` 选择 `New Module` 创建新模块\n\n<img src=\"/image/image-20210911155135008.png\" alt=\"image-20210911155135008\" style=\"zoom:60%;\" />\n\n* 选择 `Spring Initializr` ，用来创建 `SpringBoot` 工程\n\n  以前我们选择的是 `Maven` ，今天选择 `Spring Initializr` 来快速构建 `SpringBoot` 工程。而在 `Module SDK` 这一项选择我们安装的 `JDK` 版本。\n\n<img src=\"/image/image-20210911155249493.png\" alt=\"image-20210911155249493\" style=\"zoom:60%;\" />\n\n* 对 `SpringBoot` 工程进行相关的设置\n\n  我们使用这种方式构建的 `SpringBoot` 工程其实也是 `Maven` 工程，而该方式只是一种快速构建的方式而已。\n\n  <img src=\"/image/image-20210911155916899.png\" alt=\"image-20210911155916899\" style=\"zoom:67%;\" />\n\n  > ==注意：打包方式这里需要设置为 `Jar`==\n\n* 选中 `Web`，然后勾选 `Spring Web`\n\n  由于我们需要开发一个 `web` 程序，使用到了 `SpringMVC` 技术，所以按照下图红框进行勾选\n\n<img src=\"/../../../../../../assets/image-20210911160040328.png\" alt=\"image-20210911160040328\" style=\"zoom:60%;\" />\n\n* 下图界面不需要任何修改，直接点击 `Finish` 完成 `SpringBoot` 工程的构建\n\n<img src=\"/image/image-20210911160353534.png\" alt=\"image-20210911160353534\" style=\"zoom:70%;\" />\n\n经过以上步骤后就创建了如下结构的模块，它会帮我们自动生成一个 `Application` 类，而该类一会再启动服务器时会用到\n\n<img src=\"/image/image-20210911160541833.png\" alt=\"image-20210911160541833\" style=\"zoom:80%;\" />\n\n> ==注意：==\n>\n> 1. 在创建好的工程中不需要创建配置类\n>\n> 2. 创建好的项目会自动生成其他的一些文件，而这些文件目前对我们来说没有任何作用，所以可以将这些文件删除。\n>\n>    可以删除的目录和文件如下：\n>\n>    * `.mvn`\t\n>    * `.gitignore`\n>    * `HELP.md`\n>    * `mvnw`\n>    * `mvnw.cmd`\n\n##### 1.1.1.2  创建 `Controller`\n\n在  `com.itheima.controller` 包下创建 `BookController` ，代码如下：\n\n```java\n@RestController\n@RequestMapping(\"/books\")\npublic class BookController {\n\n    @GetMapping(\"/{id}\")\n    public String getById(@PathVariable Integer id){\n        System.out.println(\"id ==> \"+id);\n        return \"hello , spring boot!\";\n    }\n}\n```\n\n##### 1.1.1.3  启动服务器\n\n运行 `SpringBoot` 工程不需要使用本地的 `Tomcat` 和 插件，只运行项目 `com.itheima` 包下的 `Application` 类，我们就可以在控制台看出如下信息\n\n![image-20210911165642280](../image/image-20210911165642280.png)\n\n##### 1.1.1.4  进行测试\n\n使用 `Postman` 工具来测试我们的程序\n\n![image-20210911160850121](../image/image-20210911160850121.png)\n\n通过上面的入门案例我们可以看到使用 `SpringBoot` 进行开发，使整个开发变得很简单，那它是如何做到的呢？\n\n要研究这个问题，我们需要看看 `Application` 类和 `pom.xml` 都书写了什么。先看看 `Applicaion` 类，该类内容如下：\n\n```java\n@SpringBootApplication\npublic class Application {\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n```\n\n这个类中的东西很简单，就在类上添加了一个 `@SpringBootApplication` 注解，而在主方法中就一行代码。我们在启动服务器时就是执行的该类中的主方法。\n\n再看看 `pom.xml` 配置文件中的内容\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\">\n    <modelVersion>4.0.0</modelVersion>\n    \n    <!--指定了一个父工程，父工程中的东西在该工程中可以继承过来使用-->\n    <parent>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-parent</artifactId>\n        <version>2.5.0</version>\n    </parent>\n    <groupId>com.itheima</groupId>\n    <artifactId>springboot_01_quickstart</artifactId>\n    <version>0.0.1-SNAPSHOT</version>\n\n    <!--JDK 的版本-->\n    <properties>\n        <java.version>8</java.version>\n    </properties>\n    \n    <dependencies>\n        <!--该依赖就是我们在创建 SpringBoot 工程勾选的那个 Spring Web 产生的-->\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-web</artifactId>\n        </dependency>\n\t\t<!--这个是单元测试的依赖，我们现在没有进行单元测试，所以这个依赖现在可以没有-->\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-test</artifactId>\n            <scope>test</scope>\n        </dependency>\n    </dependencies>\n\n    <build>\n        <plugins>\n            <!--这个插件是在打包时需要的，而这里暂时还没有用到-->\n            <plugin>\n                <groupId>org.springframework.boot</groupId>\n                <artifactId>spring-boot-maven-plugin</artifactId>\n            </plugin>\n        </plugins>\n    </build>\n</project>\n```\n\n我们代码之所以能简化，就是因为指定的父工程和 `Spring Web` 依赖实现的。具体的我们后面在聊。\n\n#### 1.1.2  对比\n\n做完 `SpringBoot` 的入门案例后，接下来对比一下 `Spring` 程序和 `SpringBoot` 程序。如下图\n\n<img src=\"/image/image-20210911172200292.png\" alt=\"image-20210911172200292\" style=\"zoom:60%;\" />\n\n* **坐标**\n\n  `Spring` 程序中的坐标需要自己编写，而且坐标非常多\n\n  `SpringBoot` 程序中的坐标是我们在创建工程时进行勾选自动生成的\n\n* **web3.0配置类**\n\n  `Spring` 程序需要自己编写这个配置类。这个配置类大家之前编写过，肯定感觉很复杂\n\n  `SpringBoot` 程序不需要我们自己书写\n\n* **配置类**\n\n  `Spring/SpringMVC` 程序的配置类需要自己书写。而 `SpringBoot`  程序则不需要书写。\n\n> ==注意：基于Idea的 `Spring Initializr` 快速构建 `SpringBoot` 工程时需要联网。== \n\n#### 1.1.3  官网构建工程\n\n在入门案例中之所以能快速构建 `SpringBoot` 工程，是因为 `Idea` 使用了官网提供了快速构建 `SpringBoot` 工程的组件实现的。那如何在官网进行工程构建呢？通过如下步骤构建\n\n##### 1.1.3.1  进入SpringBoot官网\n\n官网地址如下：\n\n```\nhttps://spring.io/projects/spring-boot\n```\n\n进入到 `SpringBoot` 官网后拖到最下方就可以看到如下内容\n\n<img src=\"/image/image-20210911173712014.png\" alt=\"image-20210911173712014\" style=\"zoom:60%;\" />\n\n然后点击 `Spring Initializr` 超链接就会跳转到如下页面\n\n![image-20210911174110687](../image/image-20210911174110687.png)\n\n这个页面内容是不是感觉很眼熟的，这和我们使用 `Idea` 快速构建 `SpringBoot` 工程的界面基本相同。在上面页面输入对应的信息\n\n##### 1.1.3.2  选择依赖\n\n选择 `Spring Web` 可以点击上图右上角的 `ADD DEPENDENCIES... CTRL + B` 按钮，就会出现如下界面\n\n![image-20210911174650679](../image/image-20210911174650679.png)\n\n##### 1.1.3.3  生成工程\n\n以上步骤完成后就可以生成 `SpringBoot` 工程了。在页面的最下方点击 `GENERATE CTRL + 回车` 按钮生成工程并下载到本地，如下图所示\n\n![image-20210911175222857](../image/image-20210911175222857.png)\n\n打开下载好的压缩包可以看到工程结构和使用 `Idea` 生成的一模一样，如下图\n\n<img src=\"/image/image-20210911175502834.png\" alt=\"image-20210911175502834\" style=\"zoom:80%;\" />\n\n而打开 `pom.xml` 文件，里面也包含了父工程和 `Spring Web` 的依赖。\n\n通过上面官网的操作，我们知道 `Idea` 中快速构建 `SpringBoot` 工程其实就是使用的官网的快速构建组件，那以后即使没有 `Idea` 也可以使用官网的方式构建 `SpringBoot` 工程。\n\n#### 1.1.4  SpringBoot工程快速启动\n\n##### 1.1.4.1  问题导入\n\n<img src=\"/image/image-20210911180828611.png\" alt=\"image-20210911180828611\" style=\"zoom:50%;\" />\n\n以后我们和前端开发人员协同开发，而前端开发人员需要测试前端程序就需要后端开启服务器，这就受制于后端开发人员。为了摆脱这个受制，前端开发人员尝试着在自己电脑上安装 `Tomcat` 和 `Idea` ，在自己电脑上启动后端程序，这显然不现实。\n\n我们后端可以将 `SpringBoot` 工程打成 `jar` 包，该 `jar` 包运行不依赖于 `Tomcat` 和 `Idea` 这些工具也可以正常运行，只是这个 `jar` 包在运行过程中连接和我们自己程序相同的 `Mysql` 数据库即可。这样就可以解决这个问题，如下图\n\n<img src=\"/image/image-20210911181714437.png\" alt=\"image-20210911181714437\" style=\"zoom:50%;\" />\n\n那现在问题是如何打包呢？\n\n##### 1.1.4.2  打包\n\n由于我们在构建 `SpringBoot` 工程时已经在 `pom.xml` 中配置了如下插件\n\n```xml\n<plugin>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-maven-plugin</artifactId>\n</plugin>\n```\n\n所以我们只需要使用 `Maven` 的 `package` 指令打包就会在 `target` 目录下生成对应的 `Jar` 包。\n\n> ==注意：该插件必须配置，不然打好的 `jar` 包也是有问题的。==\n\n##### 1.1.4.3  启动\n\n进入 `jar` 包所在位置，在 `命令提示符` 中输入如下命令\n\n```shell\njar -jar springboot_01_quickstart-0.0.1-SNAPSHOT.jar\n```\n\n执行上述命令就可以看到 `SpringBoot` 运行的日志信息\n\n<img src=\"/image/image-20210911182956629.png\" alt=\"image-20210911182956629\" style=\"zoom:60%;\" />\n\n### 1.2  SpringBoot概述\n\n`SpringBoot` 是由Pivotal团队提供的全新框架，其设计目的是用来==简化==Spring应用的==初始搭建==以及==开发过程==。\n\n大家已经感受了 `SpringBoot` 程序，回过头看看 `SpringBoot` 主要作用是什么，就是简化 `Spring` 的搭建过程和开发过程。\n\n原始 `Spring` 环境搭建和开发存在以下问题：\n\n* 配置繁琐\n* 依赖设置繁琐\n\n`SpringBoot` 程序优点恰巧就是针对 `Spring` 的缺点\n\n* 自动配置。这个是用来解决 `Spring` 程序配置繁琐的问题\n* 起步依赖。这个是用来解决 `Spring` 程序依赖设置繁琐的问题\n* 辅助功能（内置服务器,...）。我们在启动 `SpringBoot` 程序时既没有使用本地的 `tomcat` 也没有使用 `tomcat` 插件，而是使用 `SpringBoot` 内置的服务器。\n\n接下来我们来说一下 `SpringBoot` 的起步依赖\n\n#### 1.2.1  起步依赖\n\n我们使用 `Spring Initializr`  方式创建的 `Maven` 工程的的 `pom.xml` 配置文件中自动生成了很多包含 `starter` 的依赖，如下图\n\n<img src=\"/image/image-20210918220338109.png\" alt=\"image-20210918220338109\" style=\"zoom:70%;\" />\n\n这些依赖就是==启动依赖==，接下来我们探究一下他是如何实现的。\n\n##### 1.2.1.1  探索父工程\n\n从上面的文件中可以看到指定了一个父工程，我们进入到父工程，发现父工程中又指定了一个父工程，如下图所示\n\n<img src=\"/image/image-20210918220855024.png\" alt=\"image-20210918220855024\" style=\"zoom:80%;\" />\n\n再进入到该父工程中，在该工程中我们可以看到配置内容结构如下图所示\n\n<img src=\"/image/image-20210918221042947.png\" alt=\"image-20210918221042947\" style=\"zoom:80%;\" />\n\n上图中的 `properties` 标签中定义了各个技术软件依赖的版本，避免了我们在使用不同软件技术时考虑版本的兼容问题。在 `properties` 中我们找 `servlet`  和 `mysql` 的版本如下图\n\n<img src=\"/image/image-20210918221511249.png\" alt=\"image-20210918221511249\" style=\"zoom:80%;\" />\n\n`dependencyManagement` 标签是进行依赖版本锁定，但是并没有导入对应的依赖；如果我们工程需要那个依赖只需要引入依赖的 `groupid` 和 `artifactId` 不需要定义 `version`。\n\n而 `build` 标签中也对插件的版本进行了锁定，如下图\n\n<img src=\"/image/image-20210918221942453.png\" alt=\"image-20210918221942453\" style=\"zoom:80%;\" />\n\n看完了父工程中 `pom.xml` 的配置后不难理解我们工程的的依赖为什么都没有配置 `version`。\n\n##### 1.2.1.2  探索依赖\n\n在我们创建的工程中的 `pom.xml` 中配置了如下依赖\n\n<img src=\"/image/image-20210918222321402.png\" alt=\"image-20210918222321402\" style=\"zoom:80%;\" />\n\n进入到该依赖，查看 `pom.xml` 的依赖会发现它引入了如下的依赖\n\n<img src=\"/image/image-20210918222607469.png\" alt=\"image-20210918222607469\" style=\"zoom:80%;\" />\n\n里面的引入了 `spring-web` 和 `spring-webmvc` 的依赖，这就是为什么我们的工程中没有依赖这两个包还能正常使用 `springMVC` 中的注解的原因。\n\n而依赖 `spring-boot-starter-tomcat` ，从名字基本能确认内部依赖了 `tomcat`，所以我们的工程才能正常启动。\n\n==结论：以后需要使用技术，只需要引入该技术对应的起步依赖即可==\n\n##### 1.2.1.3  小结\n\n**starter**\n\n* `SpringBoot` 中常见项目名称，定义了当前项目使用的所有项目坐标，以达到减少依赖配置的目的\n\n**parent**\n\n* 所有 `SpringBoot` 项目要继承的项目，定义了若干个坐标版本号（依赖管理，而非依赖），以达到减少依赖冲突的目的\n\n* `spring-boot-starter-parent`（2.5.0）与 `spring-boot-starter-parent`（2.4.6）共计57处坐标版本不同\n\n**实际开发**\n\n* 使用任意坐标时，仅书写GAV中的G和A，V由SpringBoot提供\n\n  > G：groupid\n  >\n  > A：artifactId\n  >\n  > V：version\n\n* 如发生坐标错误，再指定version（要小心版本冲突）\n\n#### 1.2.2  程序启动\n\n创建的每一个 `SpringBoot` 程序时都包含一个类似于下面的类，我们将这个类称作引导类\n\n```java\n@SpringBootApplication\npublic class Springboot01QuickstartApplication {\n    \n    public static void main(String[] args) {\n        SpringApplication.run(Springboot01QuickstartApplication.class, args);\n    }\n}\n```\n\n==注意：==\n\n* `SpringBoot` 在创建项目时，采用jar的打包方式\n\n* `SpringBoot` 的引导类是项目的入口，运行 `main` 方法就可以启动项目\n\n  因为我们在 `pom.xml` 中配置了 `spring-boot-starter-web` 依赖，而该依赖通过前面的学习知道它依赖 `tomcat` ，所以运行 `main` 方法就可以使用 `tomcat` 启动咱们的工程。\n\n#### 1.2.3  切换web服务器\n\n现在我们启动工程使用的是 `tomcat` 服务器，那能不能不使用 `tomcat` 而使用 `jetty` 服务器，`jetty` 在我们 `maven` 高级时讲 `maven` 私服使用的服务器。而要切换 `web` 服务器就需要将默认的 `tomcat` 服务器给排除掉，怎么排除呢？使用 `exclusion` 标签\n\n```xml\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-web</artifactId>\n    <exclusions>\n        <exclusion>\n            <artifactId>spring-boot-starter-tomcat</artifactId>\n            <groupId>org.springframework.boot</groupId>\n        </exclusion>\n    </exclusions>\n</dependency>\n```\n\n现在我们运行引导类可以吗？运行一下试试，打印的日志信息如下\n\n![image-20210918232512707](../image/image-20210918232512707.png)\n\n程序直接停止了，为什么呢？那是因为排除了 `tomcat` 服务器，程序中就没有服务器了。所以此时不光要排除 `tomcat` 服务器，还要引入 `jetty` 服务器。在 `pom.xml` 中因为 `jetty` 的起步依赖\n\n```xml\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-jetty</artifactId>\n</dependency>\n```\n\n接下来再次运行引导类，在日志信息中就可以看到使用的是 `jetty` 服务器\n\n![image-20210918232904623](../image/image-20210918232904623.png)\n\n**小结：**\n\n通过切换服务器，我们不难发现在使用 `SpringBoot` 换技术时只需要导入该技术的起步依赖即可。\n\n## 2，配置文件\n\n### 2.1  配置文件格式\n\n我们现在启动服务器默认的端口号是 `8080`，访问路径可以书写为\n\n```\nhttp://localhost:8080/books/1\n```\n\n在线上环境我们还是希望将端口号改为 `80`，这样在访问的时候就可以不写端口号了，如下\n\n```\nhttp://localhost/books/1\n```\n\n而 `SpringBoot` 程序如何修改呢？`SpringBoot` 提供了多种属性配置方式\n\n* `application.properties`\n\n  ```\n  server.port=80\n  ```\n\n* `application.yml`\n\n  ```yaml\n  server:\n  \tport: 81\n  ```\n\n* `application.yaml`\n\n  ```yaml\n  server:\n  \tport: 82\n  ```\n\n> ==注意：`SpringBoot` 程序的配置文件名必须是 `application` ，只是后缀名不同而已。==\n\n#### 2.1.1  环境准备\n\n创建一个新工程 `springboot_02_base_config` 用来演示不同的配置文件，工程环境和入门案例一模一样，结构如下：\n\n<img src=\"/image/image-20210917151314753.png\" alt=\"image-20210917151314753\" style=\"zoom:80%;\" />\n\n在该工程中的 `com.itheima.controller` 包下创建一个名为 `BookController` 的控制器。内容如下：\n\n```java\n@RestController\n@RequestMapping(\"/books\")\npublic class BookController {\n\n    @GetMapping(\"/{id}\")\n    public String getById(@PathVariable Integer id){\n        System.out.println(\"id ==> \"+id);\n        return \"hello , spring boot!\";\n    }\n}\n```\n\n#### 2.1.2  不同配置文件演示\n\n* **application.properties配置文件**\n\n现在需要进行配置，配合文件必须放在 `resources` 目录下，而该目录下有一个名为 `application.properties` 的配置文件，我们就可以在该配置文件中修改端口号，在该配置文件中书写 `port` ，`Idea` 就会提示，如下\n\n<img src=\"/image/image-20210917161422535.png\" alt=\"image-20210917161422535\" style=\"zoom:80%;\" />\n\n`application.properties` 配置文件内容如下：\n\n```properties\nserver.port=80\n```\n\n启动服务，会在控制台打印出日志信息，从日志信息中可以看到绑定的端口号已经修改了\n\n<img src=\"/image/image-20210917161720855.png\" alt=\"image-20210917161720855\" style=\"zoom:80%;\" />\n\n* **application.yml配置文件**\n\n删除 `application.properties` 配置文件中的内容。在 `resources` 下创建一个名为 `application.yml` 的配置文件，在该文件中书写端口号的配置项，格式如下：\n\n```yaml\nserver:\n\tport: 81\n```\n\n> ==注意： 在`:`后，数据前一定要加空格。==\n\n而在 `yml` 配置文件中也是有提示功能的，我们也可以在该文件中书写 `port` ，然后 `idea` 就会提示并书写成上面的格式\n\n<img src=\"/image/image-20210917162512646.png\" alt=\"image-20210917162512646\" style=\"zoom:80%;\" />\n\n启动服务，可以在控制台看到绑定的端口号是 `81`\n\n![image-20210917162700711](../image/image-20210917162700711.png)\n\n* **application.yaml配置文件**\n\n删除 `application.yml` 配置文件和 `application.properties` 配置文件内容，然后在 `resources` 下创建名为 `application.yaml` 的配置文件，配置内容和后缀名为 `yml` 的配置文件中的内容相同，只是使用了不同的后缀名而已\n\n`application.yaml` 配置文件内容如下：\n\n```yaml\nserver:\n\tport: 83\n```\n\n启动服务，在控制台可以看到绑定的端口号\n\n![image-20210917163335913](../image/image-20210917163335913.png)\n\n==注意：在配合文件中如果没有提示，可以使用一下方式解决==\n\n* 点击 `File` 选中 `Project Structure`\n\n<img src=\"/image/image-20210917163557071.png\" alt=\"image-20210917163557071\" style=\"zoom:80%;\" />\n\n* 弹出如下窗口，按图中标记红框进行选择\n\n<img src=\"/image/image-20210917163736458.png\" alt=\"image-20210917163736458\" style=\"zoom:70%;\" />\n\n* 通过上述操作，会弹出如下窗口\n\n<img src=\"/image/image-20210917163818051.png\" alt=\"image-20210917163818051\" style=\"zoom:80%;\" />\n\n* 点击上图的 `+` 号，弹出选择该模块的配置文件\n\n<img src=\"/image/image-20210917163828518.png\" alt=\"image-20210917163828518\" style=\"zoom:80%;\" />\n\n* 通过上述几步后，就可以看到如下界面。`properties` 类型的配合文件有一个，`ymal` 类型的配置文件有两个\n\n<img src=\"/image/image-20210917163846243.png\" alt=\"image-20210917163846243\" style=\"zoom:80%;\" />\n\n#### 2.1.3  三种配合文件的优先级\n\n在三种配合文件中分别配置不同的端口号，启动服务查看绑定的端口号。用这种方式就可以看到哪个配置文件的优先级更高一些\n\n`application.properties` 文件内容如下：\n\n```properties\nserver.port=80\n```\n\n`application.yml` 文件内容如下：\n\n```yaml\nserver:\n\tport: 81\n```\n\n`application.yaml` 文件内容如下：\n\n```yaml\nserver:\n\tport: 82\n```\n\n启动服务，在控制台可以看到使用的端口号是 `80`。说明 `application.properties` 的优先级最高\n\n注释掉 `application.properties` 配置文件内容。再次启动服务，在控制台可以看到使用的端口号是 `81`，说明 `application.yml` 配置文件为第二优先级。\n\n从上述的验证结果可以确定三种配置文件的优先级是：\n\n==`application.properties`  >  `application.yml`   >  `application.yaml`==\n\n> ==注意：==\n>\n> * `SpringBoot` 核心配置文件名为 `application`\n>\n> * `SpringBoot` 内置属性过多，且所有属性集中在一起修改，在使用时，通过提示键+关键字修改属性\n>\n>   例如要设置日志的级别时，可以在配置文件中书写 `logging`，就会提示出来。配置内容如下\n>\n>   ```yaml\n>   logging:\n>     level:\n>       root: info\n>   ```\n\n### 2.2  yaml格式\n\n上面讲了三种不同类型的配置文件，而 `properties` 类型的配合文件之前我们学习过，接下来我们重点学习 `yaml` 类型的配置文件。\n\n**YAML（YAML Ain't Markup Language），一种数据序列化格式。**这种格式的配置文件在近些年已经占有主导地位，那么这种配置文件和前期使用的配置文件是有一些优势的，我们先看之前使用的配置文件。\n\n最开始我们使用的是 `xml` ，格式如下：\n\n```xml\n<enterprise>\n    <name>itcast</name>\n    <age>16</age>\n    <tel>4006184000</tel>\n</enterprise>\n```\n\n而 `properties` 类型的配置文件如下\n\n```properties\nenterprise.name=itcast\nenterprise.age=16\nenterprise.tel=4006184000\n```\n\n`yaml` 类型的配置文件内容如下\n\n```yaml\nenterprise:\n\tname: itcast\n\tage: 16\n\ttel: 4006184000\n```\n\n**优点：**\n\n* 容易阅读\n\n  `yaml` 类型的配置文件比 `xml` 类型的配置文件更容易阅读，结构更加清晰\n\n* 容易与脚本语言交互\n\n* 以数据为核心，重数据轻格式\n\n  `yaml` 更注重数据，而 `xml` 更注重格式\n\n**YAML 文件扩展名：**\n\n* `.yml` (主流)\n* `.yaml`\n\n上面两种后缀名都可以，以后使用更多的还是 `yml` 的。\n\n#### 2.2.1  语法规则\n\n* 大小写敏感\n\n* 属性层级关系使用多行描述，每行结尾使用冒号结束\n\n* 使用缩进表示层级关系，同层级左侧对齐，只允许使用空格（不允许使用Tab键）\n\n  空格的个数并不重要，只要保证同层级的左侧对齐即可。\n\n* 属性值前面添加空格（属性名与属性值之间使用冒号+空格作为分隔）\n\n* \\# 表示注释\n\n==核心规则：数据前面要加空格与冒号隔开==\n\n数组数据在数据书写位置的下方使用减号作为数据开始符号，每行书写一个数据，减号与数据间空格分隔，例如\n\n```yaml\nenterprise:\n  name: itcast\n  age: 16\n  tel: 4006184000\n  subject:\n    - Java\n    - 前端\n    - 大数据\n```\n\n### 2.3  yaml配置文件数据读取\n\n#### 2.3.1  环境准备\n\n新创建一个名为 `springboot_03_read_data` 的 `SpringBoot` 工程，目录结构如下\n\n<img src=\"/image/image-20210917172736484.png\" alt=\"image-20210917172736484\" style=\"zoom:80%;\" />\n\n在 `com.itheima.controller` 包写创建名为 `BookController` 的控制器，内容如下\n\n```java\n@RestController\n@RequestMapping(\"/books\")\npublic class BookController {\n\n    @GetMapping(\"/{id}\")\n    public String getById(@PathVariable Integer id){\n        System.out.println(\"id ==> \"+id);\n        return \"hello , spring boot!\";\n    }\n}\n```\n\n在 `com.itheima.domain` 包下创建一个名为 `Enterprise` 的实体类等会用来封装数据，内容如下\n\n```java\npublic class Enterprise {\n    private String name;\n    private int age;\n    private String tel;\n    private String[] subject;\n    \n    //setter and getter\n    \n    //toString\n}\n```\n\n在 `resources` 下创建一个名为 `application.yml` 的配置文件，里面配置了不同的数据，内容如下\n\n```yaml\nlesson: SpringBoot\n\nserver:\n  port: 80\n\nenterprise:\n  name: itcast\n  age: 16\n  tel: 4006184000\n  subject:\n    - Java\n    - 前端\n    - 大数据\n```\n\n#### 2.3.2  读取配置数据\n\n##### 2.3.2.1  使用 @Value注解\n\n使用 `@Value(\"表达式\")` 注解可以从配合文件中读取数据，注解中用于读取属性名引用方式是：`${一级属性名.二级属性名……}`\n\n我们可以在 `BookController` 中使用 `@Value`  注解读取配合文件数据，如下\n\n```java\n@RestController\n@RequestMapping(\"/books\")\npublic class BookController {\n    \n    @Value(\"${lesson}\")\n    private String lesson;\n    @Value(\"${server.port}\")\n    private Integer port;\n    @Value(\"${enterprise.subject[0]}\")\n    private String subject_00;\n\n    @GetMapping(\"/{id}\")\n    public String getById(@PathVariable Integer id){\n        System.out.println(lesson);\n        System.out.println(port);\n        System.out.println(subject_00);\n        return \"hello , spring boot!\";\n    }\n}\n```\n\n##### 2.3.2.2  Environment对象\n\n上面方式读取到的数据特别零散，`SpringBoot` 还可以使用 `@Autowired` 注解注入 `Environment` 对象的方式读取数据。这种方式 `SpringBoot` 会将配置文件中所有的数据封装到 `Environment` 对象中，如果需要使用哪个数据只需要通过调用 `Environment` 对象的 `getProperty(String name)` 方法获取。具体代码如下：\n\n```java\n@RestController\n@RequestMapping(\"/books\")\npublic class BookController {\n    \n    @Autowired\n    private Environment env;\n    \n    @GetMapping(\"/{id}\")\n    public String getById(@PathVariable Integer id){\n        System.out.println(env.getProperty(\"lesson\"));\n        System.out.println(env.getProperty(\"enterprise.name\"));\n        System.out.println(env.getProperty(\"enterprise.subject[0]\"));\n        return \"hello , spring boot!\";\n    }\n}\n```\n\n> ==注意：这种方式，框架内容大量数据，而在开发中我们很少使用。==\n\n##### 2.3.2.3  自定义对象\n\n`SpringBoot` 还提供了将配置文件中的数据封装到我们自定义的实体类对象中的方式。具体操作如下：\n\n* 将实体类 `bean` 的创建交给 `Spring` 管理。\n\n  在类上添加 `@Component` 注解\n\n* 使用 `@ConfigurationProperties` 注解表示加载配置文件\n\n  在该注解中也可以使用 `prefix` 属性指定只加载指定前缀的数据\n\n* 在 `BookController` 中进行注入\n\n**具体代码如下：**\n\n`Enterprise` 实体类内容如下：\n\n```java\n@Component\n@ConfigurationProperties(prefix = \"enterprise\")\npublic class Enterprise {\n    private String name;\n    private int age;\n    private String tel;\n    private String[] subject;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    public void setAge(int age) {\n        this.age = age;\n    }\n\n    public String getTel() {\n        return tel;\n    }\n\n    public void setTel(String tel) {\n        this.tel = tel;\n    }\n\n    public String[] getSubject() {\n        return subject;\n    }\n\n    public void setSubject(String[] subject) {\n        this.subject = subject;\n    }\n\n    @Override\n    public String toString() {\n        return \"Enterprise{\" +\n                \"name='\" + name + '\\'' +\n                \", age=\" + age +\n                \", tel='\" + tel + '\\'' +\n                \", subject=\" + Arrays.toString(subject) +\n                '}';\n    }\n}\n```\n\n`BookController` 内容如下：\n\n```java\n@RestController\n@RequestMapping(\"/books\")\npublic class BookController {\n    \n    @Autowired\n    private Enterprise enterprise;\n\n    @GetMapping(\"/{id}\")\n    public String getById(@PathVariable Integer id){\n        System.out.println(enterprise.getName());\n        System.out.println(enterprise.getAge());\n        System.out.println(enterprise.getSubject());\n        System.out.println(enterprise.getTel());\n        System.out.println(enterprise.getSubject()[0]);\n        return \"hello , spring boot!\";\n    }\n}\n```\n\n==注意：==\n\n使用第三种方式，在实体类上有如下警告提示\n\n<img src=\"/image/image-20210917180919390.png\" alt=\"image-20210917180919390\" style=\"zoom:70%;\" />\n\n这个警告提示解决是在 `pom.xml` 中添加如下依赖即可\n\n```xml\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-configuration-processor</artifactId>\n    <optional>true</optional>\n</dependency>\n```\n\n### 2.4  多环境配置\n\n以后在工作中，对于开发环境、测试环境、生产环境的配置肯定都不相同，比如我们开发阶段会在自己的电脑上安装 `mysql` ，连接自己电脑上的 `mysql` 即可，但是项目开发完毕后要上线就需要该配置，将环境的配置改为线上环境的。\n\n<img src=\"/image/image-20210917185253557.png\" alt=\"image-20210917185253557\" style=\"zoom:60%;\" />\n\n来回的修改配置会很麻烦，而 `SpringBoot` 给开发者提供了多环境的快捷配置，需要切换环境时只需要改一个配置即可。不同类型的配置文件多环境开发的配置都不相同，接下来对不同类型的配置文件进行说明\n\n#### 2.4.1  yaml文件\n\n在 `application.yml` 中使用 `---` 来分割不同的配置，内容如下\n\n```yaml\n#开发\nspring:\n  profiles: dev #给开发环境起的名字\nserver:\n  port: 80\n---\n#生产\nspring:\n  profiles: pro #给生产环境起的名字\nserver:\n  port: 81\n---\n#测试\nspring:\n  profiles: test #给测试环境起的名字\nserver:\n  port: 82\n---\n```\n\n上面配置中 `spring.profiles` 是用来给不同的配置起名字的。而如何告知 `SpringBoot` 使用哪段配置呢？可以使用如下配置来启用都一段配置\n\n```yaml\n#设置启用的环境\nspring:\n  profiles:\n    active: dev  #表示使用的是开发环境的配置\n```\n\n综上所述，`application.yml` 配置文件内容如下\n\n```yaml\n#设置启用的环境\nspring:\n  profiles:\n    active: dev\n\n---\n#开发\nspring:\n  profiles: dev\nserver:\n  port: 80\n---\n#生产\nspring:\n  profiles: pro\nserver:\n  port: 81\n---\n#测试\nspring:\n  profiles: test\nserver:\n  port: 82\n---\n```\n\n==注意：==\n\n在上面配置中给不同配置起名字的 `spring.profiles` 配置项已经过时。最新用来起名字的配置项是 \n\n```yaml\n#开发\nspring:\n  config:\n    activate:\n      on-profile: dev\n```\n\n#### 2.4.2  properties文件\n\n`properties` 类型的配置文件配置多环境需要定义不同的配置文件\n\n* `application-dev.properties` 是开发环境的配置文件。我们在该文件中配置端口号为 `80`\n\n  ```properties\n  server.port=80\n  ```\n\n* `application-test.properties` 是测试环境的配置文件。我们在该文件中配置端口号为 `81`\n\n  ```properties\n  server.port=81\n  ```\n\n* `application-pro.properties` 是生产环境的配置文件。我们在该文件中配置端口号为 `82`\n\n  ```properties\n  server.port=82\n  ```\n\n`SpringBoot` 只会默认加载名为 `application.properties` 的配置文件，所以需要在 `application.properties` 配置文件中设置启用哪个配置文件，配置如下:\n\n```properties\nspring.profiles.active=pro\n```\n\n#### 2.4.3  命令行启动参数设置\n\n使用 `SpringBoot` 开发的程序以后都是打成 `jar` 包，通过 `java -jar xxx.jar` 的方式启动服务的。那么就存在一个问题，如何切换环境呢？因为配置文件打到的jar包中了。\n\n我们知道 `jar` 包其实就是一个压缩包，可以解压缩，然后修改配置，最后再打成jar包就可以了。这种方式显然有点麻烦，而 `SpringBoot` 提供了在运行 `jar` 时设置开启指定的环境的方式，如下\n\n```shell\njava –jar xxx.jar –-spring.profiles.active=test\n```\n\n那么这种方式能不能临时修改端口号呢？也是可以的，可以通过如下方式\n\n```shell\njava –jar xxx.jar –-server.port=88\n```\n\n当然也可以同时设置多个配置，比如即指定启用哪个环境配置，又临时指定端口，如下\n\n```shell\njava –jar springboot.jar –-server.port=88 –-spring.profiles.active=test\n```\n\n大家进行测试后就会发现命令行设置的端口号优先级高（也就是使用的是命令行设置的端口号），配置的优先级其实 `SpringBoot` 官网已经进行了说明，参见 :\n\n```\nhttps://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-external-config\n```\n\n进入上面网站后会看到如下页面\n\n![image-20210917193910191](../image/image-20210917193910191.png)\n\n如果使用了多种方式配合同一个配置项，优先级高的生效。\n\n### 2.5  配置文件分类\n\n<img src=\"/image/image-20210917194941597.png\" alt=\"image-20210917194941597\" style=\"zoom:70%;\" />\n\n有这样的场景，我们开发完毕后需要测试人员进行测试，由于测试环境和开发环境的很多配置都不相同，所以测试人员在运行我们的工程时需要临时修改很多配置，如下\n\n```shell\njava –jar springboot.jar –-spring.profiles.active=test --server.port=85 --server.servlet.context-path=/heima --server.tomcat.connection-timeout=-1 …… …… …… …… ……\n```\n\n针对这种情况，`SpringBoot` 定义了配置文件不同的放置的位置；而放在不同位置的优先级时不同的。\n\n`SpringBoot` 中4级配置文件放置位置：\n\n* 1级：classpath：application.yml  \n* 2级：classpath：config/application.yml\n* 3级：file ：application.yml\n* 4级：file ：config/application.yml \n\n> ==说明：==级别越高优先级越高\n\n#### 2.5.1  代码演示\n\n在这里我们只演示不同级别配置文件放置位置的优先级。\n\n##### 2.5.1.1  环境准备\n\n创建一个名为 `springboot_06_config_file` 的 `SpringBoot` 工程，目录结构如下\n\n<img src=\"/image/image-20210917200241282.png\" alt=\"image-20210917200241282\" style=\"zoom:80%;\" />\n\n在 `resources` 下创建一个名为 `config` 的目录，在该目录中创建 `application.yml` 配置文件，而在该配置文件中将端口号设置为 `81`，内容如下\n\n```yaml\nserver:\n  port: 81\n```\n\n而在 `resources` 下创建的 `application.yml` 配置文件中并将端口号设置为 `80`，内容如下\n\n```yaml\nserver:\n  port: 80\n```\n\n##### 2.5.1.2  验证1级和2级的优先级\n\n运行启动引导类，可以在控制台看到如下日志信息\n\n![image-20210917200805389](../image/image-20210917200805389.png)\n\n通过这个结果可以得出==类路径下的 `config` 下的配置文件优先于类路径下的配置文件。==\n\n##### 2.5.1.3  验证2级和4级的优先级\n\n要验证4级，按照以下步骤完成\n\n* 将工程打成 `jar` 包\n\n  点击工程的 `package` 来打 `jar` 包\n\n  <img src=\"/image/image-20210917201243721.png\" alt=\"image-20210917201243721\" style=\"zoom:80%;\" />\n\n* 在硬盘上找到 `jar` 包所在位置\n\n  <img src=\"/image/image-20210917201523669.png\" alt=\"image-20210917201523669\" style=\"zoom:70%;\" />\n\n* 在 `jar` 包所在位置创建 `config` 文件夹，在该文件夹下创建 `application.yml` 配置文件，而在该配合文件中将端口号设置为 `82` \n\n* 在命令行使用以下命令运行程序\n\n  ```shell\n  java -jar springboot_06_config_file-0.0.1-SNAPSHOT.jar\n  ```\n\n  运行后日志信息如下\n\n  ![image-20210917201922831](../image/image-20210917201922831.png)\n\n  通过这个结果可以得出==file： `config` 下的配置文件优先于类路径下的配置文件。==\n\n> ==注意：==\n>\n> SpringBoot 2.5.0版本存在一个bug，我们在使用这个版本时，需要在 `jar` 所在位置的 `config` 目录下创建一个任意名称的文件夹\n\n## 3，SpringBoot整合junit\n\n回顾 `Spring` 整合 `junit`\n\n```java\n@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(classes = SpringConfig.class)\npublic class UserServiceTest {\n    \n    @Autowired\n    private BookService bookService;\n    \n    @Test\n    public void testSave(){\n        bookService.save();\n    }\n}\n```\n\n使用 `@RunWith` 注解指定运行器，使用 `@ContextConfiguration` 注解来指定配置类或者配置文件。而 `SpringBoot` 整合 `junit` 特别简单，分为以下三步完成\n\n* 在测试类上添加 `SpringBootTest` 注解\n* 使用 `@Autowired` 注入要测试的资源\n* 定义测试方法进行测试\n\n### 3.1  环境准备\n\n创建一个名为 `springboot_07_test` 的 `SpringBoot` 工程，工程目录结构如下\n\n<img src=\"/image/image-20210917213556673.png\" alt=\"image-20210917213556673\" style=\"zoom:80%;\" />\n\n在 `com.itheima.service` 下创建 `BookService` 接口，内容如下\n\n```java\npublic interface BookService {\n    public void save();\n}\n```\n\n在 `com.itheima.service.impl` 包写创建一个 `BookServiceImpl` 类，使其实现 `BookService` 接口，内容如下\n\n```java\n@Service\npublic class BookServiceImpl implements BookService {\n    @Override\n    public void save() {\n        System.out.println(\"book service is running ...\");\n    }\n}\n```\n\n### 3.2  编写测试类\n\n在 `test/java` 下创建 `com.itheima` 包，在该包下创建测试类，将 `BookService` 注入到该测试类中\n\n```java\n@SpringBootTest\nclass Springboot07TestApplicationTests {\n\n    @Autowired\n    private BookService bookService;\n\n    @Test\n    public void save() {\n        bookService.save();\n    }\n}\n```\n\n> ==注意：==这里的引导类所在包必须是测试类所在包及其子包。\n>\n> 例如：\n>\n> * 引导类所在包是 `com.itheima`\n> * 测试类所在包是 `com.itheima`\n>\n> 如果不满足这个要求的话，就需要在使用 `@SpringBootTest` 注解时，使用 `classes` 属性指定引导类的字节码对象。如 `@SpringBootTest(classes = Springboot07TestApplication.class)`\n\n## 4，SpringBoot整合mybatis\n\n### 4.1  回顾Spring整合Mybatis\n\n`Spring` 整合 `Mybatis` 需要定义很多配置类\n\n* `SpringConfig` 配置类\n\n  * 导入 `JdbcConfig` 配置类\n\n  * 导入 `MybatisConfig` 配置类\n\n    ```java\n    @Configuration\n    @ComponentScan(\"com.itheima\")\n    @PropertySource(\"classpath:jdbc.properties\")\n    @Import({JdbcConfig.class,MyBatisConfig.class})\n    public class SpringConfig {\n    }\n    \n    ```\n\n* `JdbcConfig` 配置类\n\n  * 定义数据源（加载properties配置项：driver、url、username、password）\n\n    ```java\n    public class JdbcConfig {\n        @Value(\"${jdbc.driver}\")\n        private String driver;\n        @Value(\"${jdbc.url}\")\n        private String url;\n        @Value(\"${jdbc.username}\")\n        private String userName;\n        @Value(\"${jdbc.password}\")\n        private String password;\n    \n        @Bean\n        public DataSource getDataSource(){\n            DruidDataSource ds = new DruidDataSource();\n            ds.setDriverClassName(driver);\n            ds.setUrl(url);\n            ds.setUsername(userName);\n            ds.setPassword(password);\n            return ds;\n        }\n    }\n    ```\n\n* `MybatisConfig` 配置类\n\n  * 定义 `SqlSessionFactoryBean`\n\n  * 定义映射配置\n\n    ```java\n    @Bean\n    public MapperScannerConfigurer getMapperScannerConfigurer(){\n        MapperScannerConfigurer msc = new MapperScannerConfigurer();\n        msc.setBasePackage(\"com.itheima.dao\");\n        return msc;\n    }\n    \n    @Bean\n    public SqlSessionFactoryBean getSqlSessionFactoryBean(DataSource dataSource){\n        SqlSessionFactoryBean ssfb = new SqlSessionFactoryBean();\n        ssfb.setTypeAliasesPackage(\"com.itheima.domain\");\n        ssfb.setDataSource(dataSource);\n        return ssfb;\n    }\n    \n    ```\n\n### 4.2  SpringBoot整合mybatis\n\n#### 4.2.1  创建模块\n\n* 创建新模块，选择 `Spring Initializr`，并配置模块相关基础信息\n\n<img src=\"/image/image-20210917215913779.png\" alt=\"image-20210917215913779\" style=\"zoom:80%;\" />\n\n* 选择当前模块需要使用的技术集（MyBatis、MySQL）\n\n  <img src=\"/image/image-20210917215958091.png\" alt=\"image-20210917215958091\" style=\"zoom:80%;\" />\n\n#### 4.2.2  定义实体类\n\n在 `com.itheima.domain` 包下定义实体类 `Book`，内容如下\n\n```java\npublic class Book {\n    private Integer id;\n    private String name;\n    private String type;\n    private String description;\n    \n    //setter and  getter\n    \n    //toString\n}\n```\n\n#### 4.2.3  定义dao接口\n\n在 `com.itheima.dao` 包下定义 `BookDao` 接口，内容如下\n\n```java\npublic interface BookDao {\n    @Select(\"select * from tbl_book where id = #{id}\")\n    public Book getById(Integer id);\n}\n```\n\n#### 4.2.4  定义测试类\n\n在 `test/java` 下定义包 `com.itheima` ，在该包下测试类，内容如下\n\n```java\n@SpringBootTest\nclass Springboot08MybatisApplicationTests {\n\n\t@Autowired\n\tprivate BookDao bookDao;\n\n\t@Test\n\tvoid testGetById() {\n\t\tBook book = bookDao.getById(1);\n\t\tSystem.out.println(book);\n\t}\n}\n```\n\n#### 4.2.5  编写配置\n\n我们代码中并没有指定连接哪儿个数据库，用户名是什么，密码是什么。所以这部分需要在 `SpringBoot` 的配置文件中进行配合。\n\n在 `application.yml` 配置文件中配置如下内容\n\n```yml\nspring:\n  datasource:\n    driver-class-name: com.mysql.jdbc.Driver\n    url: jdbc:mysql://localhost:3306/ssm_db\n    username: root\n    password: root\n```\n\n#### 4.2.6  测试\n\n运行测试方法，我们会看到如下错误信息\n\n<img src=\"/image/image-20210917221427930.png\" alt=\"image-20210917221427930\" style=\"zoom:70%;\" />\n\n错误信息显示在 `Spring` 容器中没有 `BookDao` 类型的 `bean`。为什么会出现这种情况呢？\n\n原因是 `Mybatis` 会扫描接口并创建接口的代码对象交给 `Spring` 管理，但是现在并没有告诉 `Mybatis` 哪个是 `dao` 接口。而我们要解决这个问题需要在`BookDao` 接口上使用 `@Mapper` ，`BookDao` 接口改进为\n\n```java\n@Mapper\npublic interface BookDao {\n    @Select(\"select * from tbl_book where id = #{id}\")\n    public Book getById(Integer id);\n}\n```\n\n> ==注意：==\n>\n> `SpringBoot` 版本低于2.4.3(不含)，Mysql驱动版本大于8.0时，需要在url连接串中配置时区 `jdbc:mysql://localhost:3306/ssm_db?serverTimezone=UTC`，或在MySQL数据库端配置时区解决此问题\n\n#### 4.2.7  使用Druid数据源\n\n现在我们并没有指定数据源，`SpringBoot` 有默认的数据源，我们也可以指定使用 `Druid` 数据源，按照以下步骤实现\n\n* 导入 `Druid` 依赖\n\n  ```xml\n  <dependency>\n      <groupId>com.alibaba</groupId>\n      <artifactId>druid</artifactId>\n      <version>1.1.16</version>\n  </dependency>\n  ```\n\n* 在 `application.yml` 配置文件配置\n\n  可以通过 `spring.datasource.type` 来配置使用什么数据源。配置文件内容可以改进为\n\n  ```yaml\n  spring:\n    datasource:\n      driver-class-name: com.mysql.cj.jdbc.Driver\n      url: jdbc:mysql://localhost:3306/ssm_db?serverTimezone=UTC\n      username: root\n      password: root\n      type: com.alibaba.druid.pool.DruidDataSource\n  ```\n\n## 5，案例\n\n`SpringBoot` 到这就已经学习完毕，接下来我们将学习 `SSM` 时做的三大框架整合的案例用 `SpringBoot` 来实现一下。我们完成这个案例基本是将之前做的拷贝过来，修改成 `SpringBoot` 的即可，主要从以下几部分完成\n\n1. pom.xml\n\n   配置起步依赖，必要的资源坐标(druid)\n\n2. application.yml\n\n   设置数据源、端口等\n\n3. 配置类\n\n   全部删除\n\n4. dao\n\n   设置@Mapper\n\n5. 测试类\n\n6. 页面\n\n   放置在resources目录下的static目录中\n\n### 5.1  创建工程\n\n创建 `SpringBoot` 工程，在创建工程时需要勾选 `web`、`mysql`、`mybatis`，工程目录结构如下\n\n<img src=\"/image/image-20210917225019868.png\" alt=\"image-20210917225019868\" style=\"zoom:80%;\" />\n\n由于我们工程中使用到了 `Druid` ，所以需要导入 `Druid` 的坐标\n\n```xml\n<dependency>\n    <groupId>com.alibaba</groupId>\n    <artifactId>druid</artifactId>\n    <version>1.1.16</version>\n</dependency>\n```\n\n### 5.2  代码拷贝\n\n将 `springmvc_11_page` 工程中的 `java` 代码及测试代码连同包拷贝到 `springboot_09_ssm` 工程，按照下图进行拷贝\n\n<img src=\"/image/image-20210917225715519.png\" alt=\"image-20210917225715519\" style=\"zoom:70%;\" />\n\n需要修改的内容如下：\n\n* `Springmvc_11_page` 中 `config` 包下的是配置类，而 `SpringBoot` 工程不需要这些配置类，所以这些可以直接删除\n\n* `dao` 包下的接口上在拷贝到 `springboot_09-ssm` 工程中需要在接口中添加 `@Mapper` 注解\n\n* `BookServiceTest` 测试需要改成 `SpringBoot` 整合 `junit` 的\n\n  ```java\n  @SpringBootTest\n  public class BookServiceTest {\n  \n      @Autowired\n      private BookService bookService;\n  \n      @Test\n      public void testGetById(){\n          Book book = bookService.getById(2);\n          System.out.println(book);\n      }\n  \n      @Test\n      public void testGetAll(){\n          List<Book> all = bookService.getAll();\n          System.out.println(all);\n      }\n  }\n  ```\n\n### 5.3  配置文件\n\n在 `application.yml` 配置文件中需要配置如下内容\n\n* 服务的端口号\n* 连接数据库的信息\n* 数据源\n\n```yaml\nserver:\n  port: 80\n\nspring:\n  datasource:\n    type: com.alibaba.druid.pool.DruidDataSource\n    driver-class-name: com.mysql.cj.jdbc.Driver\n    url: jdbc:mysql://localhost:3306/ssm_db #?servierTimezone=UTC\n    username: root\n    password: root\n```\n\n### 5.4  静态资源\n\n在 `SpringBoot` 程序中是没有 `webapp` 目录的，那么在 `SpringBoot` 程序中静态资源需要放在什么位置呢？\n\n静态资源需要放在 `resources` 下的 `static` 下，如下图所示\n\n<img src=\"/image/image-20210917230702072.png\" alt=\"image-20210917230702072\" style=\"zoom:80%;\" />\n\n\n\n","source":"_posts/SSM学习.md","raw":"---\ntitle: SSM学习\ndate:  2023-03-03 \ntags:\n- Spring\n- Sprintboot\n- Mybatis\ncategories: \n- 技术分享\n---\n\n学点后端吧，学习了黑马的SSM课程,耗时半个寒假，以前提前放假安得一息安寝\n\n用了Springboot再也不想碰Spring\n\n<!-- more -->\n\n## SpringBoot\n\n**今日目标：**\n\n> * 掌握基于SpringBoot框架的程序开发步骤\n> * 熟练使用SpringBoot配置信息修改服务器配置\n> * 基于SpringBoot的完成SSM整合项目开发\n\n## 1，SpringBoot简介\n\n`SpringBoot` 是由 `Pivotal` 团队提供的全新框架，其设计目的是用来==简化== `Spring` 应用的==初始搭建==以及==开发过程==。\n\n使用了 `Spring` 框架后已经简化了我们的开发。而 `SpringBoot` 又是对 `Spring` 开发进行简化的，可想而知 `SpringBoot` 使用的简单及广泛性。既然 `SpringBoot` 是用来简化 `Spring` 开发的，那我们就先回顾一下，以 `SpringMVC` 开发为例：\n\n1. **创建工程，并在 `pom.xml` 配置文件中配置所依赖的坐标**\n\n<img src=\"/image/image-20210911132335452.png\" alt=\"image-20210911133112602\" style=\"zoom:50%;\" />\n\n2. **编写 `web3.0` 的配置类**\n\n   作为 `web` 程序，`web3.0` 的配置类不能缺少，而这个配置类还是比较麻烦的，代码如下\n\n<img src=\"/image/image-20210911133112602.png\" alt=\"image-20210911133112602\" style=\"zoom:50%;\" />\n\n3. **编写 `SpringMVC` 的配置类**\n\n<img src=\"/image/image-20210911133219847.png\" alt=\"image-20210911133219847\" style=\"zoom:50%;\" />\n\n​\t做到这只是将工程的架子搭起来。要想被外界访问，最起码还需要提供一个 `Controller` 类，在该类中提供一个方法。\n\n4. **编写 `Controller` 类**\n\n<img src=\"/image/image-20210911133532151.png\" alt=\"image-20210911133532151\" style=\"zoom:50%;\" />\n\n从上面的 `SpringMVC` 程序开发可以看到，前三步都是在搭建环境，而且这三步基本都是固定的。`SpringBoot` 就是对这三步进行简化了。接下来我们通过一个入门案例来体现 `SpingBoot` 简化 `Spring` 开发。\n\n### 1.1  SpringBoot快速入门\n\n#### 1.1.1  开发步骤\n\n`SpringBoot` 开发起来特别简单，分为如下几步：\n\n* 创建新模块，选择Spring初始化，并配置模块相关基础信息\n* 选择当前模块需要使用的技术集\n* 开发控制器类\n* 运行自动生成的Application类\n\n知道了 `SpringBoot` 的开发步骤后，接下来我们进行具体的操作\n\n##### 1.1.1.1  创建新模块\n\n* 点击 `+` 选择 `New Module` 创建新模块\n\n<img src=\"/image/image-20210911155135008.png\" alt=\"image-20210911155135008\" style=\"zoom:60%;\" />\n\n* 选择 `Spring Initializr` ，用来创建 `SpringBoot` 工程\n\n  以前我们选择的是 `Maven` ，今天选择 `Spring Initializr` 来快速构建 `SpringBoot` 工程。而在 `Module SDK` 这一项选择我们安装的 `JDK` 版本。\n\n<img src=\"/image/image-20210911155249493.png\" alt=\"image-20210911155249493\" style=\"zoom:60%;\" />\n\n* 对 `SpringBoot` 工程进行相关的设置\n\n  我们使用这种方式构建的 `SpringBoot` 工程其实也是 `Maven` 工程，而该方式只是一种快速构建的方式而已。\n\n  <img src=\"/image/image-20210911155916899.png\" alt=\"image-20210911155916899\" style=\"zoom:67%;\" />\n\n  > ==注意：打包方式这里需要设置为 `Jar`==\n\n* 选中 `Web`，然后勾选 `Spring Web`\n\n  由于我们需要开发一个 `web` 程序，使用到了 `SpringMVC` 技术，所以按照下图红框进行勾选\n\n<img src=\"/../../../../../../assets/image-20210911160040328.png\" alt=\"image-20210911160040328\" style=\"zoom:60%;\" />\n\n* 下图界面不需要任何修改，直接点击 `Finish` 完成 `SpringBoot` 工程的构建\n\n<img src=\"/image/image-20210911160353534.png\" alt=\"image-20210911160353534\" style=\"zoom:70%;\" />\n\n经过以上步骤后就创建了如下结构的模块，它会帮我们自动生成一个 `Application` 类，而该类一会再启动服务器时会用到\n\n<img src=\"/image/image-20210911160541833.png\" alt=\"image-20210911160541833\" style=\"zoom:80%;\" />\n\n> ==注意：==\n>\n> 1. 在创建好的工程中不需要创建配置类\n>\n> 2. 创建好的项目会自动生成其他的一些文件，而这些文件目前对我们来说没有任何作用，所以可以将这些文件删除。\n>\n>    可以删除的目录和文件如下：\n>\n>    * `.mvn`\t\n>    * `.gitignore`\n>    * `HELP.md`\n>    * `mvnw`\n>    * `mvnw.cmd`\n\n##### 1.1.1.2  创建 `Controller`\n\n在  `com.itheima.controller` 包下创建 `BookController` ，代码如下：\n\n```java\n@RestController\n@RequestMapping(\"/books\")\npublic class BookController {\n\n    @GetMapping(\"/{id}\")\n    public String getById(@PathVariable Integer id){\n        System.out.println(\"id ==> \"+id);\n        return \"hello , spring boot!\";\n    }\n}\n```\n\n##### 1.1.1.3  启动服务器\n\n运行 `SpringBoot` 工程不需要使用本地的 `Tomcat` 和 插件，只运行项目 `com.itheima` 包下的 `Application` 类，我们就可以在控制台看出如下信息\n\n![image-20210911165642280](../image/image-20210911165642280.png)\n\n##### 1.1.1.4  进行测试\n\n使用 `Postman` 工具来测试我们的程序\n\n![image-20210911160850121](../image/image-20210911160850121.png)\n\n通过上面的入门案例我们可以看到使用 `SpringBoot` 进行开发，使整个开发变得很简单，那它是如何做到的呢？\n\n要研究这个问题，我们需要看看 `Application` 类和 `pom.xml` 都书写了什么。先看看 `Applicaion` 类，该类内容如下：\n\n```java\n@SpringBootApplication\npublic class Application {\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n```\n\n这个类中的东西很简单，就在类上添加了一个 `@SpringBootApplication` 注解，而在主方法中就一行代码。我们在启动服务器时就是执行的该类中的主方法。\n\n再看看 `pom.xml` 配置文件中的内容\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\">\n    <modelVersion>4.0.0</modelVersion>\n    \n    <!--指定了一个父工程，父工程中的东西在该工程中可以继承过来使用-->\n    <parent>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-parent</artifactId>\n        <version>2.5.0</version>\n    </parent>\n    <groupId>com.itheima</groupId>\n    <artifactId>springboot_01_quickstart</artifactId>\n    <version>0.0.1-SNAPSHOT</version>\n\n    <!--JDK 的版本-->\n    <properties>\n        <java.version>8</java.version>\n    </properties>\n    \n    <dependencies>\n        <!--该依赖就是我们在创建 SpringBoot 工程勾选的那个 Spring Web 产生的-->\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-web</artifactId>\n        </dependency>\n\t\t<!--这个是单元测试的依赖，我们现在没有进行单元测试，所以这个依赖现在可以没有-->\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-test</artifactId>\n            <scope>test</scope>\n        </dependency>\n    </dependencies>\n\n    <build>\n        <plugins>\n            <!--这个插件是在打包时需要的，而这里暂时还没有用到-->\n            <plugin>\n                <groupId>org.springframework.boot</groupId>\n                <artifactId>spring-boot-maven-plugin</artifactId>\n            </plugin>\n        </plugins>\n    </build>\n</project>\n```\n\n我们代码之所以能简化，就是因为指定的父工程和 `Spring Web` 依赖实现的。具体的我们后面在聊。\n\n#### 1.1.2  对比\n\n做完 `SpringBoot` 的入门案例后，接下来对比一下 `Spring` 程序和 `SpringBoot` 程序。如下图\n\n<img src=\"/image/image-20210911172200292.png\" alt=\"image-20210911172200292\" style=\"zoom:60%;\" />\n\n* **坐标**\n\n  `Spring` 程序中的坐标需要自己编写，而且坐标非常多\n\n  `SpringBoot` 程序中的坐标是我们在创建工程时进行勾选自动生成的\n\n* **web3.0配置类**\n\n  `Spring` 程序需要自己编写这个配置类。这个配置类大家之前编写过，肯定感觉很复杂\n\n  `SpringBoot` 程序不需要我们自己书写\n\n* **配置类**\n\n  `Spring/SpringMVC` 程序的配置类需要自己书写。而 `SpringBoot`  程序则不需要书写。\n\n> ==注意：基于Idea的 `Spring Initializr` 快速构建 `SpringBoot` 工程时需要联网。== \n\n#### 1.1.3  官网构建工程\n\n在入门案例中之所以能快速构建 `SpringBoot` 工程，是因为 `Idea` 使用了官网提供了快速构建 `SpringBoot` 工程的组件实现的。那如何在官网进行工程构建呢？通过如下步骤构建\n\n##### 1.1.3.1  进入SpringBoot官网\n\n官网地址如下：\n\n```\nhttps://spring.io/projects/spring-boot\n```\n\n进入到 `SpringBoot` 官网后拖到最下方就可以看到如下内容\n\n<img src=\"/image/image-20210911173712014.png\" alt=\"image-20210911173712014\" style=\"zoom:60%;\" />\n\n然后点击 `Spring Initializr` 超链接就会跳转到如下页面\n\n![image-20210911174110687](../image/image-20210911174110687.png)\n\n这个页面内容是不是感觉很眼熟的，这和我们使用 `Idea` 快速构建 `SpringBoot` 工程的界面基本相同。在上面页面输入对应的信息\n\n##### 1.1.3.2  选择依赖\n\n选择 `Spring Web` 可以点击上图右上角的 `ADD DEPENDENCIES... CTRL + B` 按钮，就会出现如下界面\n\n![image-20210911174650679](../image/image-20210911174650679.png)\n\n##### 1.1.3.3  生成工程\n\n以上步骤完成后就可以生成 `SpringBoot` 工程了。在页面的最下方点击 `GENERATE CTRL + 回车` 按钮生成工程并下载到本地，如下图所示\n\n![image-20210911175222857](../image/image-20210911175222857.png)\n\n打开下载好的压缩包可以看到工程结构和使用 `Idea` 生成的一模一样，如下图\n\n<img src=\"/image/image-20210911175502834.png\" alt=\"image-20210911175502834\" style=\"zoom:80%;\" />\n\n而打开 `pom.xml` 文件，里面也包含了父工程和 `Spring Web` 的依赖。\n\n通过上面官网的操作，我们知道 `Idea` 中快速构建 `SpringBoot` 工程其实就是使用的官网的快速构建组件，那以后即使没有 `Idea` 也可以使用官网的方式构建 `SpringBoot` 工程。\n\n#### 1.1.4  SpringBoot工程快速启动\n\n##### 1.1.4.1  问题导入\n\n<img src=\"/image/image-20210911180828611.png\" alt=\"image-20210911180828611\" style=\"zoom:50%;\" />\n\n以后我们和前端开发人员协同开发，而前端开发人员需要测试前端程序就需要后端开启服务器，这就受制于后端开发人员。为了摆脱这个受制，前端开发人员尝试着在自己电脑上安装 `Tomcat` 和 `Idea` ，在自己电脑上启动后端程序，这显然不现实。\n\n我们后端可以将 `SpringBoot` 工程打成 `jar` 包，该 `jar` 包运行不依赖于 `Tomcat` 和 `Idea` 这些工具也可以正常运行，只是这个 `jar` 包在运行过程中连接和我们自己程序相同的 `Mysql` 数据库即可。这样就可以解决这个问题，如下图\n\n<img src=\"/image/image-20210911181714437.png\" alt=\"image-20210911181714437\" style=\"zoom:50%;\" />\n\n那现在问题是如何打包呢？\n\n##### 1.1.4.2  打包\n\n由于我们在构建 `SpringBoot` 工程时已经在 `pom.xml` 中配置了如下插件\n\n```xml\n<plugin>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-maven-plugin</artifactId>\n</plugin>\n```\n\n所以我们只需要使用 `Maven` 的 `package` 指令打包就会在 `target` 目录下生成对应的 `Jar` 包。\n\n> ==注意：该插件必须配置，不然打好的 `jar` 包也是有问题的。==\n\n##### 1.1.4.3  启动\n\n进入 `jar` 包所在位置，在 `命令提示符` 中输入如下命令\n\n```shell\njar -jar springboot_01_quickstart-0.0.1-SNAPSHOT.jar\n```\n\n执行上述命令就可以看到 `SpringBoot` 运行的日志信息\n\n<img src=\"/image/image-20210911182956629.png\" alt=\"image-20210911182956629\" style=\"zoom:60%;\" />\n\n### 1.2  SpringBoot概述\n\n`SpringBoot` 是由Pivotal团队提供的全新框架，其设计目的是用来==简化==Spring应用的==初始搭建==以及==开发过程==。\n\n大家已经感受了 `SpringBoot` 程序，回过头看看 `SpringBoot` 主要作用是什么，就是简化 `Spring` 的搭建过程和开发过程。\n\n原始 `Spring` 环境搭建和开发存在以下问题：\n\n* 配置繁琐\n* 依赖设置繁琐\n\n`SpringBoot` 程序优点恰巧就是针对 `Spring` 的缺点\n\n* 自动配置。这个是用来解决 `Spring` 程序配置繁琐的问题\n* 起步依赖。这个是用来解决 `Spring` 程序依赖设置繁琐的问题\n* 辅助功能（内置服务器,...）。我们在启动 `SpringBoot` 程序时既没有使用本地的 `tomcat` 也没有使用 `tomcat` 插件，而是使用 `SpringBoot` 内置的服务器。\n\n接下来我们来说一下 `SpringBoot` 的起步依赖\n\n#### 1.2.1  起步依赖\n\n我们使用 `Spring Initializr`  方式创建的 `Maven` 工程的的 `pom.xml` 配置文件中自动生成了很多包含 `starter` 的依赖，如下图\n\n<img src=\"/image/image-20210918220338109.png\" alt=\"image-20210918220338109\" style=\"zoom:70%;\" />\n\n这些依赖就是==启动依赖==，接下来我们探究一下他是如何实现的。\n\n##### 1.2.1.1  探索父工程\n\n从上面的文件中可以看到指定了一个父工程，我们进入到父工程，发现父工程中又指定了一个父工程，如下图所示\n\n<img src=\"/image/image-20210918220855024.png\" alt=\"image-20210918220855024\" style=\"zoom:80%;\" />\n\n再进入到该父工程中，在该工程中我们可以看到配置内容结构如下图所示\n\n<img src=\"/image/image-20210918221042947.png\" alt=\"image-20210918221042947\" style=\"zoom:80%;\" />\n\n上图中的 `properties` 标签中定义了各个技术软件依赖的版本，避免了我们在使用不同软件技术时考虑版本的兼容问题。在 `properties` 中我们找 `servlet`  和 `mysql` 的版本如下图\n\n<img src=\"/image/image-20210918221511249.png\" alt=\"image-20210918221511249\" style=\"zoom:80%;\" />\n\n`dependencyManagement` 标签是进行依赖版本锁定，但是并没有导入对应的依赖；如果我们工程需要那个依赖只需要引入依赖的 `groupid` 和 `artifactId` 不需要定义 `version`。\n\n而 `build` 标签中也对插件的版本进行了锁定，如下图\n\n<img src=\"/image/image-20210918221942453.png\" alt=\"image-20210918221942453\" style=\"zoom:80%;\" />\n\n看完了父工程中 `pom.xml` 的配置后不难理解我们工程的的依赖为什么都没有配置 `version`。\n\n##### 1.2.1.2  探索依赖\n\n在我们创建的工程中的 `pom.xml` 中配置了如下依赖\n\n<img src=\"/image/image-20210918222321402.png\" alt=\"image-20210918222321402\" style=\"zoom:80%;\" />\n\n进入到该依赖，查看 `pom.xml` 的依赖会发现它引入了如下的依赖\n\n<img src=\"/image/image-20210918222607469.png\" alt=\"image-20210918222607469\" style=\"zoom:80%;\" />\n\n里面的引入了 `spring-web` 和 `spring-webmvc` 的依赖，这就是为什么我们的工程中没有依赖这两个包还能正常使用 `springMVC` 中的注解的原因。\n\n而依赖 `spring-boot-starter-tomcat` ，从名字基本能确认内部依赖了 `tomcat`，所以我们的工程才能正常启动。\n\n==结论：以后需要使用技术，只需要引入该技术对应的起步依赖即可==\n\n##### 1.2.1.3  小结\n\n**starter**\n\n* `SpringBoot` 中常见项目名称，定义了当前项目使用的所有项目坐标，以达到减少依赖配置的目的\n\n**parent**\n\n* 所有 `SpringBoot` 项目要继承的项目，定义了若干个坐标版本号（依赖管理，而非依赖），以达到减少依赖冲突的目的\n\n* `spring-boot-starter-parent`（2.5.0）与 `spring-boot-starter-parent`（2.4.6）共计57处坐标版本不同\n\n**实际开发**\n\n* 使用任意坐标时，仅书写GAV中的G和A，V由SpringBoot提供\n\n  > G：groupid\n  >\n  > A：artifactId\n  >\n  > V：version\n\n* 如发生坐标错误，再指定version（要小心版本冲突）\n\n#### 1.2.2  程序启动\n\n创建的每一个 `SpringBoot` 程序时都包含一个类似于下面的类，我们将这个类称作引导类\n\n```java\n@SpringBootApplication\npublic class Springboot01QuickstartApplication {\n    \n    public static void main(String[] args) {\n        SpringApplication.run(Springboot01QuickstartApplication.class, args);\n    }\n}\n```\n\n==注意：==\n\n* `SpringBoot` 在创建项目时，采用jar的打包方式\n\n* `SpringBoot` 的引导类是项目的入口，运行 `main` 方法就可以启动项目\n\n  因为我们在 `pom.xml` 中配置了 `spring-boot-starter-web` 依赖，而该依赖通过前面的学习知道它依赖 `tomcat` ，所以运行 `main` 方法就可以使用 `tomcat` 启动咱们的工程。\n\n#### 1.2.3  切换web服务器\n\n现在我们启动工程使用的是 `tomcat` 服务器，那能不能不使用 `tomcat` 而使用 `jetty` 服务器，`jetty` 在我们 `maven` 高级时讲 `maven` 私服使用的服务器。而要切换 `web` 服务器就需要将默认的 `tomcat` 服务器给排除掉，怎么排除呢？使用 `exclusion` 标签\n\n```xml\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-web</artifactId>\n    <exclusions>\n        <exclusion>\n            <artifactId>spring-boot-starter-tomcat</artifactId>\n            <groupId>org.springframework.boot</groupId>\n        </exclusion>\n    </exclusions>\n</dependency>\n```\n\n现在我们运行引导类可以吗？运行一下试试，打印的日志信息如下\n\n![image-20210918232512707](../image/image-20210918232512707.png)\n\n程序直接停止了，为什么呢？那是因为排除了 `tomcat` 服务器，程序中就没有服务器了。所以此时不光要排除 `tomcat` 服务器，还要引入 `jetty` 服务器。在 `pom.xml` 中因为 `jetty` 的起步依赖\n\n```xml\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-jetty</artifactId>\n</dependency>\n```\n\n接下来再次运行引导类，在日志信息中就可以看到使用的是 `jetty` 服务器\n\n![image-20210918232904623](../image/image-20210918232904623.png)\n\n**小结：**\n\n通过切换服务器，我们不难发现在使用 `SpringBoot` 换技术时只需要导入该技术的起步依赖即可。\n\n## 2，配置文件\n\n### 2.1  配置文件格式\n\n我们现在启动服务器默认的端口号是 `8080`，访问路径可以书写为\n\n```\nhttp://localhost:8080/books/1\n```\n\n在线上环境我们还是希望将端口号改为 `80`，这样在访问的时候就可以不写端口号了，如下\n\n```\nhttp://localhost/books/1\n```\n\n而 `SpringBoot` 程序如何修改呢？`SpringBoot` 提供了多种属性配置方式\n\n* `application.properties`\n\n  ```\n  server.port=80\n  ```\n\n* `application.yml`\n\n  ```yaml\n  server:\n  \tport: 81\n  ```\n\n* `application.yaml`\n\n  ```yaml\n  server:\n  \tport: 82\n  ```\n\n> ==注意：`SpringBoot` 程序的配置文件名必须是 `application` ，只是后缀名不同而已。==\n\n#### 2.1.1  环境准备\n\n创建一个新工程 `springboot_02_base_config` 用来演示不同的配置文件，工程环境和入门案例一模一样，结构如下：\n\n<img src=\"/image/image-20210917151314753.png\" alt=\"image-20210917151314753\" style=\"zoom:80%;\" />\n\n在该工程中的 `com.itheima.controller` 包下创建一个名为 `BookController` 的控制器。内容如下：\n\n```java\n@RestController\n@RequestMapping(\"/books\")\npublic class BookController {\n\n    @GetMapping(\"/{id}\")\n    public String getById(@PathVariable Integer id){\n        System.out.println(\"id ==> \"+id);\n        return \"hello , spring boot!\";\n    }\n}\n```\n\n#### 2.1.2  不同配置文件演示\n\n* **application.properties配置文件**\n\n现在需要进行配置，配合文件必须放在 `resources` 目录下，而该目录下有一个名为 `application.properties` 的配置文件，我们就可以在该配置文件中修改端口号，在该配置文件中书写 `port` ，`Idea` 就会提示，如下\n\n<img src=\"/image/image-20210917161422535.png\" alt=\"image-20210917161422535\" style=\"zoom:80%;\" />\n\n`application.properties` 配置文件内容如下：\n\n```properties\nserver.port=80\n```\n\n启动服务，会在控制台打印出日志信息，从日志信息中可以看到绑定的端口号已经修改了\n\n<img src=\"/image/image-20210917161720855.png\" alt=\"image-20210917161720855\" style=\"zoom:80%;\" />\n\n* **application.yml配置文件**\n\n删除 `application.properties` 配置文件中的内容。在 `resources` 下创建一个名为 `application.yml` 的配置文件，在该文件中书写端口号的配置项，格式如下：\n\n```yaml\nserver:\n\tport: 81\n```\n\n> ==注意： 在`:`后，数据前一定要加空格。==\n\n而在 `yml` 配置文件中也是有提示功能的，我们也可以在该文件中书写 `port` ，然后 `idea` 就会提示并书写成上面的格式\n\n<img src=\"/image/image-20210917162512646.png\" alt=\"image-20210917162512646\" style=\"zoom:80%;\" />\n\n启动服务，可以在控制台看到绑定的端口号是 `81`\n\n![image-20210917162700711](../image/image-20210917162700711.png)\n\n* **application.yaml配置文件**\n\n删除 `application.yml` 配置文件和 `application.properties` 配置文件内容，然后在 `resources` 下创建名为 `application.yaml` 的配置文件，配置内容和后缀名为 `yml` 的配置文件中的内容相同，只是使用了不同的后缀名而已\n\n`application.yaml` 配置文件内容如下：\n\n```yaml\nserver:\n\tport: 83\n```\n\n启动服务，在控制台可以看到绑定的端口号\n\n![image-20210917163335913](../image/image-20210917163335913.png)\n\n==注意：在配合文件中如果没有提示，可以使用一下方式解决==\n\n* 点击 `File` 选中 `Project Structure`\n\n<img src=\"/image/image-20210917163557071.png\" alt=\"image-20210917163557071\" style=\"zoom:80%;\" />\n\n* 弹出如下窗口，按图中标记红框进行选择\n\n<img src=\"/image/image-20210917163736458.png\" alt=\"image-20210917163736458\" style=\"zoom:70%;\" />\n\n* 通过上述操作，会弹出如下窗口\n\n<img src=\"/image/image-20210917163818051.png\" alt=\"image-20210917163818051\" style=\"zoom:80%;\" />\n\n* 点击上图的 `+` 号，弹出选择该模块的配置文件\n\n<img src=\"/image/image-20210917163828518.png\" alt=\"image-20210917163828518\" style=\"zoom:80%;\" />\n\n* 通过上述几步后，就可以看到如下界面。`properties` 类型的配合文件有一个，`ymal` 类型的配置文件有两个\n\n<img src=\"/image/image-20210917163846243.png\" alt=\"image-20210917163846243\" style=\"zoom:80%;\" />\n\n#### 2.1.3  三种配合文件的优先级\n\n在三种配合文件中分别配置不同的端口号，启动服务查看绑定的端口号。用这种方式就可以看到哪个配置文件的优先级更高一些\n\n`application.properties` 文件内容如下：\n\n```properties\nserver.port=80\n```\n\n`application.yml` 文件内容如下：\n\n```yaml\nserver:\n\tport: 81\n```\n\n`application.yaml` 文件内容如下：\n\n```yaml\nserver:\n\tport: 82\n```\n\n启动服务，在控制台可以看到使用的端口号是 `80`。说明 `application.properties` 的优先级最高\n\n注释掉 `application.properties` 配置文件内容。再次启动服务，在控制台可以看到使用的端口号是 `81`，说明 `application.yml` 配置文件为第二优先级。\n\n从上述的验证结果可以确定三种配置文件的优先级是：\n\n==`application.properties`  >  `application.yml`   >  `application.yaml`==\n\n> ==注意：==\n>\n> * `SpringBoot` 核心配置文件名为 `application`\n>\n> * `SpringBoot` 内置属性过多，且所有属性集中在一起修改，在使用时，通过提示键+关键字修改属性\n>\n>   例如要设置日志的级别时，可以在配置文件中书写 `logging`，就会提示出来。配置内容如下\n>\n>   ```yaml\n>   logging:\n>     level:\n>       root: info\n>   ```\n\n### 2.2  yaml格式\n\n上面讲了三种不同类型的配置文件，而 `properties` 类型的配合文件之前我们学习过，接下来我们重点学习 `yaml` 类型的配置文件。\n\n**YAML（YAML Ain't Markup Language），一种数据序列化格式。**这种格式的配置文件在近些年已经占有主导地位，那么这种配置文件和前期使用的配置文件是有一些优势的，我们先看之前使用的配置文件。\n\n最开始我们使用的是 `xml` ，格式如下：\n\n```xml\n<enterprise>\n    <name>itcast</name>\n    <age>16</age>\n    <tel>4006184000</tel>\n</enterprise>\n```\n\n而 `properties` 类型的配置文件如下\n\n```properties\nenterprise.name=itcast\nenterprise.age=16\nenterprise.tel=4006184000\n```\n\n`yaml` 类型的配置文件内容如下\n\n```yaml\nenterprise:\n\tname: itcast\n\tage: 16\n\ttel: 4006184000\n```\n\n**优点：**\n\n* 容易阅读\n\n  `yaml` 类型的配置文件比 `xml` 类型的配置文件更容易阅读，结构更加清晰\n\n* 容易与脚本语言交互\n\n* 以数据为核心，重数据轻格式\n\n  `yaml` 更注重数据，而 `xml` 更注重格式\n\n**YAML 文件扩展名：**\n\n* `.yml` (主流)\n* `.yaml`\n\n上面两种后缀名都可以，以后使用更多的还是 `yml` 的。\n\n#### 2.2.1  语法规则\n\n* 大小写敏感\n\n* 属性层级关系使用多行描述，每行结尾使用冒号结束\n\n* 使用缩进表示层级关系，同层级左侧对齐，只允许使用空格（不允许使用Tab键）\n\n  空格的个数并不重要，只要保证同层级的左侧对齐即可。\n\n* 属性值前面添加空格（属性名与属性值之间使用冒号+空格作为分隔）\n\n* \\# 表示注释\n\n==核心规则：数据前面要加空格与冒号隔开==\n\n数组数据在数据书写位置的下方使用减号作为数据开始符号，每行书写一个数据，减号与数据间空格分隔，例如\n\n```yaml\nenterprise:\n  name: itcast\n  age: 16\n  tel: 4006184000\n  subject:\n    - Java\n    - 前端\n    - 大数据\n```\n\n### 2.3  yaml配置文件数据读取\n\n#### 2.3.1  环境准备\n\n新创建一个名为 `springboot_03_read_data` 的 `SpringBoot` 工程，目录结构如下\n\n<img src=\"/image/image-20210917172736484.png\" alt=\"image-20210917172736484\" style=\"zoom:80%;\" />\n\n在 `com.itheima.controller` 包写创建名为 `BookController` 的控制器，内容如下\n\n```java\n@RestController\n@RequestMapping(\"/books\")\npublic class BookController {\n\n    @GetMapping(\"/{id}\")\n    public String getById(@PathVariable Integer id){\n        System.out.println(\"id ==> \"+id);\n        return \"hello , spring boot!\";\n    }\n}\n```\n\n在 `com.itheima.domain` 包下创建一个名为 `Enterprise` 的实体类等会用来封装数据，内容如下\n\n```java\npublic class Enterprise {\n    private String name;\n    private int age;\n    private String tel;\n    private String[] subject;\n    \n    //setter and getter\n    \n    //toString\n}\n```\n\n在 `resources` 下创建一个名为 `application.yml` 的配置文件，里面配置了不同的数据，内容如下\n\n```yaml\nlesson: SpringBoot\n\nserver:\n  port: 80\n\nenterprise:\n  name: itcast\n  age: 16\n  tel: 4006184000\n  subject:\n    - Java\n    - 前端\n    - 大数据\n```\n\n#### 2.3.2  读取配置数据\n\n##### 2.3.2.1  使用 @Value注解\n\n使用 `@Value(\"表达式\")` 注解可以从配合文件中读取数据，注解中用于读取属性名引用方式是：`${一级属性名.二级属性名……}`\n\n我们可以在 `BookController` 中使用 `@Value`  注解读取配合文件数据，如下\n\n```java\n@RestController\n@RequestMapping(\"/books\")\npublic class BookController {\n    \n    @Value(\"${lesson}\")\n    private String lesson;\n    @Value(\"${server.port}\")\n    private Integer port;\n    @Value(\"${enterprise.subject[0]}\")\n    private String subject_00;\n\n    @GetMapping(\"/{id}\")\n    public String getById(@PathVariable Integer id){\n        System.out.println(lesson);\n        System.out.println(port);\n        System.out.println(subject_00);\n        return \"hello , spring boot!\";\n    }\n}\n```\n\n##### 2.3.2.2  Environment对象\n\n上面方式读取到的数据特别零散，`SpringBoot` 还可以使用 `@Autowired` 注解注入 `Environment` 对象的方式读取数据。这种方式 `SpringBoot` 会将配置文件中所有的数据封装到 `Environment` 对象中，如果需要使用哪个数据只需要通过调用 `Environment` 对象的 `getProperty(String name)` 方法获取。具体代码如下：\n\n```java\n@RestController\n@RequestMapping(\"/books\")\npublic class BookController {\n    \n    @Autowired\n    private Environment env;\n    \n    @GetMapping(\"/{id}\")\n    public String getById(@PathVariable Integer id){\n        System.out.println(env.getProperty(\"lesson\"));\n        System.out.println(env.getProperty(\"enterprise.name\"));\n        System.out.println(env.getProperty(\"enterprise.subject[0]\"));\n        return \"hello , spring boot!\";\n    }\n}\n```\n\n> ==注意：这种方式，框架内容大量数据，而在开发中我们很少使用。==\n\n##### 2.3.2.3  自定义对象\n\n`SpringBoot` 还提供了将配置文件中的数据封装到我们自定义的实体类对象中的方式。具体操作如下：\n\n* 将实体类 `bean` 的创建交给 `Spring` 管理。\n\n  在类上添加 `@Component` 注解\n\n* 使用 `@ConfigurationProperties` 注解表示加载配置文件\n\n  在该注解中也可以使用 `prefix` 属性指定只加载指定前缀的数据\n\n* 在 `BookController` 中进行注入\n\n**具体代码如下：**\n\n`Enterprise` 实体类内容如下：\n\n```java\n@Component\n@ConfigurationProperties(prefix = \"enterprise\")\npublic class Enterprise {\n    private String name;\n    private int age;\n    private String tel;\n    private String[] subject;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    public void setAge(int age) {\n        this.age = age;\n    }\n\n    public String getTel() {\n        return tel;\n    }\n\n    public void setTel(String tel) {\n        this.tel = tel;\n    }\n\n    public String[] getSubject() {\n        return subject;\n    }\n\n    public void setSubject(String[] subject) {\n        this.subject = subject;\n    }\n\n    @Override\n    public String toString() {\n        return \"Enterprise{\" +\n                \"name='\" + name + '\\'' +\n                \", age=\" + age +\n                \", tel='\" + tel + '\\'' +\n                \", subject=\" + Arrays.toString(subject) +\n                '}';\n    }\n}\n```\n\n`BookController` 内容如下：\n\n```java\n@RestController\n@RequestMapping(\"/books\")\npublic class BookController {\n    \n    @Autowired\n    private Enterprise enterprise;\n\n    @GetMapping(\"/{id}\")\n    public String getById(@PathVariable Integer id){\n        System.out.println(enterprise.getName());\n        System.out.println(enterprise.getAge());\n        System.out.println(enterprise.getSubject());\n        System.out.println(enterprise.getTel());\n        System.out.println(enterprise.getSubject()[0]);\n        return \"hello , spring boot!\";\n    }\n}\n```\n\n==注意：==\n\n使用第三种方式，在实体类上有如下警告提示\n\n<img src=\"/image/image-20210917180919390.png\" alt=\"image-20210917180919390\" style=\"zoom:70%;\" />\n\n这个警告提示解决是在 `pom.xml` 中添加如下依赖即可\n\n```xml\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-configuration-processor</artifactId>\n    <optional>true</optional>\n</dependency>\n```\n\n### 2.4  多环境配置\n\n以后在工作中，对于开发环境、测试环境、生产环境的配置肯定都不相同，比如我们开发阶段会在自己的电脑上安装 `mysql` ，连接自己电脑上的 `mysql` 即可，但是项目开发完毕后要上线就需要该配置，将环境的配置改为线上环境的。\n\n<img src=\"/image/image-20210917185253557.png\" alt=\"image-20210917185253557\" style=\"zoom:60%;\" />\n\n来回的修改配置会很麻烦，而 `SpringBoot` 给开发者提供了多环境的快捷配置，需要切换环境时只需要改一个配置即可。不同类型的配置文件多环境开发的配置都不相同，接下来对不同类型的配置文件进行说明\n\n#### 2.4.1  yaml文件\n\n在 `application.yml` 中使用 `---` 来分割不同的配置，内容如下\n\n```yaml\n#开发\nspring:\n  profiles: dev #给开发环境起的名字\nserver:\n  port: 80\n---\n#生产\nspring:\n  profiles: pro #给生产环境起的名字\nserver:\n  port: 81\n---\n#测试\nspring:\n  profiles: test #给测试环境起的名字\nserver:\n  port: 82\n---\n```\n\n上面配置中 `spring.profiles` 是用来给不同的配置起名字的。而如何告知 `SpringBoot` 使用哪段配置呢？可以使用如下配置来启用都一段配置\n\n```yaml\n#设置启用的环境\nspring:\n  profiles:\n    active: dev  #表示使用的是开发环境的配置\n```\n\n综上所述，`application.yml` 配置文件内容如下\n\n```yaml\n#设置启用的环境\nspring:\n  profiles:\n    active: dev\n\n---\n#开发\nspring:\n  profiles: dev\nserver:\n  port: 80\n---\n#生产\nspring:\n  profiles: pro\nserver:\n  port: 81\n---\n#测试\nspring:\n  profiles: test\nserver:\n  port: 82\n---\n```\n\n==注意：==\n\n在上面配置中给不同配置起名字的 `spring.profiles` 配置项已经过时。最新用来起名字的配置项是 \n\n```yaml\n#开发\nspring:\n  config:\n    activate:\n      on-profile: dev\n```\n\n#### 2.4.2  properties文件\n\n`properties` 类型的配置文件配置多环境需要定义不同的配置文件\n\n* `application-dev.properties` 是开发环境的配置文件。我们在该文件中配置端口号为 `80`\n\n  ```properties\n  server.port=80\n  ```\n\n* `application-test.properties` 是测试环境的配置文件。我们在该文件中配置端口号为 `81`\n\n  ```properties\n  server.port=81\n  ```\n\n* `application-pro.properties` 是生产环境的配置文件。我们在该文件中配置端口号为 `82`\n\n  ```properties\n  server.port=82\n  ```\n\n`SpringBoot` 只会默认加载名为 `application.properties` 的配置文件，所以需要在 `application.properties` 配置文件中设置启用哪个配置文件，配置如下:\n\n```properties\nspring.profiles.active=pro\n```\n\n#### 2.4.3  命令行启动参数设置\n\n使用 `SpringBoot` 开发的程序以后都是打成 `jar` 包，通过 `java -jar xxx.jar` 的方式启动服务的。那么就存在一个问题，如何切换环境呢？因为配置文件打到的jar包中了。\n\n我们知道 `jar` 包其实就是一个压缩包，可以解压缩，然后修改配置，最后再打成jar包就可以了。这种方式显然有点麻烦，而 `SpringBoot` 提供了在运行 `jar` 时设置开启指定的环境的方式，如下\n\n```shell\njava –jar xxx.jar –-spring.profiles.active=test\n```\n\n那么这种方式能不能临时修改端口号呢？也是可以的，可以通过如下方式\n\n```shell\njava –jar xxx.jar –-server.port=88\n```\n\n当然也可以同时设置多个配置，比如即指定启用哪个环境配置，又临时指定端口，如下\n\n```shell\njava –jar springboot.jar –-server.port=88 –-spring.profiles.active=test\n```\n\n大家进行测试后就会发现命令行设置的端口号优先级高（也就是使用的是命令行设置的端口号），配置的优先级其实 `SpringBoot` 官网已经进行了说明，参见 :\n\n```\nhttps://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-external-config\n```\n\n进入上面网站后会看到如下页面\n\n![image-20210917193910191](../image/image-20210917193910191.png)\n\n如果使用了多种方式配合同一个配置项，优先级高的生效。\n\n### 2.5  配置文件分类\n\n<img src=\"/image/image-20210917194941597.png\" alt=\"image-20210917194941597\" style=\"zoom:70%;\" />\n\n有这样的场景，我们开发完毕后需要测试人员进行测试，由于测试环境和开发环境的很多配置都不相同，所以测试人员在运行我们的工程时需要临时修改很多配置，如下\n\n```shell\njava –jar springboot.jar –-spring.profiles.active=test --server.port=85 --server.servlet.context-path=/heima --server.tomcat.connection-timeout=-1 …… …… …… …… ……\n```\n\n针对这种情况，`SpringBoot` 定义了配置文件不同的放置的位置；而放在不同位置的优先级时不同的。\n\n`SpringBoot` 中4级配置文件放置位置：\n\n* 1级：classpath：application.yml  \n* 2级：classpath：config/application.yml\n* 3级：file ：application.yml\n* 4级：file ：config/application.yml \n\n> ==说明：==级别越高优先级越高\n\n#### 2.5.1  代码演示\n\n在这里我们只演示不同级别配置文件放置位置的优先级。\n\n##### 2.5.1.1  环境准备\n\n创建一个名为 `springboot_06_config_file` 的 `SpringBoot` 工程，目录结构如下\n\n<img src=\"/image/image-20210917200241282.png\" alt=\"image-20210917200241282\" style=\"zoom:80%;\" />\n\n在 `resources` 下创建一个名为 `config` 的目录，在该目录中创建 `application.yml` 配置文件，而在该配置文件中将端口号设置为 `81`，内容如下\n\n```yaml\nserver:\n  port: 81\n```\n\n而在 `resources` 下创建的 `application.yml` 配置文件中并将端口号设置为 `80`，内容如下\n\n```yaml\nserver:\n  port: 80\n```\n\n##### 2.5.1.2  验证1级和2级的优先级\n\n运行启动引导类，可以在控制台看到如下日志信息\n\n![image-20210917200805389](../image/image-20210917200805389.png)\n\n通过这个结果可以得出==类路径下的 `config` 下的配置文件优先于类路径下的配置文件。==\n\n##### 2.5.1.3  验证2级和4级的优先级\n\n要验证4级，按照以下步骤完成\n\n* 将工程打成 `jar` 包\n\n  点击工程的 `package` 来打 `jar` 包\n\n  <img src=\"/image/image-20210917201243721.png\" alt=\"image-20210917201243721\" style=\"zoom:80%;\" />\n\n* 在硬盘上找到 `jar` 包所在位置\n\n  <img src=\"/image/image-20210917201523669.png\" alt=\"image-20210917201523669\" style=\"zoom:70%;\" />\n\n* 在 `jar` 包所在位置创建 `config` 文件夹，在该文件夹下创建 `application.yml` 配置文件，而在该配合文件中将端口号设置为 `82` \n\n* 在命令行使用以下命令运行程序\n\n  ```shell\n  java -jar springboot_06_config_file-0.0.1-SNAPSHOT.jar\n  ```\n\n  运行后日志信息如下\n\n  ![image-20210917201922831](../image/image-20210917201922831.png)\n\n  通过这个结果可以得出==file： `config` 下的配置文件优先于类路径下的配置文件。==\n\n> ==注意：==\n>\n> SpringBoot 2.5.0版本存在一个bug，我们在使用这个版本时，需要在 `jar` 所在位置的 `config` 目录下创建一个任意名称的文件夹\n\n## 3，SpringBoot整合junit\n\n回顾 `Spring` 整合 `junit`\n\n```java\n@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(classes = SpringConfig.class)\npublic class UserServiceTest {\n    \n    @Autowired\n    private BookService bookService;\n    \n    @Test\n    public void testSave(){\n        bookService.save();\n    }\n}\n```\n\n使用 `@RunWith` 注解指定运行器，使用 `@ContextConfiguration` 注解来指定配置类或者配置文件。而 `SpringBoot` 整合 `junit` 特别简单，分为以下三步完成\n\n* 在测试类上添加 `SpringBootTest` 注解\n* 使用 `@Autowired` 注入要测试的资源\n* 定义测试方法进行测试\n\n### 3.1  环境准备\n\n创建一个名为 `springboot_07_test` 的 `SpringBoot` 工程，工程目录结构如下\n\n<img src=\"/image/image-20210917213556673.png\" alt=\"image-20210917213556673\" style=\"zoom:80%;\" />\n\n在 `com.itheima.service` 下创建 `BookService` 接口，内容如下\n\n```java\npublic interface BookService {\n    public void save();\n}\n```\n\n在 `com.itheima.service.impl` 包写创建一个 `BookServiceImpl` 类，使其实现 `BookService` 接口，内容如下\n\n```java\n@Service\npublic class BookServiceImpl implements BookService {\n    @Override\n    public void save() {\n        System.out.println(\"book service is running ...\");\n    }\n}\n```\n\n### 3.2  编写测试类\n\n在 `test/java` 下创建 `com.itheima` 包，在该包下创建测试类，将 `BookService` 注入到该测试类中\n\n```java\n@SpringBootTest\nclass Springboot07TestApplicationTests {\n\n    @Autowired\n    private BookService bookService;\n\n    @Test\n    public void save() {\n        bookService.save();\n    }\n}\n```\n\n> ==注意：==这里的引导类所在包必须是测试类所在包及其子包。\n>\n> 例如：\n>\n> * 引导类所在包是 `com.itheima`\n> * 测试类所在包是 `com.itheima`\n>\n> 如果不满足这个要求的话，就需要在使用 `@SpringBootTest` 注解时，使用 `classes` 属性指定引导类的字节码对象。如 `@SpringBootTest(classes = Springboot07TestApplication.class)`\n\n## 4，SpringBoot整合mybatis\n\n### 4.1  回顾Spring整合Mybatis\n\n`Spring` 整合 `Mybatis` 需要定义很多配置类\n\n* `SpringConfig` 配置类\n\n  * 导入 `JdbcConfig` 配置类\n\n  * 导入 `MybatisConfig` 配置类\n\n    ```java\n    @Configuration\n    @ComponentScan(\"com.itheima\")\n    @PropertySource(\"classpath:jdbc.properties\")\n    @Import({JdbcConfig.class,MyBatisConfig.class})\n    public class SpringConfig {\n    }\n    \n    ```\n\n* `JdbcConfig` 配置类\n\n  * 定义数据源（加载properties配置项：driver、url、username、password）\n\n    ```java\n    public class JdbcConfig {\n        @Value(\"${jdbc.driver}\")\n        private String driver;\n        @Value(\"${jdbc.url}\")\n        private String url;\n        @Value(\"${jdbc.username}\")\n        private String userName;\n        @Value(\"${jdbc.password}\")\n        private String password;\n    \n        @Bean\n        public DataSource getDataSource(){\n            DruidDataSource ds = new DruidDataSource();\n            ds.setDriverClassName(driver);\n            ds.setUrl(url);\n            ds.setUsername(userName);\n            ds.setPassword(password);\n            return ds;\n        }\n    }\n    ```\n\n* `MybatisConfig` 配置类\n\n  * 定义 `SqlSessionFactoryBean`\n\n  * 定义映射配置\n\n    ```java\n    @Bean\n    public MapperScannerConfigurer getMapperScannerConfigurer(){\n        MapperScannerConfigurer msc = new MapperScannerConfigurer();\n        msc.setBasePackage(\"com.itheima.dao\");\n        return msc;\n    }\n    \n    @Bean\n    public SqlSessionFactoryBean getSqlSessionFactoryBean(DataSource dataSource){\n        SqlSessionFactoryBean ssfb = new SqlSessionFactoryBean();\n        ssfb.setTypeAliasesPackage(\"com.itheima.domain\");\n        ssfb.setDataSource(dataSource);\n        return ssfb;\n    }\n    \n    ```\n\n### 4.2  SpringBoot整合mybatis\n\n#### 4.2.1  创建模块\n\n* 创建新模块，选择 `Spring Initializr`，并配置模块相关基础信息\n\n<img src=\"/image/image-20210917215913779.png\" alt=\"image-20210917215913779\" style=\"zoom:80%;\" />\n\n* 选择当前模块需要使用的技术集（MyBatis、MySQL）\n\n  <img src=\"/image/image-20210917215958091.png\" alt=\"image-20210917215958091\" style=\"zoom:80%;\" />\n\n#### 4.2.2  定义实体类\n\n在 `com.itheima.domain` 包下定义实体类 `Book`，内容如下\n\n```java\npublic class Book {\n    private Integer id;\n    private String name;\n    private String type;\n    private String description;\n    \n    //setter and  getter\n    \n    //toString\n}\n```\n\n#### 4.2.3  定义dao接口\n\n在 `com.itheima.dao` 包下定义 `BookDao` 接口，内容如下\n\n```java\npublic interface BookDao {\n    @Select(\"select * from tbl_book where id = #{id}\")\n    public Book getById(Integer id);\n}\n```\n\n#### 4.2.4  定义测试类\n\n在 `test/java` 下定义包 `com.itheima` ，在该包下测试类，内容如下\n\n```java\n@SpringBootTest\nclass Springboot08MybatisApplicationTests {\n\n\t@Autowired\n\tprivate BookDao bookDao;\n\n\t@Test\n\tvoid testGetById() {\n\t\tBook book = bookDao.getById(1);\n\t\tSystem.out.println(book);\n\t}\n}\n```\n\n#### 4.2.5  编写配置\n\n我们代码中并没有指定连接哪儿个数据库，用户名是什么，密码是什么。所以这部分需要在 `SpringBoot` 的配置文件中进行配合。\n\n在 `application.yml` 配置文件中配置如下内容\n\n```yml\nspring:\n  datasource:\n    driver-class-name: com.mysql.jdbc.Driver\n    url: jdbc:mysql://localhost:3306/ssm_db\n    username: root\n    password: root\n```\n\n#### 4.2.6  测试\n\n运行测试方法，我们会看到如下错误信息\n\n<img src=\"/image/image-20210917221427930.png\" alt=\"image-20210917221427930\" style=\"zoom:70%;\" />\n\n错误信息显示在 `Spring` 容器中没有 `BookDao` 类型的 `bean`。为什么会出现这种情况呢？\n\n原因是 `Mybatis` 会扫描接口并创建接口的代码对象交给 `Spring` 管理，但是现在并没有告诉 `Mybatis` 哪个是 `dao` 接口。而我们要解决这个问题需要在`BookDao` 接口上使用 `@Mapper` ，`BookDao` 接口改进为\n\n```java\n@Mapper\npublic interface BookDao {\n    @Select(\"select * from tbl_book where id = #{id}\")\n    public Book getById(Integer id);\n}\n```\n\n> ==注意：==\n>\n> `SpringBoot` 版本低于2.4.3(不含)，Mysql驱动版本大于8.0时，需要在url连接串中配置时区 `jdbc:mysql://localhost:3306/ssm_db?serverTimezone=UTC`，或在MySQL数据库端配置时区解决此问题\n\n#### 4.2.7  使用Druid数据源\n\n现在我们并没有指定数据源，`SpringBoot` 有默认的数据源，我们也可以指定使用 `Druid` 数据源，按照以下步骤实现\n\n* 导入 `Druid` 依赖\n\n  ```xml\n  <dependency>\n      <groupId>com.alibaba</groupId>\n      <artifactId>druid</artifactId>\n      <version>1.1.16</version>\n  </dependency>\n  ```\n\n* 在 `application.yml` 配置文件配置\n\n  可以通过 `spring.datasource.type` 来配置使用什么数据源。配置文件内容可以改进为\n\n  ```yaml\n  spring:\n    datasource:\n      driver-class-name: com.mysql.cj.jdbc.Driver\n      url: jdbc:mysql://localhost:3306/ssm_db?serverTimezone=UTC\n      username: root\n      password: root\n      type: com.alibaba.druid.pool.DruidDataSource\n  ```\n\n## 5，案例\n\n`SpringBoot` 到这就已经学习完毕，接下来我们将学习 `SSM` 时做的三大框架整合的案例用 `SpringBoot` 来实现一下。我们完成这个案例基本是将之前做的拷贝过来，修改成 `SpringBoot` 的即可，主要从以下几部分完成\n\n1. pom.xml\n\n   配置起步依赖，必要的资源坐标(druid)\n\n2. application.yml\n\n   设置数据源、端口等\n\n3. 配置类\n\n   全部删除\n\n4. dao\n\n   设置@Mapper\n\n5. 测试类\n\n6. 页面\n\n   放置在resources目录下的static目录中\n\n### 5.1  创建工程\n\n创建 `SpringBoot` 工程，在创建工程时需要勾选 `web`、`mysql`、`mybatis`，工程目录结构如下\n\n<img src=\"/image/image-20210917225019868.png\" alt=\"image-20210917225019868\" style=\"zoom:80%;\" />\n\n由于我们工程中使用到了 `Druid` ，所以需要导入 `Druid` 的坐标\n\n```xml\n<dependency>\n    <groupId>com.alibaba</groupId>\n    <artifactId>druid</artifactId>\n    <version>1.1.16</version>\n</dependency>\n```\n\n### 5.2  代码拷贝\n\n将 `springmvc_11_page` 工程中的 `java` 代码及测试代码连同包拷贝到 `springboot_09_ssm` 工程，按照下图进行拷贝\n\n<img src=\"/image/image-20210917225715519.png\" alt=\"image-20210917225715519\" style=\"zoom:70%;\" />\n\n需要修改的内容如下：\n\n* `Springmvc_11_page` 中 `config` 包下的是配置类，而 `SpringBoot` 工程不需要这些配置类，所以这些可以直接删除\n\n* `dao` 包下的接口上在拷贝到 `springboot_09-ssm` 工程中需要在接口中添加 `@Mapper` 注解\n\n* `BookServiceTest` 测试需要改成 `SpringBoot` 整合 `junit` 的\n\n  ```java\n  @SpringBootTest\n  public class BookServiceTest {\n  \n      @Autowired\n      private BookService bookService;\n  \n      @Test\n      public void testGetById(){\n          Book book = bookService.getById(2);\n          System.out.println(book);\n      }\n  \n      @Test\n      public void testGetAll(){\n          List<Book> all = bookService.getAll();\n          System.out.println(all);\n      }\n  }\n  ```\n\n### 5.3  配置文件\n\n在 `application.yml` 配置文件中需要配置如下内容\n\n* 服务的端口号\n* 连接数据库的信息\n* 数据源\n\n```yaml\nserver:\n  port: 80\n\nspring:\n  datasource:\n    type: com.alibaba.druid.pool.DruidDataSource\n    driver-class-name: com.mysql.cj.jdbc.Driver\n    url: jdbc:mysql://localhost:3306/ssm_db #?servierTimezone=UTC\n    username: root\n    password: root\n```\n\n### 5.4  静态资源\n\n在 `SpringBoot` 程序中是没有 `webapp` 目录的，那么在 `SpringBoot` 程序中静态资源需要放在什么位置呢？\n\n静态资源需要放在 `resources` 下的 `static` 下，如下图所示\n\n<img src=\"/image/image-20210917230702072.png\" alt=\"image-20210917230702072\" style=\"zoom:80%;\" />\n\n\n\n","slug":"SSM学习","published":1,"updated":"2023-04-20T03:47:43.344Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clgz2pfes0009dl5z4es1hw66","content":"<p>学点后端吧，学习了黑马的SSM课程,耗时半个寒假，以前提前放假安得一息安寝</p>\n<p>用了Springboot再也不想碰Spring</p>\n<span id=\"more\"></span>\n\n<h2 id=\"SpringBoot\"><a href=\"#SpringBoot\" class=\"headerlink\" title=\"SpringBoot\"></a>SpringBoot</h2><p><strong>今日目标：</strong></p>\n<blockquote>\n<ul>\n<li>掌握基于SpringBoot框架的程序开发步骤</li>\n<li>熟练使用SpringBoot配置信息修改服务器配置</li>\n<li>基于SpringBoot的完成SSM整合项目开发</li>\n</ul>\n</blockquote>\n<h2 id=\"1，SpringBoot简介\"><a href=\"#1，SpringBoot简介\" class=\"headerlink\" title=\"1，SpringBoot简介\"></a>1，SpringBoot简介</h2><p><code>SpringBoot</code> 是由 <code>Pivotal</code> 团队提供的全新框架，其设计目的是用来==简化== <code>Spring</code> 应用的==初始搭建==以及==开发过程==。</p>\n<p>使用了 <code>Spring</code> 框架后已经简化了我们的开发。而 <code>SpringBoot</code> 又是对 <code>Spring</code> 开发进行简化的，可想而知 <code>SpringBoot</code> 使用的简单及广泛性。既然 <code>SpringBoot</code> 是用来简化 <code>Spring</code> 开发的，那我们就先回顾一下，以 <code>SpringMVC</code> 开发为例：</p>\n<ol>\n<li><strong>创建工程，并在 <code>pom.xml</code> 配置文件中配置所依赖的坐标</strong></li>\n</ol>\n<img src=\"/image/image-20210911132335452.png\" alt=\"image-20210911133112602\" style=\"zoom:50%;\" />\n\n<ol start=\"2\">\n<li><p><strong>编写 <code>web3.0</code> 的配置类</strong></p>\n<p>作为 <code>web</code> 程序，<code>web3.0</code> 的配置类不能缺少，而这个配置类还是比较麻烦的，代码如下</p>\n</li>\n</ol>\n<img src=\"/image/image-20210911133112602.png\" alt=\"image-20210911133112602\" style=\"zoom:50%;\" />\n\n<ol start=\"3\">\n<li><strong>编写 <code>SpringMVC</code> 的配置类</strong></li>\n</ol>\n<img src=\"/image/image-20210911133219847.png\" alt=\"image-20210911133219847\" style=\"zoom:50%;\" />\n\n<p>​    做到这只是将工程的架子搭起来。要想被外界访问，最起码还需要提供一个 <code>Controller</code> 类，在该类中提供一个方法。</p>\n<ol start=\"4\">\n<li><strong>编写 <code>Controller</code> 类</strong></li>\n</ol>\n<img src=\"/image/image-20210911133532151.png\" alt=\"image-20210911133532151\" style=\"zoom:50%;\" />\n\n<p>从上面的 <code>SpringMVC</code> 程序开发可以看到，前三步都是在搭建环境，而且这三步基本都是固定的。<code>SpringBoot</code> 就是对这三步进行简化了。接下来我们通过一个入门案例来体现 <code>SpingBoot</code> 简化 <code>Spring</code> 开发。</p>\n<h3 id=\"1-1-SpringBoot快速入门\"><a href=\"#1-1-SpringBoot快速入门\" class=\"headerlink\" title=\"1.1  SpringBoot快速入门\"></a>1.1  SpringBoot快速入门</h3><h4 id=\"1-1-1-开发步骤\"><a href=\"#1-1-1-开发步骤\" class=\"headerlink\" title=\"1.1.1  开发步骤\"></a>1.1.1  开发步骤</h4><p><code>SpringBoot</code> 开发起来特别简单，分为如下几步：</p>\n<ul>\n<li>创建新模块，选择Spring初始化，并配置模块相关基础信息</li>\n<li>选择当前模块需要使用的技术集</li>\n<li>开发控制器类</li>\n<li>运行自动生成的Application类</li>\n</ul>\n<p>知道了 <code>SpringBoot</code> 的开发步骤后，接下来我们进行具体的操作</p>\n<h5 id=\"1-1-1-1-创建新模块\"><a href=\"#1-1-1-1-创建新模块\" class=\"headerlink\" title=\"1.1.1.1  创建新模块\"></a>1.1.1.1  创建新模块</h5><ul>\n<li>点击 <code>+</code> 选择 <code>New Module</code> 创建新模块</li>\n</ul>\n<img src=\"/image/image-20210911155135008.png\" alt=\"image-20210911155135008\" style=\"zoom:60%;\" />\n\n<ul>\n<li><p>选择 <code>Spring Initializr</code> ，用来创建 <code>SpringBoot</code> 工程</p>\n<p>以前我们选择的是 <code>Maven</code> ，今天选择 <code>Spring Initializr</code> 来快速构建 <code>SpringBoot</code> 工程。而在 <code>Module SDK</code> 这一项选择我们安装的 <code>JDK</code> 版本。</p>\n</li>\n</ul>\n<img src=\"/image/image-20210911155249493.png\" alt=\"image-20210911155249493\" style=\"zoom:60%;\" />\n\n<ul>\n<li><p>对 <code>SpringBoot</code> 工程进行相关的设置</p>\n<p>我们使用这种方式构建的 <code>SpringBoot</code> 工程其实也是 <code>Maven</code> 工程，而该方式只是一种快速构建的方式而已。</p>\n<img src=\"/image/image-20210911155916899.png\" alt=\"image-20210911155916899\" style=\"zoom:67%;\" />\n\n<blockquote>\n<p>==注意：打包方式这里需要设置为 <code>Jar</code>==</p>\n</blockquote>\n</li>\n<li><p>选中 <code>Web</code>，然后勾选 <code>Spring Web</code></p>\n<p>由于我们需要开发一个 <code>web</code> 程序，使用到了 <code>SpringMVC</code> 技术，所以按照下图红框进行勾选</p>\n</li>\n</ul>\n<img src=\"/../../../../../../assets/image-20210911160040328.png\" alt=\"image-20210911160040328\" style=\"zoom:60%;\" />\n\n<ul>\n<li>下图界面不需要任何修改，直接点击 <code>Finish</code> 完成 <code>SpringBoot</code> 工程的构建</li>\n</ul>\n<img src=\"/image/image-20210911160353534.png\" alt=\"image-20210911160353534\" style=\"zoom:70%;\" />\n\n<p>经过以上步骤后就创建了如下结构的模块，它会帮我们自动生成一个 <code>Application</code> 类，而该类一会再启动服务器时会用到</p>\n<img src=\"/image/image-20210911160541833.png\" alt=\"image-20210911160541833\" style=\"zoom:80%;\" />\n\n<blockquote>\n<p>==注意：==</p>\n<ol>\n<li><p>在创建好的工程中不需要创建配置类</p>\n</li>\n<li><p>创建好的项目会自动生成其他的一些文件，而这些文件目前对我们来说没有任何作用，所以可以将这些文件删除。</p>\n<p>可以删除的目录和文件如下：</p>\n<ul>\n<li><code>.mvn</code>    </li>\n<li><code>.gitignore</code></li>\n<li><code>HELP.md</code></li>\n<li><code>mvnw</code></li>\n<li><code>mvnw.cmd</code></li>\n</ul>\n</li>\n</ol>\n</blockquote>\n<h5 id=\"1-1-1-2-创建-Controller\"><a href=\"#1-1-1-2-创建-Controller\" class=\"headerlink\" title=\"1.1.1.2  创建 Controller\"></a>1.1.1.2  创建 <code>Controller</code></h5><p>在  <code>com.itheima.controller</code> 包下创建 <code>BookController</code> ，代码如下：</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@RestController</span></span><br><span class=\"line\"><span class=\"meta\">@RequestMapping(&quot;/books&quot;)</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">BookController</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@GetMapping(&quot;/&#123;id&#125;&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> String <span class=\"title function_\">getById</span><span class=\"params\">(<span class=\"meta\">@PathVariable</span> Integer id)</span>&#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;id ==&gt; &quot;</span>+id);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&quot;hello , spring boot!&quot;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"1-1-1-3-启动服务器\"><a href=\"#1-1-1-3-启动服务器\" class=\"headerlink\" title=\"1.1.1.3  启动服务器\"></a>1.1.1.3  启动服务器</h5><p>运行 <code>SpringBoot</code> 工程不需要使用本地的 <code>Tomcat</code> 和 插件，只运行项目 <code>com.itheima</code> 包下的 <code>Application</code> 类，我们就可以在控制台看出如下信息</p>\n<p><img src=\"../image/image-20210911165642280.png\" alt=\"image-20210911165642280\"></p>\n<h5 id=\"1-1-1-4-进行测试\"><a href=\"#1-1-1-4-进行测试\" class=\"headerlink\" title=\"1.1.1.4  进行测试\"></a>1.1.1.4  进行测试</h5><p>使用 <code>Postman</code> 工具来测试我们的程序</p>\n<p><img src=\"../image/image-20210911160850121.png\" alt=\"image-20210911160850121\"></p>\n<p>通过上面的入门案例我们可以看到使用 <code>SpringBoot</code> 进行开发，使整个开发变得很简单，那它是如何做到的呢？</p>\n<p>要研究这个问题，我们需要看看 <code>Application</code> 类和 <code>pom.xml</code> 都书写了什么。先看看 <code>Applicaion</code> 类，该类内容如下：</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@SpringBootApplication</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Application</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">        SpringApplication.run(Application.class, args);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>这个类中的东西很简单，就在类上添加了一个 <code>@SpringBootApplication</code> 注解，而在主方法中就一行代码。我们在启动服务器时就是执行的该类中的主方法。</p>\n<p>再看看 <code>pom.xml</code> 配置文件中的内容</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?xml version=<span class=\"string\">&quot;1.0&quot;</span> encoding=<span class=\"string\">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">project</span> <span class=\"attr\">xmlns</span>=<span class=\"string\">&quot;http://maven.apache.org/POM/4.0.0&quot;</span> <span class=\"attr\">xmlns:xsi</span>=<span class=\"string\">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">         <span class=\"attr\">xsi:schemaLocation</span>=<span class=\"string\">&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">modelVersion</span>&gt;</span>4.0.0<span class=\"tag\">&lt;/<span class=\"name\">modelVersion</span>&gt;</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">&lt;!--指定了一个父工程，父工程中的东西在该工程中可以继承过来使用--&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">parent</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-boot-starter-parent<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>2.5.0<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">parent</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>com.itheima<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>springboot_01_quickstart<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>0.0.1-SNAPSHOT<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">&lt;!--JDK 的版本--&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">properties</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">java.version</span>&gt;</span>8<span class=\"tag\">&lt;/<span class=\"name\">java.version</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">properties</span>&gt;</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">dependencies</span>&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!--该依赖就是我们在创建 SpringBoot 工程勾选的那个 Spring Web 产生的--&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-boot-starter-web<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"comment\">&lt;!--这个是单元测试的依赖，我们现在没有进行单元测试，所以这个依赖现在可以没有--&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-boot-starter-test<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">scope</span>&gt;</span>test<span class=\"tag\">&lt;/<span class=\"name\">scope</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">dependencies</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">build</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">plugins</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!--这个插件是在打包时需要的，而这里暂时还没有用到--&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">plugin</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">plugin</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">plugins</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">build</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">project</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>我们代码之所以能简化，就是因为指定的父工程和 <code>Spring Web</code> 依赖实现的。具体的我们后面在聊。</p>\n<h4 id=\"1-1-2-对比\"><a href=\"#1-1-2-对比\" class=\"headerlink\" title=\"1.1.2  对比\"></a>1.1.2  对比</h4><p>做完 <code>SpringBoot</code> 的入门案例后，接下来对比一下 <code>Spring</code> 程序和 <code>SpringBoot</code> 程序。如下图</p>\n<img src=\"/image/image-20210911172200292.png\" alt=\"image-20210911172200292\" style=\"zoom:60%;\" />\n\n<ul>\n<li><p><strong>坐标</strong></p>\n<p><code>Spring</code> 程序中的坐标需要自己编写，而且坐标非常多</p>\n<p><code>SpringBoot</code> 程序中的坐标是我们在创建工程时进行勾选自动生成的</p>\n</li>\n<li><p><strong>web3.0配置类</strong></p>\n<p><code>Spring</code> 程序需要自己编写这个配置类。这个配置类大家之前编写过，肯定感觉很复杂</p>\n<p><code>SpringBoot</code> 程序不需要我们自己书写</p>\n</li>\n<li><p><strong>配置类</strong></p>\n<p><code>Spring/SpringMVC</code> 程序的配置类需要自己书写。而 <code>SpringBoot</code>  程序则不需要书写。</p>\n</li>\n</ul>\n<blockquote>\n<p>==注意：基于Idea的 <code>Spring Initializr</code> 快速构建 <code>SpringBoot</code> 工程时需要联网。== </p>\n</blockquote>\n<h4 id=\"1-1-3-官网构建工程\"><a href=\"#1-1-3-官网构建工程\" class=\"headerlink\" title=\"1.1.3  官网构建工程\"></a>1.1.3  官网构建工程</h4><p>在入门案例中之所以能快速构建 <code>SpringBoot</code> 工程，是因为 <code>Idea</code> 使用了官网提供了快速构建 <code>SpringBoot</code> 工程的组件实现的。那如何在官网进行工程构建呢？通过如下步骤构建</p>\n<h5 id=\"1-1-3-1-进入SpringBoot官网\"><a href=\"#1-1-3-1-进入SpringBoot官网\" class=\"headerlink\" title=\"1.1.3.1  进入SpringBoot官网\"></a>1.1.3.1  进入SpringBoot官网</h5><p>官网地址如下：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">https://spring.io/projects/spring-boot</span><br></pre></td></tr></table></figure>\n\n<p>进入到 <code>SpringBoot</code> 官网后拖到最下方就可以看到如下内容</p>\n<img src=\"/image/image-20210911173712014.png\" alt=\"image-20210911173712014\" style=\"zoom:60%;\" />\n\n<p>然后点击 <code>Spring Initializr</code> 超链接就会跳转到如下页面</p>\n<p><img src=\"../image/image-20210911174110687.png\" alt=\"image-20210911174110687\"></p>\n<p>这个页面内容是不是感觉很眼熟的，这和我们使用 <code>Idea</code> 快速构建 <code>SpringBoot</code> 工程的界面基本相同。在上面页面输入对应的信息</p>\n<h5 id=\"1-1-3-2-选择依赖\"><a href=\"#1-1-3-2-选择依赖\" class=\"headerlink\" title=\"1.1.3.2  选择依赖\"></a>1.1.3.2  选择依赖</h5><p>选择 <code>Spring Web</code> 可以点击上图右上角的 <code>ADD DEPENDENCIES... CTRL + B</code> 按钮，就会出现如下界面</p>\n<p><img src=\"../image/image-20210911174650679.png\" alt=\"image-20210911174650679\"></p>\n<h5 id=\"1-1-3-3-生成工程\"><a href=\"#1-1-3-3-生成工程\" class=\"headerlink\" title=\"1.1.3.3  生成工程\"></a>1.1.3.3  生成工程</h5><p>以上步骤完成后就可以生成 <code>SpringBoot</code> 工程了。在页面的最下方点击 <code>GENERATE CTRL + 回车</code> 按钮生成工程并下载到本地，如下图所示</p>\n<p><img src=\"../image/image-20210911175222857.png\" alt=\"image-20210911175222857\"></p>\n<p>打开下载好的压缩包可以看到工程结构和使用 <code>Idea</code> 生成的一模一样，如下图</p>\n<img src=\"/image/image-20210911175502834.png\" alt=\"image-20210911175502834\" style=\"zoom:80%;\" />\n\n<p>而打开 <code>pom.xml</code> 文件，里面也包含了父工程和 <code>Spring Web</code> 的依赖。</p>\n<p>通过上面官网的操作，我们知道 <code>Idea</code> 中快速构建 <code>SpringBoot</code> 工程其实就是使用的官网的快速构建组件，那以后即使没有 <code>Idea</code> 也可以使用官网的方式构建 <code>SpringBoot</code> 工程。</p>\n<h4 id=\"1-1-4-SpringBoot工程快速启动\"><a href=\"#1-1-4-SpringBoot工程快速启动\" class=\"headerlink\" title=\"1.1.4  SpringBoot工程快速启动\"></a>1.1.4  SpringBoot工程快速启动</h4><h5 id=\"1-1-4-1-问题导入\"><a href=\"#1-1-4-1-问题导入\" class=\"headerlink\" title=\"1.1.4.1  问题导入\"></a>1.1.4.1  问题导入</h5><img src=\"/image/image-20210911180828611.png\" alt=\"image-20210911180828611\" style=\"zoom:50%;\" />\n\n<p>以后我们和前端开发人员协同开发，而前端开发人员需要测试前端程序就需要后端开启服务器，这就受制于后端开发人员。为了摆脱这个受制，前端开发人员尝试着在自己电脑上安装 <code>Tomcat</code> 和 <code>Idea</code> ，在自己电脑上启动后端程序，这显然不现实。</p>\n<p>我们后端可以将 <code>SpringBoot</code> 工程打成 <code>jar</code> 包，该 <code>jar</code> 包运行不依赖于 <code>Tomcat</code> 和 <code>Idea</code> 这些工具也可以正常运行，只是这个 <code>jar</code> 包在运行过程中连接和我们自己程序相同的 <code>Mysql</code> 数据库即可。这样就可以解决这个问题，如下图</p>\n<img src=\"/image/image-20210911181714437.png\" alt=\"image-20210911181714437\" style=\"zoom:50%;\" />\n\n<p>那现在问题是如何打包呢？</p>\n<h5 id=\"1-1-4-2-打包\"><a href=\"#1-1-4-2-打包\" class=\"headerlink\" title=\"1.1.4.2  打包\"></a>1.1.4.2  打包</h5><p>由于我们在构建 <code>SpringBoot</code> 工程时已经在 <code>pom.xml</code> 中配置了如下插件</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">plugin</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">plugin</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>所以我们只需要使用 <code>Maven</code> 的 <code>package</code> 指令打包就会在 <code>target</code> 目录下生成对应的 <code>Jar</code> 包。</p>\n<blockquote>\n<p>==注意：该插件必须配置，不然打好的 <code>jar</code> 包也是有问题的。==</p>\n</blockquote>\n<h5 id=\"1-1-4-3-启动\"><a href=\"#1-1-4-3-启动\" class=\"headerlink\" title=\"1.1.4.3  启动\"></a>1.1.4.3  启动</h5><p>进入 <code>jar</code> 包所在位置，在 <code>命令提示符</code> 中输入如下命令</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">jar -jar springboot_01_quickstart-0.0.1-SNAPSHOT.jar</span><br></pre></td></tr></table></figure>\n\n<p>执行上述命令就可以看到 <code>SpringBoot</code> 运行的日志信息</p>\n<img src=\"/image/image-20210911182956629.png\" alt=\"image-20210911182956629\" style=\"zoom:60%;\" />\n\n<h3 id=\"1-2-SpringBoot概述\"><a href=\"#1-2-SpringBoot概述\" class=\"headerlink\" title=\"1.2  SpringBoot概述\"></a>1.2  SpringBoot概述</h3><p><code>SpringBoot</code> 是由Pivotal团队提供的全新框架，其设计目的是用来==简化==Spring应用的==初始搭建==以及==开发过程==。</p>\n<p>大家已经感受了 <code>SpringBoot</code> 程序，回过头看看 <code>SpringBoot</code> 主要作用是什么，就是简化 <code>Spring</code> 的搭建过程和开发过程。</p>\n<p>原始 <code>Spring</code> 环境搭建和开发存在以下问题：</p>\n<ul>\n<li>配置繁琐</li>\n<li>依赖设置繁琐</li>\n</ul>\n<p><code>SpringBoot</code> 程序优点恰巧就是针对 <code>Spring</code> 的缺点</p>\n<ul>\n<li>自动配置。这个是用来解决 <code>Spring</code> 程序配置繁琐的问题</li>\n<li>起步依赖。这个是用来解决 <code>Spring</code> 程序依赖设置繁琐的问题</li>\n<li>辅助功能（内置服务器,…）。我们在启动 <code>SpringBoot</code> 程序时既没有使用本地的 <code>tomcat</code> 也没有使用 <code>tomcat</code> 插件，而是使用 <code>SpringBoot</code> 内置的服务器。</li>\n</ul>\n<p>接下来我们来说一下 <code>SpringBoot</code> 的起步依赖</p>\n<h4 id=\"1-2-1-起步依赖\"><a href=\"#1-2-1-起步依赖\" class=\"headerlink\" title=\"1.2.1  起步依赖\"></a>1.2.1  起步依赖</h4><p>我们使用 <code>Spring Initializr</code>  方式创建的 <code>Maven</code> 工程的的 <code>pom.xml</code> 配置文件中自动生成了很多包含 <code>starter</code> 的依赖，如下图</p>\n<img src=\"/image/image-20210918220338109.png\" alt=\"image-20210918220338109\" style=\"zoom:70%;\" />\n\n<p>这些依赖就是==启动依赖==，接下来我们探究一下他是如何实现的。</p>\n<h5 id=\"1-2-1-1-探索父工程\"><a href=\"#1-2-1-1-探索父工程\" class=\"headerlink\" title=\"1.2.1.1  探索父工程\"></a>1.2.1.1  探索父工程</h5><p>从上面的文件中可以看到指定了一个父工程，我们进入到父工程，发现父工程中又指定了一个父工程，如下图所示</p>\n<img src=\"/image/image-20210918220855024.png\" alt=\"image-20210918220855024\" style=\"zoom:80%;\" />\n\n<p>再进入到该父工程中，在该工程中我们可以看到配置内容结构如下图所示</p>\n<img src=\"/image/image-20210918221042947.png\" alt=\"image-20210918221042947\" style=\"zoom:80%;\" />\n\n<p>上图中的 <code>properties</code> 标签中定义了各个技术软件依赖的版本，避免了我们在使用不同软件技术时考虑版本的兼容问题。在 <code>properties</code> 中我们找 <code>servlet</code>  和 <code>mysql</code> 的版本如下图</p>\n<img src=\"/image/image-20210918221511249.png\" alt=\"image-20210918221511249\" style=\"zoom:80%;\" />\n\n<p><code>dependencyManagement</code> 标签是进行依赖版本锁定，但是并没有导入对应的依赖；如果我们工程需要那个依赖只需要引入依赖的 <code>groupid</code> 和 <code>artifactId</code> 不需要定义 <code>version</code>。</p>\n<p>而 <code>build</code> 标签中也对插件的版本进行了锁定，如下图</p>\n<img src=\"/image/image-20210918221942453.png\" alt=\"image-20210918221942453\" style=\"zoom:80%;\" />\n\n<p>看完了父工程中 <code>pom.xml</code> 的配置后不难理解我们工程的的依赖为什么都没有配置 <code>version</code>。</p>\n<h5 id=\"1-2-1-2-探索依赖\"><a href=\"#1-2-1-2-探索依赖\" class=\"headerlink\" title=\"1.2.1.2  探索依赖\"></a>1.2.1.2  探索依赖</h5><p>在我们创建的工程中的 <code>pom.xml</code> 中配置了如下依赖</p>\n<img src=\"/image/image-20210918222321402.png\" alt=\"image-20210918222321402\" style=\"zoom:80%;\" />\n\n<p>进入到该依赖，查看 <code>pom.xml</code> 的依赖会发现它引入了如下的依赖</p>\n<img src=\"/image/image-20210918222607469.png\" alt=\"image-20210918222607469\" style=\"zoom:80%;\" />\n\n<p>里面的引入了 <code>spring-web</code> 和 <code>spring-webmvc</code> 的依赖，这就是为什么我们的工程中没有依赖这两个包还能正常使用 <code>springMVC</code> 中的注解的原因。</p>\n<p>而依赖 <code>spring-boot-starter-tomcat</code> ，从名字基本能确认内部依赖了 <code>tomcat</code>，所以我们的工程才能正常启动。</p>\n<p>==结论：以后需要使用技术，只需要引入该技术对应的起步依赖即可==</p>\n<h5 id=\"1-2-1-3-小结\"><a href=\"#1-2-1-3-小结\" class=\"headerlink\" title=\"1.2.1.3  小结\"></a>1.2.1.3  小结</h5><p><strong>starter</strong></p>\n<ul>\n<li><code>SpringBoot</code> 中常见项目名称，定义了当前项目使用的所有项目坐标，以达到减少依赖配置的目的</li>\n</ul>\n<p><strong>parent</strong></p>\n<ul>\n<li><p>所有 <code>SpringBoot</code> 项目要继承的项目，定义了若干个坐标版本号（依赖管理，而非依赖），以达到减少依赖冲突的目的</p>\n</li>\n<li><p><code>spring-boot-starter-parent</code>（2.5.0）与 <code>spring-boot-starter-parent</code>（2.4.6）共计57处坐标版本不同</p>\n</li>\n</ul>\n<p><strong>实际开发</strong></p>\n<ul>\n<li><p>使用任意坐标时，仅书写GAV中的G和A，V由SpringBoot提供</p>\n<blockquote>\n<p>G：groupid</p>\n<p>A：artifactId</p>\n<p>V：version</p>\n</blockquote>\n</li>\n<li><p>如发生坐标错误，再指定version（要小心版本冲突）</p>\n</li>\n</ul>\n<h4 id=\"1-2-2-程序启动\"><a href=\"#1-2-2-程序启动\" class=\"headerlink\" title=\"1.2.2  程序启动\"></a>1.2.2  程序启动</h4><p>创建的每一个 <code>SpringBoot</code> 程序时都包含一个类似于下面的类，我们将这个类称作引导类</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@SpringBootApplication</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Springboot01QuickstartApplication</span> &#123;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">        SpringApplication.run(Springboot01QuickstartApplication.class, args);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>==注意：==</p>\n<ul>\n<li><p><code>SpringBoot</code> 在创建项目时，采用jar的打包方式</p>\n</li>\n<li><p><code>SpringBoot</code> 的引导类是项目的入口，运行 <code>main</code> 方法就可以启动项目</p>\n<p>因为我们在 <code>pom.xml</code> 中配置了 <code>spring-boot-starter-web</code> 依赖，而该依赖通过前面的学习知道它依赖 <code>tomcat</code> ，所以运行 <code>main</code> 方法就可以使用 <code>tomcat</code> 启动咱们的工程。</p>\n</li>\n</ul>\n<h4 id=\"1-2-3-切换web服务器\"><a href=\"#1-2-3-切换web服务器\" class=\"headerlink\" title=\"1.2.3  切换web服务器\"></a>1.2.3  切换web服务器</h4><p>现在我们启动工程使用的是 <code>tomcat</code> 服务器，那能不能不使用 <code>tomcat</code> 而使用 <code>jetty</code> 服务器，<code>jetty</code> 在我们 <code>maven</code> 高级时讲 <code>maven</code> 私服使用的服务器。而要切换 <code>web</code> 服务器就需要将默认的 <code>tomcat</code> 服务器给排除掉，怎么排除呢？使用 <code>exclusion</code> 标签</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-boot-starter-web<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">exclusions</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">exclusion</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-boot-starter-tomcat<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">exclusion</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">exclusions</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>现在我们运行引导类可以吗？运行一下试试，打印的日志信息如下</p>\n<p><img src=\"../image/image-20210918232512707.png\" alt=\"image-20210918232512707\"></p>\n<p>程序直接停止了，为什么呢？那是因为排除了 <code>tomcat</code> 服务器，程序中就没有服务器了。所以此时不光要排除 <code>tomcat</code> 服务器，还要引入 <code>jetty</code> 服务器。在 <code>pom.xml</code> 中因为 <code>jetty</code> 的起步依赖</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-boot-starter-jetty<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>接下来再次运行引导类，在日志信息中就可以看到使用的是 <code>jetty</code> 服务器</p>\n<p><img src=\"../image/image-20210918232904623.png\" alt=\"image-20210918232904623\"></p>\n<p><strong>小结：</strong></p>\n<p>通过切换服务器，我们不难发现在使用 <code>SpringBoot</code> 换技术时只需要导入该技术的起步依赖即可。</p>\n<h2 id=\"2，配置文件\"><a href=\"#2，配置文件\" class=\"headerlink\" title=\"2，配置文件\"></a>2，配置文件</h2><h3 id=\"2-1-配置文件格式\"><a href=\"#2-1-配置文件格式\" class=\"headerlink\" title=\"2.1  配置文件格式\"></a>2.1  配置文件格式</h3><p>我们现在启动服务器默认的端口号是 <code>8080</code>，访问路径可以书写为</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http://localhost:8080/books/1</span><br></pre></td></tr></table></figure>\n\n<p>在线上环境我们还是希望将端口号改为 <code>80</code>，这样在访问的时候就可以不写端口号了，如下</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http://localhost/books/1</span><br></pre></td></tr></table></figure>\n\n<p>而 <code>SpringBoot</code> 程序如何修改呢？<code>SpringBoot</code> 提供了多种属性配置方式</p>\n<ul>\n<li><p><code>application.properties</code></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server.port=80</span><br></pre></td></tr></table></figure></li>\n<li><p><code>application.yml</code></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">server:</span></span><br><span class=\"line\">\t<span class=\"attr\">port:</span> <span class=\"number\">81</span></span><br></pre></td></tr></table></figure></li>\n<li><p><code>application.yaml</code></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">server:</span></span><br><span class=\"line\">\t<span class=\"attr\">port:</span> <span class=\"number\">82</span></span><br></pre></td></tr></table></figure></li>\n</ul>\n<blockquote>\n<p>==注意：<code>SpringBoot</code> 程序的配置文件名必须是 <code>application</code> ，只是后缀名不同而已。==</p>\n</blockquote>\n<h4 id=\"2-1-1-环境准备\"><a href=\"#2-1-1-环境准备\" class=\"headerlink\" title=\"2.1.1  环境准备\"></a>2.1.1  环境准备</h4><p>创建一个新工程 <code>springboot_02_base_config</code> 用来演示不同的配置文件，工程环境和入门案例一模一样，结构如下：</p>\n<img src=\"/image/image-20210917151314753.png\" alt=\"image-20210917151314753\" style=\"zoom:80%;\" />\n\n<p>在该工程中的 <code>com.itheima.controller</code> 包下创建一个名为 <code>BookController</code> 的控制器。内容如下：</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@RestController</span></span><br><span class=\"line\"><span class=\"meta\">@RequestMapping(&quot;/books&quot;)</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">BookController</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@GetMapping(&quot;/&#123;id&#125;&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> String <span class=\"title function_\">getById</span><span class=\"params\">(<span class=\"meta\">@PathVariable</span> Integer id)</span>&#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;id ==&gt; &quot;</span>+id);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&quot;hello , spring boot!&quot;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"2-1-2-不同配置文件演示\"><a href=\"#2-1-2-不同配置文件演示\" class=\"headerlink\" title=\"2.1.2  不同配置文件演示\"></a>2.1.2  不同配置文件演示</h4><ul>\n<li><strong>application.properties配置文件</strong></li>\n</ul>\n<p>现在需要进行配置，配合文件必须放在 <code>resources</code> 目录下，而该目录下有一个名为 <code>application.properties</code> 的配置文件，我们就可以在该配置文件中修改端口号，在该配置文件中书写 <code>port</code> ，<code>Idea</code> 就会提示，如下</p>\n<img src=\"/image/image-20210917161422535.png\" alt=\"image-20210917161422535\" style=\"zoom:80%;\" />\n\n<p><code>application.properties</code> 配置文件内容如下：</p>\n<figure class=\"highlight properties\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">server.port</span>=<span class=\"string\">80</span></span><br></pre></td></tr></table></figure>\n\n<p>启动服务，会在控制台打印出日志信息，从日志信息中可以看到绑定的端口号已经修改了</p>\n<img src=\"/image/image-20210917161720855.png\" alt=\"image-20210917161720855\" style=\"zoom:80%;\" />\n\n<ul>\n<li><strong>application.yml配置文件</strong></li>\n</ul>\n<p>删除 <code>application.properties</code> 配置文件中的内容。在 <code>resources</code> 下创建一个名为 <code>application.yml</code> 的配置文件，在该文件中书写端口号的配置项，格式如下：</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">server:</span></span><br><span class=\"line\">\t<span class=\"attr\">port:</span> <span class=\"number\">81</span></span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>==注意： 在<code>:</code>后，数据前一定要加空格。==</p>\n</blockquote>\n<p>而在 <code>yml</code> 配置文件中也是有提示功能的，我们也可以在该文件中书写 <code>port</code> ，然后 <code>idea</code> 就会提示并书写成上面的格式</p>\n<img src=\"/image/image-20210917162512646.png\" alt=\"image-20210917162512646\" style=\"zoom:80%;\" />\n\n<p>启动服务，可以在控制台看到绑定的端口号是 <code>81</code></p>\n<p><img src=\"../image/image-20210917162700711.png\" alt=\"image-20210917162700711\"></p>\n<ul>\n<li><strong>application.yaml配置文件</strong></li>\n</ul>\n<p>删除 <code>application.yml</code> 配置文件和 <code>application.properties</code> 配置文件内容，然后在 <code>resources</code> 下创建名为 <code>application.yaml</code> 的配置文件，配置内容和后缀名为 <code>yml</code> 的配置文件中的内容相同，只是使用了不同的后缀名而已</p>\n<p><code>application.yaml</code> 配置文件内容如下：</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">server:</span></span><br><span class=\"line\">\t<span class=\"attr\">port:</span> <span class=\"number\">83</span></span><br></pre></td></tr></table></figure>\n\n<p>启动服务，在控制台可以看到绑定的端口号</p>\n<p><img src=\"../image/image-20210917163335913.png\" alt=\"image-20210917163335913\"></p>\n<p>==注意：在配合文件中如果没有提示，可以使用一下方式解决==</p>\n<ul>\n<li>点击 <code>File</code> 选中 <code>Project Structure</code></li>\n</ul>\n<img src=\"/image/image-20210917163557071.png\" alt=\"image-20210917163557071\" style=\"zoom:80%;\" />\n\n<ul>\n<li>弹出如下窗口，按图中标记红框进行选择</li>\n</ul>\n<img src=\"/image/image-20210917163736458.png\" alt=\"image-20210917163736458\" style=\"zoom:70%;\" />\n\n<ul>\n<li>通过上述操作，会弹出如下窗口</li>\n</ul>\n<img src=\"/image/image-20210917163818051.png\" alt=\"image-20210917163818051\" style=\"zoom:80%;\" />\n\n<ul>\n<li>点击上图的 <code>+</code> 号，弹出选择该模块的配置文件</li>\n</ul>\n<img src=\"/image/image-20210917163828518.png\" alt=\"image-20210917163828518\" style=\"zoom:80%;\" />\n\n<ul>\n<li>通过上述几步后，就可以看到如下界面。<code>properties</code> 类型的配合文件有一个，<code>ymal</code> 类型的配置文件有两个</li>\n</ul>\n<img src=\"/image/image-20210917163846243.png\" alt=\"image-20210917163846243\" style=\"zoom:80%;\" />\n\n<h4 id=\"2-1-3-三种配合文件的优先级\"><a href=\"#2-1-3-三种配合文件的优先级\" class=\"headerlink\" title=\"2.1.3  三种配合文件的优先级\"></a>2.1.3  三种配合文件的优先级</h4><p>在三种配合文件中分别配置不同的端口号，启动服务查看绑定的端口号。用这种方式就可以看到哪个配置文件的优先级更高一些</p>\n<p><code>application.properties</code> 文件内容如下：</p>\n<figure class=\"highlight properties\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">server.port</span>=<span class=\"string\">80</span></span><br></pre></td></tr></table></figure>\n\n<p><code>application.yml</code> 文件内容如下：</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">server:</span></span><br><span class=\"line\">\t<span class=\"attr\">port:</span> <span class=\"number\">81</span></span><br></pre></td></tr></table></figure>\n\n<p><code>application.yaml</code> 文件内容如下：</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">server:</span></span><br><span class=\"line\">\t<span class=\"attr\">port:</span> <span class=\"number\">82</span></span><br></pre></td></tr></table></figure>\n\n<p>启动服务，在控制台可以看到使用的端口号是 <code>80</code>。说明 <code>application.properties</code> 的优先级最高</p>\n<p>注释掉 <code>application.properties</code> 配置文件内容。再次启动服务，在控制台可以看到使用的端口号是 <code>81</code>，说明 <code>application.yml</code> 配置文件为第二优先级。</p>\n<p>从上述的验证结果可以确定三种配置文件的优先级是：</p>\n<p>==<code>application.properties</code>  &gt;  <code>application.yml</code>   &gt;  <code>application.yaml</code>==</p>\n<blockquote>\n<p>==注意：==</p>\n<ul>\n<li><p><code>SpringBoot</code> 核心配置文件名为 <code>application</code></p>\n</li>\n<li><p><code>SpringBoot</code> 内置属性过多，且所有属性集中在一起修改，在使用时，通过提示键+关键字修改属性</p>\n<p>例如要设置日志的级别时，可以在配置文件中书写 <code>logging</code>，就会提示出来。配置内容如下</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">logging:</span></span><br><span class=\"line\">  <span class=\"attr\">level:</span></span><br><span class=\"line\">    <span class=\"attr\">root:</span> <span class=\"string\">info</span></span><br></pre></td></tr></table></figure></li>\n</ul>\n</blockquote>\n<h3 id=\"2-2-yaml格式\"><a href=\"#2-2-yaml格式\" class=\"headerlink\" title=\"2.2  yaml格式\"></a>2.2  yaml格式</h3><p>上面讲了三种不同类型的配置文件，而 <code>properties</code> 类型的配合文件之前我们学习过，接下来我们重点学习 <code>yaml</code> 类型的配置文件。</p>\n<p><strong>YAML（YAML Ain’t Markup Language），一种数据序列化格式。</strong>这种格式的配置文件在近些年已经占有主导地位，那么这种配置文件和前期使用的配置文件是有一些优势的，我们先看之前使用的配置文件。</p>\n<p>最开始我们使用的是 <code>xml</code> ，格式如下：</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">enterprise</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>itcast<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">age</span>&gt;</span>16<span class=\"tag\">&lt;/<span class=\"name\">age</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">tel</span>&gt;</span>4006184000<span class=\"tag\">&lt;/<span class=\"name\">tel</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">enterprise</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>而 <code>properties</code> 类型的配置文件如下</p>\n<figure class=\"highlight properties\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">enterprise.name</span>=<span class=\"string\">itcast</span></span><br><span class=\"line\"><span class=\"attr\">enterprise.age</span>=<span class=\"string\">16</span></span><br><span class=\"line\"><span class=\"attr\">enterprise.tel</span>=<span class=\"string\">4006184000</span></span><br></pre></td></tr></table></figure>\n\n<p><code>yaml</code> 类型的配置文件内容如下</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">enterprise:</span></span><br><span class=\"line\">\t<span class=\"attr\">name:</span> <span class=\"string\">itcast</span></span><br><span class=\"line\">\t<span class=\"attr\">age:</span> <span class=\"number\">16</span></span><br><span class=\"line\">\t<span class=\"attr\">tel:</span> <span class=\"number\">4006184000</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>优点：</strong></p>\n<ul>\n<li><p>容易阅读</p>\n<p><code>yaml</code> 类型的配置文件比 <code>xml</code> 类型的配置文件更容易阅读，结构更加清晰</p>\n</li>\n<li><p>容易与脚本语言交互</p>\n</li>\n<li><p>以数据为核心，重数据轻格式</p>\n<p><code>yaml</code> 更注重数据，而 <code>xml</code> 更注重格式</p>\n</li>\n</ul>\n<p><strong>YAML 文件扩展名：</strong></p>\n<ul>\n<li><code>.yml</code> (主流)</li>\n<li><code>.yaml</code></li>\n</ul>\n<p>上面两种后缀名都可以，以后使用更多的还是 <code>yml</code> 的。</p>\n<h4 id=\"2-2-1-语法规则\"><a href=\"#2-2-1-语法规则\" class=\"headerlink\" title=\"2.2.1  语法规则\"></a>2.2.1  语法规则</h4><ul>\n<li><p>大小写敏感</p>\n</li>\n<li><p>属性层级关系使用多行描述，每行结尾使用冒号结束</p>\n</li>\n<li><p>使用缩进表示层级关系，同层级左侧对齐，只允许使用空格（不允许使用Tab键）</p>\n<p>空格的个数并不重要，只要保证同层级的左侧对齐即可。</p>\n</li>\n<li><p>属性值前面添加空格（属性名与属性值之间使用冒号+空格作为分隔）</p>\n</li>\n<li><p># 表示注释</p>\n</li>\n</ul>\n<p>==核心规则：数据前面要加空格与冒号隔开==</p>\n<p>数组数据在数据书写位置的下方使用减号作为数据开始符号，每行书写一个数据，减号与数据间空格分隔，例如</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">enterprise:</span></span><br><span class=\"line\">  <span class=\"attr\">name:</span> <span class=\"string\">itcast</span></span><br><span class=\"line\">  <span class=\"attr\">age:</span> <span class=\"number\">16</span></span><br><span class=\"line\">  <span class=\"attr\">tel:</span> <span class=\"number\">4006184000</span></span><br><span class=\"line\">  <span class=\"attr\">subject:</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">Java</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">前端</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">大数据</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"2-3-yaml配置文件数据读取\"><a href=\"#2-3-yaml配置文件数据读取\" class=\"headerlink\" title=\"2.3  yaml配置文件数据读取\"></a>2.3  yaml配置文件数据读取</h3><h4 id=\"2-3-1-环境准备\"><a href=\"#2-3-1-环境准备\" class=\"headerlink\" title=\"2.3.1  环境准备\"></a>2.3.1  环境准备</h4><p>新创建一个名为 <code>springboot_03_read_data</code> 的 <code>SpringBoot</code> 工程，目录结构如下</p>\n<img src=\"/image/image-20210917172736484.png\" alt=\"image-20210917172736484\" style=\"zoom:80%;\" />\n\n<p>在 <code>com.itheima.controller</code> 包写创建名为 <code>BookController</code> 的控制器，内容如下</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@RestController</span></span><br><span class=\"line\"><span class=\"meta\">@RequestMapping(&quot;/books&quot;)</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">BookController</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@GetMapping(&quot;/&#123;id&#125;&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> String <span class=\"title function_\">getById</span><span class=\"params\">(<span class=\"meta\">@PathVariable</span> Integer id)</span>&#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;id ==&gt; &quot;</span>+id);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&quot;hello , spring boot!&quot;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>在 <code>com.itheima.domain</code> 包下创建一个名为 <code>Enterprise</code> 的实体类等会用来封装数据，内容如下</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Enterprise</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String name;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"type\">int</span> age;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String tel;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String[] subject;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">//setter and getter</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">//toString</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>在 <code>resources</code> 下创建一个名为 <code>application.yml</code> 的配置文件，里面配置了不同的数据，内容如下</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">lesson:</span> <span class=\"string\">SpringBoot</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">server:</span></span><br><span class=\"line\">  <span class=\"attr\">port:</span> <span class=\"number\">80</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">enterprise:</span></span><br><span class=\"line\">  <span class=\"attr\">name:</span> <span class=\"string\">itcast</span></span><br><span class=\"line\">  <span class=\"attr\">age:</span> <span class=\"number\">16</span></span><br><span class=\"line\">  <span class=\"attr\">tel:</span> <span class=\"number\">4006184000</span></span><br><span class=\"line\">  <span class=\"attr\">subject:</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">Java</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">前端</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">大数据</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"2-3-2-读取配置数据\"><a href=\"#2-3-2-读取配置数据\" class=\"headerlink\" title=\"2.3.2  读取配置数据\"></a>2.3.2  读取配置数据</h4><h5 id=\"2-3-2-1-使用-Value注解\"><a href=\"#2-3-2-1-使用-Value注解\" class=\"headerlink\" title=\"2.3.2.1  使用 @Value注解\"></a>2.3.2.1  使用 @Value注解</h5><p>使用 <code>@Value(&quot;表达式&quot;)</code> 注解可以从配合文件中读取数据，注解中用于读取属性名引用方式是：<code>$&#123;一级属性名.二级属性名……&#125;</code></p>\n<p>我们可以在 <code>BookController</code> 中使用 <code>@Value</code>  注解读取配合文件数据，如下</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@RestController</span></span><br><span class=\"line\"><span class=\"meta\">@RequestMapping(&quot;/books&quot;)</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">BookController</span> &#123;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"meta\">@Value(&quot;$&#123;lesson&#125;&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> String lesson;</span><br><span class=\"line\">    <span class=\"meta\">@Value(&quot;$&#123;server.port&#125;&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> Integer port;</span><br><span class=\"line\">    <span class=\"meta\">@Value(&quot;$&#123;enterprise.subject[0]&#125;&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> String subject_00;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@GetMapping(&quot;/&#123;id&#125;&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> String <span class=\"title function_\">getById</span><span class=\"params\">(<span class=\"meta\">@PathVariable</span> Integer id)</span>&#123;</span><br><span class=\"line\">        System.out.println(lesson);</span><br><span class=\"line\">        System.out.println(port);</span><br><span class=\"line\">        System.out.println(subject_00);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&quot;hello , spring boot!&quot;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"2-3-2-2-Environment对象\"><a href=\"#2-3-2-2-Environment对象\" class=\"headerlink\" title=\"2.3.2.2  Environment对象\"></a>2.3.2.2  Environment对象</h5><p>上面方式读取到的数据特别零散，<code>SpringBoot</code> 还可以使用 <code>@Autowired</code> 注解注入 <code>Environment</code> 对象的方式读取数据。这种方式 <code>SpringBoot</code> 会将配置文件中所有的数据封装到 <code>Environment</code> 对象中，如果需要使用哪个数据只需要通过调用 <code>Environment</code> 对象的 <code>getProperty(String name)</code> 方法获取。具体代码如下：</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@RestController</span></span><br><span class=\"line\"><span class=\"meta\">@RequestMapping(&quot;/books&quot;)</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">BookController</span> &#123;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"meta\">@Autowired</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> Environment env;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"meta\">@GetMapping(&quot;/&#123;id&#125;&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> String <span class=\"title function_\">getById</span><span class=\"params\">(<span class=\"meta\">@PathVariable</span> Integer id)</span>&#123;</span><br><span class=\"line\">        System.out.println(env.getProperty(<span class=\"string\">&quot;lesson&quot;</span>));</span><br><span class=\"line\">        System.out.println(env.getProperty(<span class=\"string\">&quot;enterprise.name&quot;</span>));</span><br><span class=\"line\">        System.out.println(env.getProperty(<span class=\"string\">&quot;enterprise.subject[0]&quot;</span>));</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&quot;hello , spring boot!&quot;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>==注意：这种方式，框架内容大量数据，而在开发中我们很少使用。==</p>\n</blockquote>\n<h5 id=\"2-3-2-3-自定义对象\"><a href=\"#2-3-2-3-自定义对象\" class=\"headerlink\" title=\"2.3.2.3  自定义对象\"></a>2.3.2.3  自定义对象</h5><p><code>SpringBoot</code> 还提供了将配置文件中的数据封装到我们自定义的实体类对象中的方式。具体操作如下：</p>\n<ul>\n<li><p>将实体类 <code>bean</code> 的创建交给 <code>Spring</code> 管理。</p>\n<p>在类上添加 <code>@Component</code> 注解</p>\n</li>\n<li><p>使用 <code>@ConfigurationProperties</code> 注解表示加载配置文件</p>\n<p>在该注解中也可以使用 <code>prefix</code> 属性指定只加载指定前缀的数据</p>\n</li>\n<li><p>在 <code>BookController</code> 中进行注入</p>\n</li>\n</ul>\n<p><strong>具体代码如下：</strong></p>\n<p><code>Enterprise</code> 实体类内容如下：</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Component</span></span><br><span class=\"line\"><span class=\"meta\">@ConfigurationProperties(prefix = &quot;enterprise&quot;)</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Enterprise</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String name;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"type\">int</span> age;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String tel;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String[] subject;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> String <span class=\"title function_\">getName</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> name;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">setName</span><span class=\"params\">(String name)</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.name = name;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">getAge</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> age;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">setAge</span><span class=\"params\">(<span class=\"type\">int</span> age)</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.age = age;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> String <span class=\"title function_\">getTel</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> tel;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">setTel</span><span class=\"params\">(String tel)</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.tel = tel;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> String[] getSubject() &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> subject;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">setSubject</span><span class=\"params\">(String[] subject)</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.subject = subject;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> String <span class=\"title function_\">toString</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&quot;Enterprise&#123;&quot;</span> +</span><br><span class=\"line\">                <span class=\"string\">&quot;name=&#x27;&quot;</span> + name + <span class=\"string\">&#x27;\\&#x27;&#x27;</span> +</span><br><span class=\"line\">                <span class=\"string\">&quot;, age=&quot;</span> + age +</span><br><span class=\"line\">                <span class=\"string\">&quot;, tel=&#x27;&quot;</span> + tel + <span class=\"string\">&#x27;\\&#x27;&#x27;</span> +</span><br><span class=\"line\">                <span class=\"string\">&quot;, subject=&quot;</span> + Arrays.toString(subject) +</span><br><span class=\"line\">                <span class=\"string\">&#x27;&#125;&#x27;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><code>BookController</code> 内容如下：</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@RestController</span></span><br><span class=\"line\"><span class=\"meta\">@RequestMapping(&quot;/books&quot;)</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">BookController</span> &#123;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"meta\">@Autowired</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> Enterprise enterprise;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@GetMapping(&quot;/&#123;id&#125;&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> String <span class=\"title function_\">getById</span><span class=\"params\">(<span class=\"meta\">@PathVariable</span> Integer id)</span>&#123;</span><br><span class=\"line\">        System.out.println(enterprise.getName());</span><br><span class=\"line\">        System.out.println(enterprise.getAge());</span><br><span class=\"line\">        System.out.println(enterprise.getSubject());</span><br><span class=\"line\">        System.out.println(enterprise.getTel());</span><br><span class=\"line\">        System.out.println(enterprise.getSubject()[<span class=\"number\">0</span>]);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&quot;hello , spring boot!&quot;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>==注意：==</p>\n<p>使用第三种方式，在实体类上有如下警告提示</p>\n<img src=\"/image/image-20210917180919390.png\" alt=\"image-20210917180919390\" style=\"zoom:70%;\" />\n\n<p>这个警告提示解决是在 <code>pom.xml</code> 中添加如下依赖即可</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-boot-configuration-processor<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">optional</span>&gt;</span>true<span class=\"tag\">&lt;/<span class=\"name\">optional</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"2-4-多环境配置\"><a href=\"#2-4-多环境配置\" class=\"headerlink\" title=\"2.4  多环境配置\"></a>2.4  多环境配置</h3><p>以后在工作中，对于开发环境、测试环境、生产环境的配置肯定都不相同，比如我们开发阶段会在自己的电脑上安装 <code>mysql</code> ，连接自己电脑上的 <code>mysql</code> 即可，但是项目开发完毕后要上线就需要该配置，将环境的配置改为线上环境的。</p>\n<img src=\"/image/image-20210917185253557.png\" alt=\"image-20210917185253557\" style=\"zoom:60%;\" />\n\n<p>来回的修改配置会很麻烦，而 <code>SpringBoot</code> 给开发者提供了多环境的快捷配置，需要切换环境时只需要改一个配置即可。不同类型的配置文件多环境开发的配置都不相同，接下来对不同类型的配置文件进行说明</p>\n<h4 id=\"2-4-1-yaml文件\"><a href=\"#2-4-1-yaml文件\" class=\"headerlink\" title=\"2.4.1  yaml文件\"></a>2.4.1  yaml文件</h4><p>在 <code>application.yml</code> 中使用 <code>---</code> 来分割不同的配置，内容如下</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#开发</span></span><br><span class=\"line\"><span class=\"attr\">spring:</span></span><br><span class=\"line\">  <span class=\"attr\">profiles:</span> <span class=\"string\">dev</span> <span class=\"comment\">#给开发环境起的名字</span></span><br><span class=\"line\"><span class=\"attr\">server:</span></span><br><span class=\"line\">  <span class=\"attr\">port:</span> <span class=\"number\">80</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"comment\">#生产</span></span><br><span class=\"line\"><span class=\"attr\">spring:</span></span><br><span class=\"line\">  <span class=\"attr\">profiles:</span> <span class=\"string\">pro</span> <span class=\"comment\">#给生产环境起的名字</span></span><br><span class=\"line\"><span class=\"attr\">server:</span></span><br><span class=\"line\">  <span class=\"attr\">port:</span> <span class=\"number\">81</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"comment\">#测试</span></span><br><span class=\"line\"><span class=\"attr\">spring:</span></span><br><span class=\"line\">  <span class=\"attr\">profiles:</span> <span class=\"string\">test</span> <span class=\"comment\">#给测试环境起的名字</span></span><br><span class=\"line\"><span class=\"attr\">server:</span></span><br><span class=\"line\">  <span class=\"attr\">port:</span> <span class=\"number\">82</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br></pre></td></tr></table></figure>\n\n<p>上面配置中 <code>spring.profiles</code> 是用来给不同的配置起名字的。而如何告知 <code>SpringBoot</code> 使用哪段配置呢？可以使用如下配置来启用都一段配置</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#设置启用的环境</span></span><br><span class=\"line\"><span class=\"attr\">spring:</span></span><br><span class=\"line\">  <span class=\"attr\">profiles:</span></span><br><span class=\"line\">    <span class=\"attr\">active:</span> <span class=\"string\">dev</span>  <span class=\"comment\">#表示使用的是开发环境的配置</span></span><br></pre></td></tr></table></figure>\n\n<p>综上所述，<code>application.yml</code> 配置文件内容如下</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#设置启用的环境</span></span><br><span class=\"line\"><span class=\"attr\">spring:</span></span><br><span class=\"line\">  <span class=\"attr\">profiles:</span></span><br><span class=\"line\">    <span class=\"attr\">active:</span> <span class=\"string\">dev</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"comment\">#开发</span></span><br><span class=\"line\"><span class=\"attr\">spring:</span></span><br><span class=\"line\">  <span class=\"attr\">profiles:</span> <span class=\"string\">dev</span></span><br><span class=\"line\"><span class=\"attr\">server:</span></span><br><span class=\"line\">  <span class=\"attr\">port:</span> <span class=\"number\">80</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"comment\">#生产</span></span><br><span class=\"line\"><span class=\"attr\">spring:</span></span><br><span class=\"line\">  <span class=\"attr\">profiles:</span> <span class=\"string\">pro</span></span><br><span class=\"line\"><span class=\"attr\">server:</span></span><br><span class=\"line\">  <span class=\"attr\">port:</span> <span class=\"number\">81</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"comment\">#测试</span></span><br><span class=\"line\"><span class=\"attr\">spring:</span></span><br><span class=\"line\">  <span class=\"attr\">profiles:</span> <span class=\"string\">test</span></span><br><span class=\"line\"><span class=\"attr\">server:</span></span><br><span class=\"line\">  <span class=\"attr\">port:</span> <span class=\"number\">82</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br></pre></td></tr></table></figure>\n\n<p>==注意：==</p>\n<p>在上面配置中给不同配置起名字的 <code>spring.profiles</code> 配置项已经过时。最新用来起名字的配置项是 </p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#开发</span></span><br><span class=\"line\"><span class=\"attr\">spring:</span></span><br><span class=\"line\">  <span class=\"attr\">config:</span></span><br><span class=\"line\">    <span class=\"attr\">activate:</span></span><br><span class=\"line\">      <span class=\"attr\">on-profile:</span> <span class=\"string\">dev</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"2-4-2-properties文件\"><a href=\"#2-4-2-properties文件\" class=\"headerlink\" title=\"2.4.2  properties文件\"></a>2.4.2  properties文件</h4><p><code>properties</code> 类型的配置文件配置多环境需要定义不同的配置文件</p>\n<ul>\n<li><p><code>application-dev.properties</code> 是开发环境的配置文件。我们在该文件中配置端口号为 <code>80</code></p>\n<figure class=\"highlight properties\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">server.port</span>=<span class=\"string\">80</span></span><br></pre></td></tr></table></figure></li>\n<li><p><code>application-test.properties</code> 是测试环境的配置文件。我们在该文件中配置端口号为 <code>81</code></p>\n<figure class=\"highlight properties\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">server.port</span>=<span class=\"string\">81</span></span><br></pre></td></tr></table></figure></li>\n<li><p><code>application-pro.properties</code> 是生产环境的配置文件。我们在该文件中配置端口号为 <code>82</code></p>\n<figure class=\"highlight properties\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">server.port</span>=<span class=\"string\">82</span></span><br></pre></td></tr></table></figure></li>\n</ul>\n<p><code>SpringBoot</code> 只会默认加载名为 <code>application.properties</code> 的配置文件，所以需要在 <code>application.properties</code> 配置文件中设置启用哪个配置文件，配置如下:</p>\n<figure class=\"highlight properties\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">spring.profiles.active</span>=<span class=\"string\">pro</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"2-4-3-命令行启动参数设置\"><a href=\"#2-4-3-命令行启动参数设置\" class=\"headerlink\" title=\"2.4.3  命令行启动参数设置\"></a>2.4.3  命令行启动参数设置</h4><p>使用 <code>SpringBoot</code> 开发的程序以后都是打成 <code>jar</code> 包，通过 <code>java -jar xxx.jar</code> 的方式启动服务的。那么就存在一个问题，如何切换环境呢？因为配置文件打到的jar包中了。</p>\n<p>我们知道 <code>jar</code> 包其实就是一个压缩包，可以解压缩，然后修改配置，最后再打成jar包就可以了。这种方式显然有点麻烦，而 <code>SpringBoot</code> 提供了在运行 <code>jar</code> 时设置开启指定的环境的方式，如下</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">java –jar xxx.jar –-spring.profiles.active=test</span><br></pre></td></tr></table></figure>\n\n<p>那么这种方式能不能临时修改端口号呢？也是可以的，可以通过如下方式</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">java –jar xxx.jar –-server.port=88</span><br></pre></td></tr></table></figure>\n\n<p>当然也可以同时设置多个配置，比如即指定启用哪个环境配置，又临时指定端口，如下</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">java –jar springboot.jar –-server.port=88 –-spring.profiles.active=test</span><br></pre></td></tr></table></figure>\n\n<p>大家进行测试后就会发现命令行设置的端口号优先级高（也就是使用的是命令行设置的端口号），配置的优先级其实 <code>SpringBoot</code> 官网已经进行了说明，参见 :</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-external-config</span><br></pre></td></tr></table></figure>\n\n<p>进入上面网站后会看到如下页面</p>\n<p><img src=\"../image/image-20210917193910191.png\" alt=\"image-20210917193910191\"></p>\n<p>如果使用了多种方式配合同一个配置项，优先级高的生效。</p>\n<h3 id=\"2-5-配置文件分类\"><a href=\"#2-5-配置文件分类\" class=\"headerlink\" title=\"2.5  配置文件分类\"></a>2.5  配置文件分类</h3><img src=\"/image/image-20210917194941597.png\" alt=\"image-20210917194941597\" style=\"zoom:70%;\" />\n\n<p>有这样的场景，我们开发完毕后需要测试人员进行测试，由于测试环境和开发环境的很多配置都不相同，所以测试人员在运行我们的工程时需要临时修改很多配置，如下</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">java –jar springboot.jar –-spring.profiles.active=test --server.port=85 --server.servlet.context-path=/heima --server.tomcat.connection-timeout=-1 …… …… …… …… ……</span><br></pre></td></tr></table></figure>\n\n<p>针对这种情况，<code>SpringBoot</code> 定义了配置文件不同的放置的位置；而放在不同位置的优先级时不同的。</p>\n<p><code>SpringBoot</code> 中4级配置文件放置位置：</p>\n<ul>\n<li>1级：classpath：application.yml  </li>\n<li>2级：classpath：config/application.yml</li>\n<li>3级：file ：application.yml</li>\n<li>4级：file ：config/application.yml </li>\n</ul>\n<blockquote>\n<p>==说明：==级别越高优先级越高</p>\n</blockquote>\n<h4 id=\"2-5-1-代码演示\"><a href=\"#2-5-1-代码演示\" class=\"headerlink\" title=\"2.5.1  代码演示\"></a>2.5.1  代码演示</h4><p>在这里我们只演示不同级别配置文件放置位置的优先级。</p>\n<h5 id=\"2-5-1-1-环境准备\"><a href=\"#2-5-1-1-环境准备\" class=\"headerlink\" title=\"2.5.1.1  环境准备\"></a>2.5.1.1  环境准备</h5><p>创建一个名为 <code>springboot_06_config_file</code> 的 <code>SpringBoot</code> 工程，目录结构如下</p>\n<img src=\"/image/image-20210917200241282.png\" alt=\"image-20210917200241282\" style=\"zoom:80%;\" />\n\n<p>在 <code>resources</code> 下创建一个名为 <code>config</code> 的目录，在该目录中创建 <code>application.yml</code> 配置文件，而在该配置文件中将端口号设置为 <code>81</code>，内容如下</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">server:</span></span><br><span class=\"line\">  <span class=\"attr\">port:</span> <span class=\"number\">81</span></span><br></pre></td></tr></table></figure>\n\n<p>而在 <code>resources</code> 下创建的 <code>application.yml</code> 配置文件中并将端口号设置为 <code>80</code>，内容如下</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">server:</span></span><br><span class=\"line\">  <span class=\"attr\">port:</span> <span class=\"number\">80</span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"2-5-1-2-验证1级和2级的优先级\"><a href=\"#2-5-1-2-验证1级和2级的优先级\" class=\"headerlink\" title=\"2.5.1.2  验证1级和2级的优先级\"></a>2.5.1.2  验证1级和2级的优先级</h5><p>运行启动引导类，可以在控制台看到如下日志信息</p>\n<p><img src=\"../image/image-20210917200805389.png\" alt=\"image-20210917200805389\"></p>\n<p>通过这个结果可以得出==类路径下的 <code>config</code> 下的配置文件优先于类路径下的配置文件。==</p>\n<h5 id=\"2-5-1-3-验证2级和4级的优先级\"><a href=\"#2-5-1-3-验证2级和4级的优先级\" class=\"headerlink\" title=\"2.5.1.3  验证2级和4级的优先级\"></a>2.5.1.3  验证2级和4级的优先级</h5><p>要验证4级，按照以下步骤完成</p>\n<ul>\n<li><p>将工程打成 <code>jar</code> 包</p>\n<p>点击工程的 <code>package</code> 来打 <code>jar</code> 包</p>\n<img src=\"/image/image-20210917201243721.png\" alt=\"image-20210917201243721\" style=\"zoom:80%;\" /></li>\n<li><p>在硬盘上找到 <code>jar</code> 包所在位置</p>\n<img src=\"/image/image-20210917201523669.png\" alt=\"image-20210917201523669\" style=\"zoom:70%;\" /></li>\n<li><p>在 <code>jar</code> 包所在位置创建 <code>config</code> 文件夹，在该文件夹下创建 <code>application.yml</code> 配置文件，而在该配合文件中将端口号设置为 <code>82</code> </p>\n</li>\n<li><p>在命令行使用以下命令运行程序</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">java -jar springboot_06_config_file-0.0.1-SNAPSHOT.jar</span><br></pre></td></tr></table></figure>\n\n<p>运行后日志信息如下</p>\n<p><img src=\"../image/image-20210917201922831.png\" alt=\"image-20210917201922831\"></p>\n<p>通过这个结果可以得出==file： <code>config</code> 下的配置文件优先于类路径下的配置文件。==</p>\n</li>\n</ul>\n<blockquote>\n<p>==注意：==</p>\n<p>SpringBoot 2.5.0版本存在一个bug，我们在使用这个版本时，需要在 <code>jar</code> 所在位置的 <code>config</code> 目录下创建一个任意名称的文件夹</p>\n</blockquote>\n<h2 id=\"3，SpringBoot整合junit\"><a href=\"#3，SpringBoot整合junit\" class=\"headerlink\" title=\"3，SpringBoot整合junit\"></a>3，SpringBoot整合junit</h2><p>回顾 <code>Spring</code> 整合 <code>junit</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@RunWith(SpringJUnit4ClassRunner.class)</span></span><br><span class=\"line\"><span class=\"meta\">@ContextConfiguration(classes = SpringConfig.class)</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">UserServiceTest</span> &#123;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"meta\">@Autowired</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> BookService bookService;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"meta\">@Test</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">testSave</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        bookService.save();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>使用 <code>@RunWith</code> 注解指定运行器，使用 <code>@ContextConfiguration</code> 注解来指定配置类或者配置文件。而 <code>SpringBoot</code> 整合 <code>junit</code> 特别简单，分为以下三步完成</p>\n<ul>\n<li>在测试类上添加 <code>SpringBootTest</code> 注解</li>\n<li>使用 <code>@Autowired</code> 注入要测试的资源</li>\n<li>定义测试方法进行测试</li>\n</ul>\n<h3 id=\"3-1-环境准备\"><a href=\"#3-1-环境准备\" class=\"headerlink\" title=\"3.1  环境准备\"></a>3.1  环境准备</h3><p>创建一个名为 <code>springboot_07_test</code> 的 <code>SpringBoot</code> 工程，工程目录结构如下</p>\n<img src=\"/image/image-20210917213556673.png\" alt=\"image-20210917213556673\" style=\"zoom:80%;\" />\n\n<p>在 <code>com.itheima.service</code> 下创建 <code>BookService</code> 接口，内容如下</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title class_\">BookService</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">save</span><span class=\"params\">()</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>在 <code>com.itheima.service.impl</code> 包写创建一个 <code>BookServiceImpl</code> 类，使其实现 <code>BookService</code> 接口，内容如下</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Service</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">BookServiceImpl</span> <span class=\"keyword\">implements</span> <span class=\"title class_\">BookService</span> &#123;</span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">save</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;book service is running ...&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"3-2-编写测试类\"><a href=\"#3-2-编写测试类\" class=\"headerlink\" title=\"3.2  编写测试类\"></a>3.2  编写测试类</h3><p>在 <code>test/java</code> 下创建 <code>com.itheima</code> 包，在该包下创建测试类，将 <code>BookService</code> 注入到该测试类中</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@SpringBootTest</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Springboot07TestApplicationTests</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Autowired</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> BookService bookService;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Test</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">save</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        bookService.save();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>==注意：==这里的引导类所在包必须是测试类所在包及其子包。</p>\n<p>例如：</p>\n<ul>\n<li>引导类所在包是 <code>com.itheima</code></li>\n<li>测试类所在包是 <code>com.itheima</code></li>\n</ul>\n<p>如果不满足这个要求的话，就需要在使用 <code>@SpringBootTest</code> 注解时，使用 <code>classes</code> 属性指定引导类的字节码对象。如 <code>@SpringBootTest(classes = Springboot07TestApplication.class)</code></p>\n</blockquote>\n<h2 id=\"4，SpringBoot整合mybatis\"><a href=\"#4，SpringBoot整合mybatis\" class=\"headerlink\" title=\"4，SpringBoot整合mybatis\"></a>4，SpringBoot整合mybatis</h2><h3 id=\"4-1-回顾Spring整合Mybatis\"><a href=\"#4-1-回顾Spring整合Mybatis\" class=\"headerlink\" title=\"4.1  回顾Spring整合Mybatis\"></a>4.1  回顾Spring整合Mybatis</h3><p><code>Spring</code> 整合 <code>Mybatis</code> 需要定义很多配置类</p>\n<ul>\n<li><p><code>SpringConfig</code> 配置类</p>\n<ul>\n<li><p>导入 <code>JdbcConfig</code> 配置类</p>\n</li>\n<li><p>导入 <code>MybatisConfig</code> 配置类</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Configuration</span></span><br><span class=\"line\"><span class=\"meta\">@ComponentScan(&quot;com.itheima&quot;)</span></span><br><span class=\"line\"><span class=\"meta\">@PropertySource(&quot;classpath:jdbc.properties&quot;)</span></span><br><span class=\"line\"><span class=\"meta\">@Import(&#123;JdbcConfig.class,MyBatisConfig.class&#125;)</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">SpringConfig</span> &#123;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></li>\n</ul>\n</li>\n<li><p><code>JdbcConfig</code> 配置类</p>\n<ul>\n<li><p>定义数据源（加载properties配置项：driver、url、username、password）</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">JdbcConfig</span> &#123;</span><br><span class=\"line\">    <span class=\"meta\">@Value(&quot;$&#123;jdbc.driver&#125;&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> String driver;</span><br><span class=\"line\">    <span class=\"meta\">@Value(&quot;$&#123;jdbc.url&#125;&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> String url;</span><br><span class=\"line\">    <span class=\"meta\">@Value(&quot;$&#123;jdbc.username&#125;&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> String userName;</span><br><span class=\"line\">    <span class=\"meta\">@Value(&quot;$&#123;jdbc.password&#125;&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> String password;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Bean</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> DataSource <span class=\"title function_\">getDataSource</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        <span class=\"type\">DruidDataSource</span> <span class=\"variable\">ds</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">DruidDataSource</span>();</span><br><span class=\"line\">        ds.setDriverClassName(driver);</span><br><span class=\"line\">        ds.setUrl(url);</span><br><span class=\"line\">        ds.setUsername(userName);</span><br><span class=\"line\">        ds.setPassword(password);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ds;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n</ul>\n</li>\n<li><p><code>MybatisConfig</code> 配置类</p>\n<ul>\n<li><p>定义 <code>SqlSessionFactoryBean</code></p>\n</li>\n<li><p>定义映射配置</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Bean</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> MapperScannerConfigurer <span class=\"title function_\">getMapperScannerConfigurer</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">    <span class=\"type\">MapperScannerConfigurer</span> <span class=\"variable\">msc</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">MapperScannerConfigurer</span>();</span><br><span class=\"line\">    msc.setBasePackage(<span class=\"string\">&quot;com.itheima.dao&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> msc;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Bean</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> SqlSessionFactoryBean <span class=\"title function_\">getSqlSessionFactoryBean</span><span class=\"params\">(DataSource dataSource)</span>&#123;</span><br><span class=\"line\">    <span class=\"type\">SqlSessionFactoryBean</span> <span class=\"variable\">ssfb</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">SqlSessionFactoryBean</span>();</span><br><span class=\"line\">    ssfb.setTypeAliasesPackage(<span class=\"string\">&quot;com.itheima.domain&quot;</span>);</span><br><span class=\"line\">    ssfb.setDataSource(dataSource);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ssfb;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></li>\n</ul>\n</li>\n</ul>\n<h3 id=\"4-2-SpringBoot整合mybatis\"><a href=\"#4-2-SpringBoot整合mybatis\" class=\"headerlink\" title=\"4.2  SpringBoot整合mybatis\"></a>4.2  SpringBoot整合mybatis</h3><h4 id=\"4-2-1-创建模块\"><a href=\"#4-2-1-创建模块\" class=\"headerlink\" title=\"4.2.1  创建模块\"></a>4.2.1  创建模块</h4><ul>\n<li>创建新模块，选择 <code>Spring Initializr</code>，并配置模块相关基础信息</li>\n</ul>\n<img src=\"/image/image-20210917215913779.png\" alt=\"image-20210917215913779\" style=\"zoom:80%;\" />\n\n<ul>\n<li><p>选择当前模块需要使用的技术集（MyBatis、MySQL）</p>\n<img src=\"/image/image-20210917215958091.png\" alt=\"image-20210917215958091\" style=\"zoom:80%;\" /></li>\n</ul>\n<h4 id=\"4-2-2-定义实体类\"><a href=\"#4-2-2-定义实体类\" class=\"headerlink\" title=\"4.2.2  定义实体类\"></a>4.2.2  定义实体类</h4><p>在 <code>com.itheima.domain</code> 包下定义实体类 <code>Book</code>，内容如下</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Book</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Integer id;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String name;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String type;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String description;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">//setter and  getter</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">//toString</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"4-2-3-定义dao接口\"><a href=\"#4-2-3-定义dao接口\" class=\"headerlink\" title=\"4.2.3  定义dao接口\"></a>4.2.3  定义dao接口</h4><p>在 <code>com.itheima.dao</code> 包下定义 <code>BookDao</code> 接口，内容如下</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title class_\">BookDao</span> &#123;</span><br><span class=\"line\">    <span class=\"meta\">@Select(&quot;select * from tbl_book where id = #&#123;id&#125;&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> Book <span class=\"title function_\">getById</span><span class=\"params\">(Integer id)</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"4-2-4-定义测试类\"><a href=\"#4-2-4-定义测试类\" class=\"headerlink\" title=\"4.2.4  定义测试类\"></a>4.2.4  定义测试类</h4><p>在 <code>test/java</code> 下定义包 <code>com.itheima</code> ，在该包下测试类，内容如下</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@SpringBootTest</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Springboot08MybatisApplicationTests</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"meta\">@Autowired</span></span><br><span class=\"line\">\t<span class=\"keyword\">private</span> BookDao bookDao;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"meta\">@Test</span></span><br><span class=\"line\">\t<span class=\"keyword\">void</span> <span class=\"title function_\">testGetById</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">Book</span> <span class=\"variable\">book</span> <span class=\"operator\">=</span> bookDao.getById(<span class=\"number\">1</span>);</span><br><span class=\"line\">\t\tSystem.out.println(book);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"4-2-5-编写配置\"><a href=\"#4-2-5-编写配置\" class=\"headerlink\" title=\"4.2.5  编写配置\"></a>4.2.5  编写配置</h4><p>我们代码中并没有指定连接哪儿个数据库，用户名是什么，密码是什么。所以这部分需要在 <code>SpringBoot</code> 的配置文件中进行配合。</p>\n<p>在 <code>application.yml</code> 配置文件中配置如下内容</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">spring:</span></span><br><span class=\"line\">  <span class=\"attr\">datasource:</span></span><br><span class=\"line\">    <span class=\"attr\">driver-class-name:</span> <span class=\"string\">com.mysql.jdbc.Driver</span></span><br><span class=\"line\">    <span class=\"attr\">url:</span> <span class=\"string\">jdbc:mysql://localhost:3306/ssm_db</span></span><br><span class=\"line\">    <span class=\"attr\">username:</span> <span class=\"string\">root</span></span><br><span class=\"line\">    <span class=\"attr\">password:</span> <span class=\"string\">root</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"4-2-6-测试\"><a href=\"#4-2-6-测试\" class=\"headerlink\" title=\"4.2.6  测试\"></a>4.2.6  测试</h4><p>运行测试方法，我们会看到如下错误信息</p>\n<img src=\"/image/image-20210917221427930.png\" alt=\"image-20210917221427930\" style=\"zoom:70%;\" />\n\n<p>错误信息显示在 <code>Spring</code> 容器中没有 <code>BookDao</code> 类型的 <code>bean</code>。为什么会出现这种情况呢？</p>\n<p>原因是 <code>Mybatis</code> 会扫描接口并创建接口的代码对象交给 <code>Spring</code> 管理，但是现在并没有告诉 <code>Mybatis</code> 哪个是 <code>dao</code> 接口。而我们要解决这个问题需要在<code>BookDao</code> 接口上使用 <code>@Mapper</code> ，<code>BookDao</code> 接口改进为</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Mapper</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title class_\">BookDao</span> &#123;</span><br><span class=\"line\">    <span class=\"meta\">@Select(&quot;select * from tbl_book where id = #&#123;id&#125;&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> Book <span class=\"title function_\">getById</span><span class=\"params\">(Integer id)</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>==注意：==</p>\n<p><code>SpringBoot</code> 版本低于2.4.3(不含)，Mysql驱动版本大于8.0时，需要在url连接串中配置时区 <code>jdbc:mysql://localhost:3306/ssm_db?serverTimezone=UTC</code>，或在MySQL数据库端配置时区解决此问题</p>\n</blockquote>\n<h4 id=\"4-2-7-使用Druid数据源\"><a href=\"#4-2-7-使用Druid数据源\" class=\"headerlink\" title=\"4.2.7  使用Druid数据源\"></a>4.2.7  使用Druid数据源</h4><p>现在我们并没有指定数据源，<code>SpringBoot</code> 有默认的数据源，我们也可以指定使用 <code>Druid</code> 数据源，按照以下步骤实现</p>\n<ul>\n<li><p>导入 <code>Druid</code> 依赖</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>com.alibaba<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>druid<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>1.1.16<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li>\n<li><p>在 <code>application.yml</code> 配置文件配置</p>\n<p>可以通过 <code>spring.datasource.type</code> 来配置使用什么数据源。配置文件内容可以改进为</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">spring:</span></span><br><span class=\"line\">  <span class=\"attr\">datasource:</span></span><br><span class=\"line\">    <span class=\"attr\">driver-class-name:</span> <span class=\"string\">com.mysql.cj.jdbc.Driver</span></span><br><span class=\"line\">    <span class=\"attr\">url:</span> <span class=\"string\">jdbc:mysql://localhost:3306/ssm_db?serverTimezone=UTC</span></span><br><span class=\"line\">    <span class=\"attr\">username:</span> <span class=\"string\">root</span></span><br><span class=\"line\">    <span class=\"attr\">password:</span> <span class=\"string\">root</span></span><br><span class=\"line\">    <span class=\"attr\">type:</span> <span class=\"string\">com.alibaba.druid.pool.DruidDataSource</span></span><br></pre></td></tr></table></figure></li>\n</ul>\n<h2 id=\"5，案例\"><a href=\"#5，案例\" class=\"headerlink\" title=\"5，案例\"></a>5，案例</h2><p><code>SpringBoot</code> 到这就已经学习完毕，接下来我们将学习 <code>SSM</code> 时做的三大框架整合的案例用 <code>SpringBoot</code> 来实现一下。我们完成这个案例基本是将之前做的拷贝过来，修改成 <code>SpringBoot</code> 的即可，主要从以下几部分完成</p>\n<ol>\n<li><p>pom.xml</p>\n<p>配置起步依赖，必要的资源坐标(druid)</p>\n</li>\n<li><p>application.yml</p>\n<p>设置数据源、端口等</p>\n</li>\n<li><p>配置类</p>\n<p>全部删除</p>\n</li>\n<li><p>dao</p>\n<p>设置@Mapper</p>\n</li>\n<li><p>测试类</p>\n</li>\n<li><p>页面</p>\n<p>放置在resources目录下的static目录中</p>\n</li>\n</ol>\n<h3 id=\"5-1-创建工程\"><a href=\"#5-1-创建工程\" class=\"headerlink\" title=\"5.1  创建工程\"></a>5.1  创建工程</h3><p>创建 <code>SpringBoot</code> 工程，在创建工程时需要勾选 <code>web</code>、<code>mysql</code>、<code>mybatis</code>，工程目录结构如下</p>\n<img src=\"/image/image-20210917225019868.png\" alt=\"image-20210917225019868\" style=\"zoom:80%;\" />\n\n<p>由于我们工程中使用到了 <code>Druid</code> ，所以需要导入 <code>Druid</code> 的坐标</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>com.alibaba<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>druid<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>1.1.16<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"5-2-代码拷贝\"><a href=\"#5-2-代码拷贝\" class=\"headerlink\" title=\"5.2  代码拷贝\"></a>5.2  代码拷贝</h3><p>将 <code>springmvc_11_page</code> 工程中的 <code>java</code> 代码及测试代码连同包拷贝到 <code>springboot_09_ssm</code> 工程，按照下图进行拷贝</p>\n<img src=\"/image/image-20210917225715519.png\" alt=\"image-20210917225715519\" style=\"zoom:70%;\" />\n\n<p>需要修改的内容如下：</p>\n<ul>\n<li><p><code>Springmvc_11_page</code> 中 <code>config</code> 包下的是配置类，而 <code>SpringBoot</code> 工程不需要这些配置类，所以这些可以直接删除</p>\n</li>\n<li><p><code>dao</code> 包下的接口上在拷贝到 <code>springboot_09-ssm</code> 工程中需要在接口中添加 <code>@Mapper</code> 注解</p>\n</li>\n<li><p><code>BookServiceTest</code> 测试需要改成 <code>SpringBoot</code> 整合 <code>junit</code> 的</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@SpringBootTest</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">BookServiceTest</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Autowired</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> BookService bookService;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Test</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">testGetById</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        <span class=\"type\">Book</span> <span class=\"variable\">book</span> <span class=\"operator\">=</span> bookService.getById(<span class=\"number\">2</span>);</span><br><span class=\"line\">        System.out.println(book);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Test</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">testGetAll</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        List&lt;Book&gt; all = bookService.getAll();</span><br><span class=\"line\">        System.out.println(all);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n</ul>\n<h3 id=\"5-3-配置文件\"><a href=\"#5-3-配置文件\" class=\"headerlink\" title=\"5.3  配置文件\"></a>5.3  配置文件</h3><p>在 <code>application.yml</code> 配置文件中需要配置如下内容</p>\n<ul>\n<li>服务的端口号</li>\n<li>连接数据库的信息</li>\n<li>数据源</li>\n</ul>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">server:</span></span><br><span class=\"line\">  <span class=\"attr\">port:</span> <span class=\"number\">80</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">spring:</span></span><br><span class=\"line\">  <span class=\"attr\">datasource:</span></span><br><span class=\"line\">    <span class=\"attr\">type:</span> <span class=\"string\">com.alibaba.druid.pool.DruidDataSource</span></span><br><span class=\"line\">    <span class=\"attr\">driver-class-name:</span> <span class=\"string\">com.mysql.cj.jdbc.Driver</span></span><br><span class=\"line\">    <span class=\"attr\">url:</span> <span class=\"string\">jdbc:mysql://localhost:3306/ssm_db</span> <span class=\"comment\">#?servierTimezone=UTC</span></span><br><span class=\"line\">    <span class=\"attr\">username:</span> <span class=\"string\">root</span></span><br><span class=\"line\">    <span class=\"attr\">password:</span> <span class=\"string\">root</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"5-4-静态资源\"><a href=\"#5-4-静态资源\" class=\"headerlink\" title=\"5.4  静态资源\"></a>5.4  静态资源</h3><p>在 <code>SpringBoot</code> 程序中是没有 <code>webapp</code> 目录的，那么在 <code>SpringBoot</code> 程序中静态资源需要放在什么位置呢？</p>\n<p>静态资源需要放在 <code>resources</code> 下的 <code>static</code> 下，如下图所示</p>\n<img src=\"/image/image-20210917230702072.png\" alt=\"image-20210917230702072\" style=\"zoom:80%;\" />\n\n\n\n","site":{"data":{}},"excerpt":"<p>学点后端吧，学习了黑马的SSM课程,耗时半个寒假，以前提前放假安得一息安寝</p>\n<p>用了Springboot再也不想碰Spring</p>","more":"<h2 id=\"SpringBoot\"><a href=\"#SpringBoot\" class=\"headerlink\" title=\"SpringBoot\"></a>SpringBoot</h2><p><strong>今日目标：</strong></p>\n<blockquote>\n<ul>\n<li>掌握基于SpringBoot框架的程序开发步骤</li>\n<li>熟练使用SpringBoot配置信息修改服务器配置</li>\n<li>基于SpringBoot的完成SSM整合项目开发</li>\n</ul>\n</blockquote>\n<h2 id=\"1，SpringBoot简介\"><a href=\"#1，SpringBoot简介\" class=\"headerlink\" title=\"1，SpringBoot简介\"></a>1，SpringBoot简介</h2><p><code>SpringBoot</code> 是由 <code>Pivotal</code> 团队提供的全新框架，其设计目的是用来==简化== <code>Spring</code> 应用的==初始搭建==以及==开发过程==。</p>\n<p>使用了 <code>Spring</code> 框架后已经简化了我们的开发。而 <code>SpringBoot</code> 又是对 <code>Spring</code> 开发进行简化的，可想而知 <code>SpringBoot</code> 使用的简单及广泛性。既然 <code>SpringBoot</code> 是用来简化 <code>Spring</code> 开发的，那我们就先回顾一下，以 <code>SpringMVC</code> 开发为例：</p>\n<ol>\n<li><strong>创建工程，并在 <code>pom.xml</code> 配置文件中配置所依赖的坐标</strong></li>\n</ol>\n<img src=\"/image/image-20210911132335452.png\" alt=\"image-20210911133112602\" style=\"zoom:50%;\" />\n\n<ol start=\"2\">\n<li><p><strong>编写 <code>web3.0</code> 的配置类</strong></p>\n<p>作为 <code>web</code> 程序，<code>web3.0</code> 的配置类不能缺少，而这个配置类还是比较麻烦的，代码如下</p>\n</li>\n</ol>\n<img src=\"/image/image-20210911133112602.png\" alt=\"image-20210911133112602\" style=\"zoom:50%;\" />\n\n<ol start=\"3\">\n<li><strong>编写 <code>SpringMVC</code> 的配置类</strong></li>\n</ol>\n<img src=\"/image/image-20210911133219847.png\" alt=\"image-20210911133219847\" style=\"zoom:50%;\" />\n\n<p>​    做到这只是将工程的架子搭起来。要想被外界访问，最起码还需要提供一个 <code>Controller</code> 类，在该类中提供一个方法。</p>\n<ol start=\"4\">\n<li><strong>编写 <code>Controller</code> 类</strong></li>\n</ol>\n<img src=\"/image/image-20210911133532151.png\" alt=\"image-20210911133532151\" style=\"zoom:50%;\" />\n\n<p>从上面的 <code>SpringMVC</code> 程序开发可以看到，前三步都是在搭建环境，而且这三步基本都是固定的。<code>SpringBoot</code> 就是对这三步进行简化了。接下来我们通过一个入门案例来体现 <code>SpingBoot</code> 简化 <code>Spring</code> 开发。</p>\n<h3 id=\"1-1-SpringBoot快速入门\"><a href=\"#1-1-SpringBoot快速入门\" class=\"headerlink\" title=\"1.1  SpringBoot快速入门\"></a>1.1  SpringBoot快速入门</h3><h4 id=\"1-1-1-开发步骤\"><a href=\"#1-1-1-开发步骤\" class=\"headerlink\" title=\"1.1.1  开发步骤\"></a>1.1.1  开发步骤</h4><p><code>SpringBoot</code> 开发起来特别简单，分为如下几步：</p>\n<ul>\n<li>创建新模块，选择Spring初始化，并配置模块相关基础信息</li>\n<li>选择当前模块需要使用的技术集</li>\n<li>开发控制器类</li>\n<li>运行自动生成的Application类</li>\n</ul>\n<p>知道了 <code>SpringBoot</code> 的开发步骤后，接下来我们进行具体的操作</p>\n<h5 id=\"1-1-1-1-创建新模块\"><a href=\"#1-1-1-1-创建新模块\" class=\"headerlink\" title=\"1.1.1.1  创建新模块\"></a>1.1.1.1  创建新模块</h5><ul>\n<li>点击 <code>+</code> 选择 <code>New Module</code> 创建新模块</li>\n</ul>\n<img src=\"/image/image-20210911155135008.png\" alt=\"image-20210911155135008\" style=\"zoom:60%;\" />\n\n<ul>\n<li><p>选择 <code>Spring Initializr</code> ，用来创建 <code>SpringBoot</code> 工程</p>\n<p>以前我们选择的是 <code>Maven</code> ，今天选择 <code>Spring Initializr</code> 来快速构建 <code>SpringBoot</code> 工程。而在 <code>Module SDK</code> 这一项选择我们安装的 <code>JDK</code> 版本。</p>\n</li>\n</ul>\n<img src=\"/image/image-20210911155249493.png\" alt=\"image-20210911155249493\" style=\"zoom:60%;\" />\n\n<ul>\n<li><p>对 <code>SpringBoot</code> 工程进行相关的设置</p>\n<p>我们使用这种方式构建的 <code>SpringBoot</code> 工程其实也是 <code>Maven</code> 工程，而该方式只是一种快速构建的方式而已。</p>\n<img src=\"/image/image-20210911155916899.png\" alt=\"image-20210911155916899\" style=\"zoom:67%;\" />\n\n<blockquote>\n<p>==注意：打包方式这里需要设置为 <code>Jar</code>==</p>\n</blockquote>\n</li>\n<li><p>选中 <code>Web</code>，然后勾选 <code>Spring Web</code></p>\n<p>由于我们需要开发一个 <code>web</code> 程序，使用到了 <code>SpringMVC</code> 技术，所以按照下图红框进行勾选</p>\n</li>\n</ul>\n<img src=\"/../../../../../../assets/image-20210911160040328.png\" alt=\"image-20210911160040328\" style=\"zoom:60%;\" />\n\n<ul>\n<li>下图界面不需要任何修改，直接点击 <code>Finish</code> 完成 <code>SpringBoot</code> 工程的构建</li>\n</ul>\n<img src=\"/image/image-20210911160353534.png\" alt=\"image-20210911160353534\" style=\"zoom:70%;\" />\n\n<p>经过以上步骤后就创建了如下结构的模块，它会帮我们自动生成一个 <code>Application</code> 类，而该类一会再启动服务器时会用到</p>\n<img src=\"/image/image-20210911160541833.png\" alt=\"image-20210911160541833\" style=\"zoom:80%;\" />\n\n<blockquote>\n<p>==注意：==</p>\n<ol>\n<li><p>在创建好的工程中不需要创建配置类</p>\n</li>\n<li><p>创建好的项目会自动生成其他的一些文件，而这些文件目前对我们来说没有任何作用，所以可以将这些文件删除。</p>\n<p>可以删除的目录和文件如下：</p>\n<ul>\n<li><code>.mvn</code>    </li>\n<li><code>.gitignore</code></li>\n<li><code>HELP.md</code></li>\n<li><code>mvnw</code></li>\n<li><code>mvnw.cmd</code></li>\n</ul>\n</li>\n</ol>\n</blockquote>\n<h5 id=\"1-1-1-2-创建-Controller\"><a href=\"#1-1-1-2-创建-Controller\" class=\"headerlink\" title=\"1.1.1.2  创建 Controller\"></a>1.1.1.2  创建 <code>Controller</code></h5><p>在  <code>com.itheima.controller</code> 包下创建 <code>BookController</code> ，代码如下：</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@RestController</span></span><br><span class=\"line\"><span class=\"meta\">@RequestMapping(&quot;/books&quot;)</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">BookController</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@GetMapping(&quot;/&#123;id&#125;&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> String <span class=\"title function_\">getById</span><span class=\"params\">(<span class=\"meta\">@PathVariable</span> Integer id)</span>&#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;id ==&gt; &quot;</span>+id);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&quot;hello , spring boot!&quot;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"1-1-1-3-启动服务器\"><a href=\"#1-1-1-3-启动服务器\" class=\"headerlink\" title=\"1.1.1.3  启动服务器\"></a>1.1.1.3  启动服务器</h5><p>运行 <code>SpringBoot</code> 工程不需要使用本地的 <code>Tomcat</code> 和 插件，只运行项目 <code>com.itheima</code> 包下的 <code>Application</code> 类，我们就可以在控制台看出如下信息</p>\n<p><img src=\"../image/image-20210911165642280.png\" alt=\"image-20210911165642280\"></p>\n<h5 id=\"1-1-1-4-进行测试\"><a href=\"#1-1-1-4-进行测试\" class=\"headerlink\" title=\"1.1.1.4  进行测试\"></a>1.1.1.4  进行测试</h5><p>使用 <code>Postman</code> 工具来测试我们的程序</p>\n<p><img src=\"../image/image-20210911160850121.png\" alt=\"image-20210911160850121\"></p>\n<p>通过上面的入门案例我们可以看到使用 <code>SpringBoot</code> 进行开发，使整个开发变得很简单，那它是如何做到的呢？</p>\n<p>要研究这个问题，我们需要看看 <code>Application</code> 类和 <code>pom.xml</code> 都书写了什么。先看看 <code>Applicaion</code> 类，该类内容如下：</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@SpringBootApplication</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Application</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">        SpringApplication.run(Application.class, args);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>这个类中的东西很简单，就在类上添加了一个 <code>@SpringBootApplication</code> 注解，而在主方法中就一行代码。我们在启动服务器时就是执行的该类中的主方法。</p>\n<p>再看看 <code>pom.xml</code> 配置文件中的内容</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?xml version=<span class=\"string\">&quot;1.0&quot;</span> encoding=<span class=\"string\">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">project</span> <span class=\"attr\">xmlns</span>=<span class=\"string\">&quot;http://maven.apache.org/POM/4.0.0&quot;</span> <span class=\"attr\">xmlns:xsi</span>=<span class=\"string\">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">         <span class=\"attr\">xsi:schemaLocation</span>=<span class=\"string\">&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">modelVersion</span>&gt;</span>4.0.0<span class=\"tag\">&lt;/<span class=\"name\">modelVersion</span>&gt;</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">&lt;!--指定了一个父工程，父工程中的东西在该工程中可以继承过来使用--&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">parent</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-boot-starter-parent<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>2.5.0<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">parent</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>com.itheima<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>springboot_01_quickstart<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>0.0.1-SNAPSHOT<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">&lt;!--JDK 的版本--&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">properties</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">java.version</span>&gt;</span>8<span class=\"tag\">&lt;/<span class=\"name\">java.version</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">properties</span>&gt;</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">dependencies</span>&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!--该依赖就是我们在创建 SpringBoot 工程勾选的那个 Spring Web 产生的--&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-boot-starter-web<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"comment\">&lt;!--这个是单元测试的依赖，我们现在没有进行单元测试，所以这个依赖现在可以没有--&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-boot-starter-test<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">scope</span>&gt;</span>test<span class=\"tag\">&lt;/<span class=\"name\">scope</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">dependencies</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">build</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">plugins</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!--这个插件是在打包时需要的，而这里暂时还没有用到--&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">plugin</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">plugin</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">plugins</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">build</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">project</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>我们代码之所以能简化，就是因为指定的父工程和 <code>Spring Web</code> 依赖实现的。具体的我们后面在聊。</p>\n<h4 id=\"1-1-2-对比\"><a href=\"#1-1-2-对比\" class=\"headerlink\" title=\"1.1.2  对比\"></a>1.1.2  对比</h4><p>做完 <code>SpringBoot</code> 的入门案例后，接下来对比一下 <code>Spring</code> 程序和 <code>SpringBoot</code> 程序。如下图</p>\n<img src=\"/image/image-20210911172200292.png\" alt=\"image-20210911172200292\" style=\"zoom:60%;\" />\n\n<ul>\n<li><p><strong>坐标</strong></p>\n<p><code>Spring</code> 程序中的坐标需要自己编写，而且坐标非常多</p>\n<p><code>SpringBoot</code> 程序中的坐标是我们在创建工程时进行勾选自动生成的</p>\n</li>\n<li><p><strong>web3.0配置类</strong></p>\n<p><code>Spring</code> 程序需要自己编写这个配置类。这个配置类大家之前编写过，肯定感觉很复杂</p>\n<p><code>SpringBoot</code> 程序不需要我们自己书写</p>\n</li>\n<li><p><strong>配置类</strong></p>\n<p><code>Spring/SpringMVC</code> 程序的配置类需要自己书写。而 <code>SpringBoot</code>  程序则不需要书写。</p>\n</li>\n</ul>\n<blockquote>\n<p>==注意：基于Idea的 <code>Spring Initializr</code> 快速构建 <code>SpringBoot</code> 工程时需要联网。== </p>\n</blockquote>\n<h4 id=\"1-1-3-官网构建工程\"><a href=\"#1-1-3-官网构建工程\" class=\"headerlink\" title=\"1.1.3  官网构建工程\"></a>1.1.3  官网构建工程</h4><p>在入门案例中之所以能快速构建 <code>SpringBoot</code> 工程，是因为 <code>Idea</code> 使用了官网提供了快速构建 <code>SpringBoot</code> 工程的组件实现的。那如何在官网进行工程构建呢？通过如下步骤构建</p>\n<h5 id=\"1-1-3-1-进入SpringBoot官网\"><a href=\"#1-1-3-1-进入SpringBoot官网\" class=\"headerlink\" title=\"1.1.3.1  进入SpringBoot官网\"></a>1.1.3.1  进入SpringBoot官网</h5><p>官网地址如下：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">https://spring.io/projects/spring-boot</span><br></pre></td></tr></table></figure>\n\n<p>进入到 <code>SpringBoot</code> 官网后拖到最下方就可以看到如下内容</p>\n<img src=\"/image/image-20210911173712014.png\" alt=\"image-20210911173712014\" style=\"zoom:60%;\" />\n\n<p>然后点击 <code>Spring Initializr</code> 超链接就会跳转到如下页面</p>\n<p><img src=\"../image/image-20210911174110687.png\" alt=\"image-20210911174110687\"></p>\n<p>这个页面内容是不是感觉很眼熟的，这和我们使用 <code>Idea</code> 快速构建 <code>SpringBoot</code> 工程的界面基本相同。在上面页面输入对应的信息</p>\n<h5 id=\"1-1-3-2-选择依赖\"><a href=\"#1-1-3-2-选择依赖\" class=\"headerlink\" title=\"1.1.3.2  选择依赖\"></a>1.1.3.2  选择依赖</h5><p>选择 <code>Spring Web</code> 可以点击上图右上角的 <code>ADD DEPENDENCIES... CTRL + B</code> 按钮，就会出现如下界面</p>\n<p><img src=\"../image/image-20210911174650679.png\" alt=\"image-20210911174650679\"></p>\n<h5 id=\"1-1-3-3-生成工程\"><a href=\"#1-1-3-3-生成工程\" class=\"headerlink\" title=\"1.1.3.3  生成工程\"></a>1.1.3.3  生成工程</h5><p>以上步骤完成后就可以生成 <code>SpringBoot</code> 工程了。在页面的最下方点击 <code>GENERATE CTRL + 回车</code> 按钮生成工程并下载到本地，如下图所示</p>\n<p><img src=\"../image/image-20210911175222857.png\" alt=\"image-20210911175222857\"></p>\n<p>打开下载好的压缩包可以看到工程结构和使用 <code>Idea</code> 生成的一模一样，如下图</p>\n<img src=\"/image/image-20210911175502834.png\" alt=\"image-20210911175502834\" style=\"zoom:80%;\" />\n\n<p>而打开 <code>pom.xml</code> 文件，里面也包含了父工程和 <code>Spring Web</code> 的依赖。</p>\n<p>通过上面官网的操作，我们知道 <code>Idea</code> 中快速构建 <code>SpringBoot</code> 工程其实就是使用的官网的快速构建组件，那以后即使没有 <code>Idea</code> 也可以使用官网的方式构建 <code>SpringBoot</code> 工程。</p>\n<h4 id=\"1-1-4-SpringBoot工程快速启动\"><a href=\"#1-1-4-SpringBoot工程快速启动\" class=\"headerlink\" title=\"1.1.4  SpringBoot工程快速启动\"></a>1.1.4  SpringBoot工程快速启动</h4><h5 id=\"1-1-4-1-问题导入\"><a href=\"#1-1-4-1-问题导入\" class=\"headerlink\" title=\"1.1.4.1  问题导入\"></a>1.1.4.1  问题导入</h5><img src=\"/image/image-20210911180828611.png\" alt=\"image-20210911180828611\" style=\"zoom:50%;\" />\n\n<p>以后我们和前端开发人员协同开发，而前端开发人员需要测试前端程序就需要后端开启服务器，这就受制于后端开发人员。为了摆脱这个受制，前端开发人员尝试着在自己电脑上安装 <code>Tomcat</code> 和 <code>Idea</code> ，在自己电脑上启动后端程序，这显然不现实。</p>\n<p>我们后端可以将 <code>SpringBoot</code> 工程打成 <code>jar</code> 包，该 <code>jar</code> 包运行不依赖于 <code>Tomcat</code> 和 <code>Idea</code> 这些工具也可以正常运行，只是这个 <code>jar</code> 包在运行过程中连接和我们自己程序相同的 <code>Mysql</code> 数据库即可。这样就可以解决这个问题，如下图</p>\n<img src=\"/image/image-20210911181714437.png\" alt=\"image-20210911181714437\" style=\"zoom:50%;\" />\n\n<p>那现在问题是如何打包呢？</p>\n<h5 id=\"1-1-4-2-打包\"><a href=\"#1-1-4-2-打包\" class=\"headerlink\" title=\"1.1.4.2  打包\"></a>1.1.4.2  打包</h5><p>由于我们在构建 <code>SpringBoot</code> 工程时已经在 <code>pom.xml</code> 中配置了如下插件</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">plugin</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">plugin</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>所以我们只需要使用 <code>Maven</code> 的 <code>package</code> 指令打包就会在 <code>target</code> 目录下生成对应的 <code>Jar</code> 包。</p>\n<blockquote>\n<p>==注意：该插件必须配置，不然打好的 <code>jar</code> 包也是有问题的。==</p>\n</blockquote>\n<h5 id=\"1-1-4-3-启动\"><a href=\"#1-1-4-3-启动\" class=\"headerlink\" title=\"1.1.4.3  启动\"></a>1.1.4.3  启动</h5><p>进入 <code>jar</code> 包所在位置，在 <code>命令提示符</code> 中输入如下命令</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">jar -jar springboot_01_quickstart-0.0.1-SNAPSHOT.jar</span><br></pre></td></tr></table></figure>\n\n<p>执行上述命令就可以看到 <code>SpringBoot</code> 运行的日志信息</p>\n<img src=\"/image/image-20210911182956629.png\" alt=\"image-20210911182956629\" style=\"zoom:60%;\" />\n\n<h3 id=\"1-2-SpringBoot概述\"><a href=\"#1-2-SpringBoot概述\" class=\"headerlink\" title=\"1.2  SpringBoot概述\"></a>1.2  SpringBoot概述</h3><p><code>SpringBoot</code> 是由Pivotal团队提供的全新框架，其设计目的是用来==简化==Spring应用的==初始搭建==以及==开发过程==。</p>\n<p>大家已经感受了 <code>SpringBoot</code> 程序，回过头看看 <code>SpringBoot</code> 主要作用是什么，就是简化 <code>Spring</code> 的搭建过程和开发过程。</p>\n<p>原始 <code>Spring</code> 环境搭建和开发存在以下问题：</p>\n<ul>\n<li>配置繁琐</li>\n<li>依赖设置繁琐</li>\n</ul>\n<p><code>SpringBoot</code> 程序优点恰巧就是针对 <code>Spring</code> 的缺点</p>\n<ul>\n<li>自动配置。这个是用来解决 <code>Spring</code> 程序配置繁琐的问题</li>\n<li>起步依赖。这个是用来解决 <code>Spring</code> 程序依赖设置繁琐的问题</li>\n<li>辅助功能（内置服务器,…）。我们在启动 <code>SpringBoot</code> 程序时既没有使用本地的 <code>tomcat</code> 也没有使用 <code>tomcat</code> 插件，而是使用 <code>SpringBoot</code> 内置的服务器。</li>\n</ul>\n<p>接下来我们来说一下 <code>SpringBoot</code> 的起步依赖</p>\n<h4 id=\"1-2-1-起步依赖\"><a href=\"#1-2-1-起步依赖\" class=\"headerlink\" title=\"1.2.1  起步依赖\"></a>1.2.1  起步依赖</h4><p>我们使用 <code>Spring Initializr</code>  方式创建的 <code>Maven</code> 工程的的 <code>pom.xml</code> 配置文件中自动生成了很多包含 <code>starter</code> 的依赖，如下图</p>\n<img src=\"/image/image-20210918220338109.png\" alt=\"image-20210918220338109\" style=\"zoom:70%;\" />\n\n<p>这些依赖就是==启动依赖==，接下来我们探究一下他是如何实现的。</p>\n<h5 id=\"1-2-1-1-探索父工程\"><a href=\"#1-2-1-1-探索父工程\" class=\"headerlink\" title=\"1.2.1.1  探索父工程\"></a>1.2.1.1  探索父工程</h5><p>从上面的文件中可以看到指定了一个父工程，我们进入到父工程，发现父工程中又指定了一个父工程，如下图所示</p>\n<img src=\"/image/image-20210918220855024.png\" alt=\"image-20210918220855024\" style=\"zoom:80%;\" />\n\n<p>再进入到该父工程中，在该工程中我们可以看到配置内容结构如下图所示</p>\n<img src=\"/image/image-20210918221042947.png\" alt=\"image-20210918221042947\" style=\"zoom:80%;\" />\n\n<p>上图中的 <code>properties</code> 标签中定义了各个技术软件依赖的版本，避免了我们在使用不同软件技术时考虑版本的兼容问题。在 <code>properties</code> 中我们找 <code>servlet</code>  和 <code>mysql</code> 的版本如下图</p>\n<img src=\"/image/image-20210918221511249.png\" alt=\"image-20210918221511249\" style=\"zoom:80%;\" />\n\n<p><code>dependencyManagement</code> 标签是进行依赖版本锁定，但是并没有导入对应的依赖；如果我们工程需要那个依赖只需要引入依赖的 <code>groupid</code> 和 <code>artifactId</code> 不需要定义 <code>version</code>。</p>\n<p>而 <code>build</code> 标签中也对插件的版本进行了锁定，如下图</p>\n<img src=\"/image/image-20210918221942453.png\" alt=\"image-20210918221942453\" style=\"zoom:80%;\" />\n\n<p>看完了父工程中 <code>pom.xml</code> 的配置后不难理解我们工程的的依赖为什么都没有配置 <code>version</code>。</p>\n<h5 id=\"1-2-1-2-探索依赖\"><a href=\"#1-2-1-2-探索依赖\" class=\"headerlink\" title=\"1.2.1.2  探索依赖\"></a>1.2.1.2  探索依赖</h5><p>在我们创建的工程中的 <code>pom.xml</code> 中配置了如下依赖</p>\n<img src=\"/image/image-20210918222321402.png\" alt=\"image-20210918222321402\" style=\"zoom:80%;\" />\n\n<p>进入到该依赖，查看 <code>pom.xml</code> 的依赖会发现它引入了如下的依赖</p>\n<img src=\"/image/image-20210918222607469.png\" alt=\"image-20210918222607469\" style=\"zoom:80%;\" />\n\n<p>里面的引入了 <code>spring-web</code> 和 <code>spring-webmvc</code> 的依赖，这就是为什么我们的工程中没有依赖这两个包还能正常使用 <code>springMVC</code> 中的注解的原因。</p>\n<p>而依赖 <code>spring-boot-starter-tomcat</code> ，从名字基本能确认内部依赖了 <code>tomcat</code>，所以我们的工程才能正常启动。</p>\n<p>==结论：以后需要使用技术，只需要引入该技术对应的起步依赖即可==</p>\n<h5 id=\"1-2-1-3-小结\"><a href=\"#1-2-1-3-小结\" class=\"headerlink\" title=\"1.2.1.3  小结\"></a>1.2.1.3  小结</h5><p><strong>starter</strong></p>\n<ul>\n<li><code>SpringBoot</code> 中常见项目名称，定义了当前项目使用的所有项目坐标，以达到减少依赖配置的目的</li>\n</ul>\n<p><strong>parent</strong></p>\n<ul>\n<li><p>所有 <code>SpringBoot</code> 项目要继承的项目，定义了若干个坐标版本号（依赖管理，而非依赖），以达到减少依赖冲突的目的</p>\n</li>\n<li><p><code>spring-boot-starter-parent</code>（2.5.0）与 <code>spring-boot-starter-parent</code>（2.4.6）共计57处坐标版本不同</p>\n</li>\n</ul>\n<p><strong>实际开发</strong></p>\n<ul>\n<li><p>使用任意坐标时，仅书写GAV中的G和A，V由SpringBoot提供</p>\n<blockquote>\n<p>G：groupid</p>\n<p>A：artifactId</p>\n<p>V：version</p>\n</blockquote>\n</li>\n<li><p>如发生坐标错误，再指定version（要小心版本冲突）</p>\n</li>\n</ul>\n<h4 id=\"1-2-2-程序启动\"><a href=\"#1-2-2-程序启动\" class=\"headerlink\" title=\"1.2.2  程序启动\"></a>1.2.2  程序启动</h4><p>创建的每一个 <code>SpringBoot</code> 程序时都包含一个类似于下面的类，我们将这个类称作引导类</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@SpringBootApplication</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Springboot01QuickstartApplication</span> &#123;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">        SpringApplication.run(Springboot01QuickstartApplication.class, args);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>==注意：==</p>\n<ul>\n<li><p><code>SpringBoot</code> 在创建项目时，采用jar的打包方式</p>\n</li>\n<li><p><code>SpringBoot</code> 的引导类是项目的入口，运行 <code>main</code> 方法就可以启动项目</p>\n<p>因为我们在 <code>pom.xml</code> 中配置了 <code>spring-boot-starter-web</code> 依赖，而该依赖通过前面的学习知道它依赖 <code>tomcat</code> ，所以运行 <code>main</code> 方法就可以使用 <code>tomcat</code> 启动咱们的工程。</p>\n</li>\n</ul>\n<h4 id=\"1-2-3-切换web服务器\"><a href=\"#1-2-3-切换web服务器\" class=\"headerlink\" title=\"1.2.3  切换web服务器\"></a>1.2.3  切换web服务器</h4><p>现在我们启动工程使用的是 <code>tomcat</code> 服务器，那能不能不使用 <code>tomcat</code> 而使用 <code>jetty</code> 服务器，<code>jetty</code> 在我们 <code>maven</code> 高级时讲 <code>maven</code> 私服使用的服务器。而要切换 <code>web</code> 服务器就需要将默认的 <code>tomcat</code> 服务器给排除掉，怎么排除呢？使用 <code>exclusion</code> 标签</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-boot-starter-web<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">exclusions</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">exclusion</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-boot-starter-tomcat<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">exclusion</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">exclusions</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>现在我们运行引导类可以吗？运行一下试试，打印的日志信息如下</p>\n<p><img src=\"../image/image-20210918232512707.png\" alt=\"image-20210918232512707\"></p>\n<p>程序直接停止了，为什么呢？那是因为排除了 <code>tomcat</code> 服务器，程序中就没有服务器了。所以此时不光要排除 <code>tomcat</code> 服务器，还要引入 <code>jetty</code> 服务器。在 <code>pom.xml</code> 中因为 <code>jetty</code> 的起步依赖</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-boot-starter-jetty<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>接下来再次运行引导类，在日志信息中就可以看到使用的是 <code>jetty</code> 服务器</p>\n<p><img src=\"../image/image-20210918232904623.png\" alt=\"image-20210918232904623\"></p>\n<p><strong>小结：</strong></p>\n<p>通过切换服务器，我们不难发现在使用 <code>SpringBoot</code> 换技术时只需要导入该技术的起步依赖即可。</p>\n<h2 id=\"2，配置文件\"><a href=\"#2，配置文件\" class=\"headerlink\" title=\"2，配置文件\"></a>2，配置文件</h2><h3 id=\"2-1-配置文件格式\"><a href=\"#2-1-配置文件格式\" class=\"headerlink\" title=\"2.1  配置文件格式\"></a>2.1  配置文件格式</h3><p>我们现在启动服务器默认的端口号是 <code>8080</code>，访问路径可以书写为</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http://localhost:8080/books/1</span><br></pre></td></tr></table></figure>\n\n<p>在线上环境我们还是希望将端口号改为 <code>80</code>，这样在访问的时候就可以不写端口号了，如下</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http://localhost/books/1</span><br></pre></td></tr></table></figure>\n\n<p>而 <code>SpringBoot</code> 程序如何修改呢？<code>SpringBoot</code> 提供了多种属性配置方式</p>\n<ul>\n<li><p><code>application.properties</code></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server.port=80</span><br></pre></td></tr></table></figure></li>\n<li><p><code>application.yml</code></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">server:</span></span><br><span class=\"line\">\t<span class=\"attr\">port:</span> <span class=\"number\">81</span></span><br></pre></td></tr></table></figure></li>\n<li><p><code>application.yaml</code></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">server:</span></span><br><span class=\"line\">\t<span class=\"attr\">port:</span> <span class=\"number\">82</span></span><br></pre></td></tr></table></figure></li>\n</ul>\n<blockquote>\n<p>==注意：<code>SpringBoot</code> 程序的配置文件名必须是 <code>application</code> ，只是后缀名不同而已。==</p>\n</blockquote>\n<h4 id=\"2-1-1-环境准备\"><a href=\"#2-1-1-环境准备\" class=\"headerlink\" title=\"2.1.1  环境准备\"></a>2.1.1  环境准备</h4><p>创建一个新工程 <code>springboot_02_base_config</code> 用来演示不同的配置文件，工程环境和入门案例一模一样，结构如下：</p>\n<img src=\"/image/image-20210917151314753.png\" alt=\"image-20210917151314753\" style=\"zoom:80%;\" />\n\n<p>在该工程中的 <code>com.itheima.controller</code> 包下创建一个名为 <code>BookController</code> 的控制器。内容如下：</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@RestController</span></span><br><span class=\"line\"><span class=\"meta\">@RequestMapping(&quot;/books&quot;)</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">BookController</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@GetMapping(&quot;/&#123;id&#125;&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> String <span class=\"title function_\">getById</span><span class=\"params\">(<span class=\"meta\">@PathVariable</span> Integer id)</span>&#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;id ==&gt; &quot;</span>+id);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&quot;hello , spring boot!&quot;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"2-1-2-不同配置文件演示\"><a href=\"#2-1-2-不同配置文件演示\" class=\"headerlink\" title=\"2.1.2  不同配置文件演示\"></a>2.1.2  不同配置文件演示</h4><ul>\n<li><strong>application.properties配置文件</strong></li>\n</ul>\n<p>现在需要进行配置，配合文件必须放在 <code>resources</code> 目录下，而该目录下有一个名为 <code>application.properties</code> 的配置文件，我们就可以在该配置文件中修改端口号，在该配置文件中书写 <code>port</code> ，<code>Idea</code> 就会提示，如下</p>\n<img src=\"/image/image-20210917161422535.png\" alt=\"image-20210917161422535\" style=\"zoom:80%;\" />\n\n<p><code>application.properties</code> 配置文件内容如下：</p>\n<figure class=\"highlight properties\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">server.port</span>=<span class=\"string\">80</span></span><br></pre></td></tr></table></figure>\n\n<p>启动服务，会在控制台打印出日志信息，从日志信息中可以看到绑定的端口号已经修改了</p>\n<img src=\"/image/image-20210917161720855.png\" alt=\"image-20210917161720855\" style=\"zoom:80%;\" />\n\n<ul>\n<li><strong>application.yml配置文件</strong></li>\n</ul>\n<p>删除 <code>application.properties</code> 配置文件中的内容。在 <code>resources</code> 下创建一个名为 <code>application.yml</code> 的配置文件，在该文件中书写端口号的配置项，格式如下：</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">server:</span></span><br><span class=\"line\">\t<span class=\"attr\">port:</span> <span class=\"number\">81</span></span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>==注意： 在<code>:</code>后，数据前一定要加空格。==</p>\n</blockquote>\n<p>而在 <code>yml</code> 配置文件中也是有提示功能的，我们也可以在该文件中书写 <code>port</code> ，然后 <code>idea</code> 就会提示并书写成上面的格式</p>\n<img src=\"/image/image-20210917162512646.png\" alt=\"image-20210917162512646\" style=\"zoom:80%;\" />\n\n<p>启动服务，可以在控制台看到绑定的端口号是 <code>81</code></p>\n<p><img src=\"../image/image-20210917162700711.png\" alt=\"image-20210917162700711\"></p>\n<ul>\n<li><strong>application.yaml配置文件</strong></li>\n</ul>\n<p>删除 <code>application.yml</code> 配置文件和 <code>application.properties</code> 配置文件内容，然后在 <code>resources</code> 下创建名为 <code>application.yaml</code> 的配置文件，配置内容和后缀名为 <code>yml</code> 的配置文件中的内容相同，只是使用了不同的后缀名而已</p>\n<p><code>application.yaml</code> 配置文件内容如下：</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">server:</span></span><br><span class=\"line\">\t<span class=\"attr\">port:</span> <span class=\"number\">83</span></span><br></pre></td></tr></table></figure>\n\n<p>启动服务，在控制台可以看到绑定的端口号</p>\n<p><img src=\"../image/image-20210917163335913.png\" alt=\"image-20210917163335913\"></p>\n<p>==注意：在配合文件中如果没有提示，可以使用一下方式解决==</p>\n<ul>\n<li>点击 <code>File</code> 选中 <code>Project Structure</code></li>\n</ul>\n<img src=\"/image/image-20210917163557071.png\" alt=\"image-20210917163557071\" style=\"zoom:80%;\" />\n\n<ul>\n<li>弹出如下窗口，按图中标记红框进行选择</li>\n</ul>\n<img src=\"/image/image-20210917163736458.png\" alt=\"image-20210917163736458\" style=\"zoom:70%;\" />\n\n<ul>\n<li>通过上述操作，会弹出如下窗口</li>\n</ul>\n<img src=\"/image/image-20210917163818051.png\" alt=\"image-20210917163818051\" style=\"zoom:80%;\" />\n\n<ul>\n<li>点击上图的 <code>+</code> 号，弹出选择该模块的配置文件</li>\n</ul>\n<img src=\"/image/image-20210917163828518.png\" alt=\"image-20210917163828518\" style=\"zoom:80%;\" />\n\n<ul>\n<li>通过上述几步后，就可以看到如下界面。<code>properties</code> 类型的配合文件有一个，<code>ymal</code> 类型的配置文件有两个</li>\n</ul>\n<img src=\"/image/image-20210917163846243.png\" alt=\"image-20210917163846243\" style=\"zoom:80%;\" />\n\n<h4 id=\"2-1-3-三种配合文件的优先级\"><a href=\"#2-1-3-三种配合文件的优先级\" class=\"headerlink\" title=\"2.1.3  三种配合文件的优先级\"></a>2.1.3  三种配合文件的优先级</h4><p>在三种配合文件中分别配置不同的端口号，启动服务查看绑定的端口号。用这种方式就可以看到哪个配置文件的优先级更高一些</p>\n<p><code>application.properties</code> 文件内容如下：</p>\n<figure class=\"highlight properties\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">server.port</span>=<span class=\"string\">80</span></span><br></pre></td></tr></table></figure>\n\n<p><code>application.yml</code> 文件内容如下：</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">server:</span></span><br><span class=\"line\">\t<span class=\"attr\">port:</span> <span class=\"number\">81</span></span><br></pre></td></tr></table></figure>\n\n<p><code>application.yaml</code> 文件内容如下：</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">server:</span></span><br><span class=\"line\">\t<span class=\"attr\">port:</span> <span class=\"number\">82</span></span><br></pre></td></tr></table></figure>\n\n<p>启动服务，在控制台可以看到使用的端口号是 <code>80</code>。说明 <code>application.properties</code> 的优先级最高</p>\n<p>注释掉 <code>application.properties</code> 配置文件内容。再次启动服务，在控制台可以看到使用的端口号是 <code>81</code>，说明 <code>application.yml</code> 配置文件为第二优先级。</p>\n<p>从上述的验证结果可以确定三种配置文件的优先级是：</p>\n<p>==<code>application.properties</code>  &gt;  <code>application.yml</code>   &gt;  <code>application.yaml</code>==</p>\n<blockquote>\n<p>==注意：==</p>\n<ul>\n<li><p><code>SpringBoot</code> 核心配置文件名为 <code>application</code></p>\n</li>\n<li><p><code>SpringBoot</code> 内置属性过多，且所有属性集中在一起修改，在使用时，通过提示键+关键字修改属性</p>\n<p>例如要设置日志的级别时，可以在配置文件中书写 <code>logging</code>，就会提示出来。配置内容如下</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">logging:</span></span><br><span class=\"line\">  <span class=\"attr\">level:</span></span><br><span class=\"line\">    <span class=\"attr\">root:</span> <span class=\"string\">info</span></span><br></pre></td></tr></table></figure></li>\n</ul>\n</blockquote>\n<h3 id=\"2-2-yaml格式\"><a href=\"#2-2-yaml格式\" class=\"headerlink\" title=\"2.2  yaml格式\"></a>2.2  yaml格式</h3><p>上面讲了三种不同类型的配置文件，而 <code>properties</code> 类型的配合文件之前我们学习过，接下来我们重点学习 <code>yaml</code> 类型的配置文件。</p>\n<p><strong>YAML（YAML Ain’t Markup Language），一种数据序列化格式。</strong>这种格式的配置文件在近些年已经占有主导地位，那么这种配置文件和前期使用的配置文件是有一些优势的，我们先看之前使用的配置文件。</p>\n<p>最开始我们使用的是 <code>xml</code> ，格式如下：</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">enterprise</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>itcast<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">age</span>&gt;</span>16<span class=\"tag\">&lt;/<span class=\"name\">age</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">tel</span>&gt;</span>4006184000<span class=\"tag\">&lt;/<span class=\"name\">tel</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">enterprise</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>而 <code>properties</code> 类型的配置文件如下</p>\n<figure class=\"highlight properties\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">enterprise.name</span>=<span class=\"string\">itcast</span></span><br><span class=\"line\"><span class=\"attr\">enterprise.age</span>=<span class=\"string\">16</span></span><br><span class=\"line\"><span class=\"attr\">enterprise.tel</span>=<span class=\"string\">4006184000</span></span><br></pre></td></tr></table></figure>\n\n<p><code>yaml</code> 类型的配置文件内容如下</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">enterprise:</span></span><br><span class=\"line\">\t<span class=\"attr\">name:</span> <span class=\"string\">itcast</span></span><br><span class=\"line\">\t<span class=\"attr\">age:</span> <span class=\"number\">16</span></span><br><span class=\"line\">\t<span class=\"attr\">tel:</span> <span class=\"number\">4006184000</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>优点：</strong></p>\n<ul>\n<li><p>容易阅读</p>\n<p><code>yaml</code> 类型的配置文件比 <code>xml</code> 类型的配置文件更容易阅读，结构更加清晰</p>\n</li>\n<li><p>容易与脚本语言交互</p>\n</li>\n<li><p>以数据为核心，重数据轻格式</p>\n<p><code>yaml</code> 更注重数据，而 <code>xml</code> 更注重格式</p>\n</li>\n</ul>\n<p><strong>YAML 文件扩展名：</strong></p>\n<ul>\n<li><code>.yml</code> (主流)</li>\n<li><code>.yaml</code></li>\n</ul>\n<p>上面两种后缀名都可以，以后使用更多的还是 <code>yml</code> 的。</p>\n<h4 id=\"2-2-1-语法规则\"><a href=\"#2-2-1-语法规则\" class=\"headerlink\" title=\"2.2.1  语法规则\"></a>2.2.1  语法规则</h4><ul>\n<li><p>大小写敏感</p>\n</li>\n<li><p>属性层级关系使用多行描述，每行结尾使用冒号结束</p>\n</li>\n<li><p>使用缩进表示层级关系，同层级左侧对齐，只允许使用空格（不允许使用Tab键）</p>\n<p>空格的个数并不重要，只要保证同层级的左侧对齐即可。</p>\n</li>\n<li><p>属性值前面添加空格（属性名与属性值之间使用冒号+空格作为分隔）</p>\n</li>\n<li><p># 表示注释</p>\n</li>\n</ul>\n<p>==核心规则：数据前面要加空格与冒号隔开==</p>\n<p>数组数据在数据书写位置的下方使用减号作为数据开始符号，每行书写一个数据，减号与数据间空格分隔，例如</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">enterprise:</span></span><br><span class=\"line\">  <span class=\"attr\">name:</span> <span class=\"string\">itcast</span></span><br><span class=\"line\">  <span class=\"attr\">age:</span> <span class=\"number\">16</span></span><br><span class=\"line\">  <span class=\"attr\">tel:</span> <span class=\"number\">4006184000</span></span><br><span class=\"line\">  <span class=\"attr\">subject:</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">Java</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">前端</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">大数据</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"2-3-yaml配置文件数据读取\"><a href=\"#2-3-yaml配置文件数据读取\" class=\"headerlink\" title=\"2.3  yaml配置文件数据读取\"></a>2.3  yaml配置文件数据读取</h3><h4 id=\"2-3-1-环境准备\"><a href=\"#2-3-1-环境准备\" class=\"headerlink\" title=\"2.3.1  环境准备\"></a>2.3.1  环境准备</h4><p>新创建一个名为 <code>springboot_03_read_data</code> 的 <code>SpringBoot</code> 工程，目录结构如下</p>\n<img src=\"/image/image-20210917172736484.png\" alt=\"image-20210917172736484\" style=\"zoom:80%;\" />\n\n<p>在 <code>com.itheima.controller</code> 包写创建名为 <code>BookController</code> 的控制器，内容如下</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@RestController</span></span><br><span class=\"line\"><span class=\"meta\">@RequestMapping(&quot;/books&quot;)</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">BookController</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@GetMapping(&quot;/&#123;id&#125;&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> String <span class=\"title function_\">getById</span><span class=\"params\">(<span class=\"meta\">@PathVariable</span> Integer id)</span>&#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;id ==&gt; &quot;</span>+id);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&quot;hello , spring boot!&quot;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>在 <code>com.itheima.domain</code> 包下创建一个名为 <code>Enterprise</code> 的实体类等会用来封装数据，内容如下</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Enterprise</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String name;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"type\">int</span> age;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String tel;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String[] subject;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">//setter and getter</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">//toString</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>在 <code>resources</code> 下创建一个名为 <code>application.yml</code> 的配置文件，里面配置了不同的数据，内容如下</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">lesson:</span> <span class=\"string\">SpringBoot</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">server:</span></span><br><span class=\"line\">  <span class=\"attr\">port:</span> <span class=\"number\">80</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">enterprise:</span></span><br><span class=\"line\">  <span class=\"attr\">name:</span> <span class=\"string\">itcast</span></span><br><span class=\"line\">  <span class=\"attr\">age:</span> <span class=\"number\">16</span></span><br><span class=\"line\">  <span class=\"attr\">tel:</span> <span class=\"number\">4006184000</span></span><br><span class=\"line\">  <span class=\"attr\">subject:</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">Java</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">前端</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">大数据</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"2-3-2-读取配置数据\"><a href=\"#2-3-2-读取配置数据\" class=\"headerlink\" title=\"2.3.2  读取配置数据\"></a>2.3.2  读取配置数据</h4><h5 id=\"2-3-2-1-使用-Value注解\"><a href=\"#2-3-2-1-使用-Value注解\" class=\"headerlink\" title=\"2.3.2.1  使用 @Value注解\"></a>2.3.2.1  使用 @Value注解</h5><p>使用 <code>@Value(&quot;表达式&quot;)</code> 注解可以从配合文件中读取数据，注解中用于读取属性名引用方式是：<code>$&#123;一级属性名.二级属性名……&#125;</code></p>\n<p>我们可以在 <code>BookController</code> 中使用 <code>@Value</code>  注解读取配合文件数据，如下</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@RestController</span></span><br><span class=\"line\"><span class=\"meta\">@RequestMapping(&quot;/books&quot;)</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">BookController</span> &#123;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"meta\">@Value(&quot;$&#123;lesson&#125;&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> String lesson;</span><br><span class=\"line\">    <span class=\"meta\">@Value(&quot;$&#123;server.port&#125;&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> Integer port;</span><br><span class=\"line\">    <span class=\"meta\">@Value(&quot;$&#123;enterprise.subject[0]&#125;&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> String subject_00;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@GetMapping(&quot;/&#123;id&#125;&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> String <span class=\"title function_\">getById</span><span class=\"params\">(<span class=\"meta\">@PathVariable</span> Integer id)</span>&#123;</span><br><span class=\"line\">        System.out.println(lesson);</span><br><span class=\"line\">        System.out.println(port);</span><br><span class=\"line\">        System.out.println(subject_00);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&quot;hello , spring boot!&quot;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"2-3-2-2-Environment对象\"><a href=\"#2-3-2-2-Environment对象\" class=\"headerlink\" title=\"2.3.2.2  Environment对象\"></a>2.3.2.2  Environment对象</h5><p>上面方式读取到的数据特别零散，<code>SpringBoot</code> 还可以使用 <code>@Autowired</code> 注解注入 <code>Environment</code> 对象的方式读取数据。这种方式 <code>SpringBoot</code> 会将配置文件中所有的数据封装到 <code>Environment</code> 对象中，如果需要使用哪个数据只需要通过调用 <code>Environment</code> 对象的 <code>getProperty(String name)</code> 方法获取。具体代码如下：</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@RestController</span></span><br><span class=\"line\"><span class=\"meta\">@RequestMapping(&quot;/books&quot;)</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">BookController</span> &#123;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"meta\">@Autowired</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> Environment env;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"meta\">@GetMapping(&quot;/&#123;id&#125;&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> String <span class=\"title function_\">getById</span><span class=\"params\">(<span class=\"meta\">@PathVariable</span> Integer id)</span>&#123;</span><br><span class=\"line\">        System.out.println(env.getProperty(<span class=\"string\">&quot;lesson&quot;</span>));</span><br><span class=\"line\">        System.out.println(env.getProperty(<span class=\"string\">&quot;enterprise.name&quot;</span>));</span><br><span class=\"line\">        System.out.println(env.getProperty(<span class=\"string\">&quot;enterprise.subject[0]&quot;</span>));</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&quot;hello , spring boot!&quot;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>==注意：这种方式，框架内容大量数据，而在开发中我们很少使用。==</p>\n</blockquote>\n<h5 id=\"2-3-2-3-自定义对象\"><a href=\"#2-3-2-3-自定义对象\" class=\"headerlink\" title=\"2.3.2.3  自定义对象\"></a>2.3.2.3  自定义对象</h5><p><code>SpringBoot</code> 还提供了将配置文件中的数据封装到我们自定义的实体类对象中的方式。具体操作如下：</p>\n<ul>\n<li><p>将实体类 <code>bean</code> 的创建交给 <code>Spring</code> 管理。</p>\n<p>在类上添加 <code>@Component</code> 注解</p>\n</li>\n<li><p>使用 <code>@ConfigurationProperties</code> 注解表示加载配置文件</p>\n<p>在该注解中也可以使用 <code>prefix</code> 属性指定只加载指定前缀的数据</p>\n</li>\n<li><p>在 <code>BookController</code> 中进行注入</p>\n</li>\n</ul>\n<p><strong>具体代码如下：</strong></p>\n<p><code>Enterprise</code> 实体类内容如下：</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Component</span></span><br><span class=\"line\"><span class=\"meta\">@ConfigurationProperties(prefix = &quot;enterprise&quot;)</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Enterprise</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String name;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"type\">int</span> age;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String tel;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String[] subject;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> String <span class=\"title function_\">getName</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> name;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">setName</span><span class=\"params\">(String name)</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.name = name;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">getAge</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> age;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">setAge</span><span class=\"params\">(<span class=\"type\">int</span> age)</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.age = age;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> String <span class=\"title function_\">getTel</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> tel;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">setTel</span><span class=\"params\">(String tel)</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.tel = tel;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> String[] getSubject() &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> subject;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">setSubject</span><span class=\"params\">(String[] subject)</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.subject = subject;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> String <span class=\"title function_\">toString</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&quot;Enterprise&#123;&quot;</span> +</span><br><span class=\"line\">                <span class=\"string\">&quot;name=&#x27;&quot;</span> + name + <span class=\"string\">&#x27;\\&#x27;&#x27;</span> +</span><br><span class=\"line\">                <span class=\"string\">&quot;, age=&quot;</span> + age +</span><br><span class=\"line\">                <span class=\"string\">&quot;, tel=&#x27;&quot;</span> + tel + <span class=\"string\">&#x27;\\&#x27;&#x27;</span> +</span><br><span class=\"line\">                <span class=\"string\">&quot;, subject=&quot;</span> + Arrays.toString(subject) +</span><br><span class=\"line\">                <span class=\"string\">&#x27;&#125;&#x27;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><code>BookController</code> 内容如下：</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@RestController</span></span><br><span class=\"line\"><span class=\"meta\">@RequestMapping(&quot;/books&quot;)</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">BookController</span> &#123;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"meta\">@Autowired</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> Enterprise enterprise;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@GetMapping(&quot;/&#123;id&#125;&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> String <span class=\"title function_\">getById</span><span class=\"params\">(<span class=\"meta\">@PathVariable</span> Integer id)</span>&#123;</span><br><span class=\"line\">        System.out.println(enterprise.getName());</span><br><span class=\"line\">        System.out.println(enterprise.getAge());</span><br><span class=\"line\">        System.out.println(enterprise.getSubject());</span><br><span class=\"line\">        System.out.println(enterprise.getTel());</span><br><span class=\"line\">        System.out.println(enterprise.getSubject()[<span class=\"number\">0</span>]);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&quot;hello , spring boot!&quot;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>==注意：==</p>\n<p>使用第三种方式，在实体类上有如下警告提示</p>\n<img src=\"/image/image-20210917180919390.png\" alt=\"image-20210917180919390\" style=\"zoom:70%;\" />\n\n<p>这个警告提示解决是在 <code>pom.xml</code> 中添加如下依赖即可</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-boot-configuration-processor<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">optional</span>&gt;</span>true<span class=\"tag\">&lt;/<span class=\"name\">optional</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"2-4-多环境配置\"><a href=\"#2-4-多环境配置\" class=\"headerlink\" title=\"2.4  多环境配置\"></a>2.4  多环境配置</h3><p>以后在工作中，对于开发环境、测试环境、生产环境的配置肯定都不相同，比如我们开发阶段会在自己的电脑上安装 <code>mysql</code> ，连接自己电脑上的 <code>mysql</code> 即可，但是项目开发完毕后要上线就需要该配置，将环境的配置改为线上环境的。</p>\n<img src=\"/image/image-20210917185253557.png\" alt=\"image-20210917185253557\" style=\"zoom:60%;\" />\n\n<p>来回的修改配置会很麻烦，而 <code>SpringBoot</code> 给开发者提供了多环境的快捷配置，需要切换环境时只需要改一个配置即可。不同类型的配置文件多环境开发的配置都不相同，接下来对不同类型的配置文件进行说明</p>\n<h4 id=\"2-4-1-yaml文件\"><a href=\"#2-4-1-yaml文件\" class=\"headerlink\" title=\"2.4.1  yaml文件\"></a>2.4.1  yaml文件</h4><p>在 <code>application.yml</code> 中使用 <code>---</code> 来分割不同的配置，内容如下</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#开发</span></span><br><span class=\"line\"><span class=\"attr\">spring:</span></span><br><span class=\"line\">  <span class=\"attr\">profiles:</span> <span class=\"string\">dev</span> <span class=\"comment\">#给开发环境起的名字</span></span><br><span class=\"line\"><span class=\"attr\">server:</span></span><br><span class=\"line\">  <span class=\"attr\">port:</span> <span class=\"number\">80</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"comment\">#生产</span></span><br><span class=\"line\"><span class=\"attr\">spring:</span></span><br><span class=\"line\">  <span class=\"attr\">profiles:</span> <span class=\"string\">pro</span> <span class=\"comment\">#给生产环境起的名字</span></span><br><span class=\"line\"><span class=\"attr\">server:</span></span><br><span class=\"line\">  <span class=\"attr\">port:</span> <span class=\"number\">81</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"comment\">#测试</span></span><br><span class=\"line\"><span class=\"attr\">spring:</span></span><br><span class=\"line\">  <span class=\"attr\">profiles:</span> <span class=\"string\">test</span> <span class=\"comment\">#给测试环境起的名字</span></span><br><span class=\"line\"><span class=\"attr\">server:</span></span><br><span class=\"line\">  <span class=\"attr\">port:</span> <span class=\"number\">82</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br></pre></td></tr></table></figure>\n\n<p>上面配置中 <code>spring.profiles</code> 是用来给不同的配置起名字的。而如何告知 <code>SpringBoot</code> 使用哪段配置呢？可以使用如下配置来启用都一段配置</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#设置启用的环境</span></span><br><span class=\"line\"><span class=\"attr\">spring:</span></span><br><span class=\"line\">  <span class=\"attr\">profiles:</span></span><br><span class=\"line\">    <span class=\"attr\">active:</span> <span class=\"string\">dev</span>  <span class=\"comment\">#表示使用的是开发环境的配置</span></span><br></pre></td></tr></table></figure>\n\n<p>综上所述，<code>application.yml</code> 配置文件内容如下</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#设置启用的环境</span></span><br><span class=\"line\"><span class=\"attr\">spring:</span></span><br><span class=\"line\">  <span class=\"attr\">profiles:</span></span><br><span class=\"line\">    <span class=\"attr\">active:</span> <span class=\"string\">dev</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"comment\">#开发</span></span><br><span class=\"line\"><span class=\"attr\">spring:</span></span><br><span class=\"line\">  <span class=\"attr\">profiles:</span> <span class=\"string\">dev</span></span><br><span class=\"line\"><span class=\"attr\">server:</span></span><br><span class=\"line\">  <span class=\"attr\">port:</span> <span class=\"number\">80</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"comment\">#生产</span></span><br><span class=\"line\"><span class=\"attr\">spring:</span></span><br><span class=\"line\">  <span class=\"attr\">profiles:</span> <span class=\"string\">pro</span></span><br><span class=\"line\"><span class=\"attr\">server:</span></span><br><span class=\"line\">  <span class=\"attr\">port:</span> <span class=\"number\">81</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"comment\">#测试</span></span><br><span class=\"line\"><span class=\"attr\">spring:</span></span><br><span class=\"line\">  <span class=\"attr\">profiles:</span> <span class=\"string\">test</span></span><br><span class=\"line\"><span class=\"attr\">server:</span></span><br><span class=\"line\">  <span class=\"attr\">port:</span> <span class=\"number\">82</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br></pre></td></tr></table></figure>\n\n<p>==注意：==</p>\n<p>在上面配置中给不同配置起名字的 <code>spring.profiles</code> 配置项已经过时。最新用来起名字的配置项是 </p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#开发</span></span><br><span class=\"line\"><span class=\"attr\">spring:</span></span><br><span class=\"line\">  <span class=\"attr\">config:</span></span><br><span class=\"line\">    <span class=\"attr\">activate:</span></span><br><span class=\"line\">      <span class=\"attr\">on-profile:</span> <span class=\"string\">dev</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"2-4-2-properties文件\"><a href=\"#2-4-2-properties文件\" class=\"headerlink\" title=\"2.4.2  properties文件\"></a>2.4.2  properties文件</h4><p><code>properties</code> 类型的配置文件配置多环境需要定义不同的配置文件</p>\n<ul>\n<li><p><code>application-dev.properties</code> 是开发环境的配置文件。我们在该文件中配置端口号为 <code>80</code></p>\n<figure class=\"highlight properties\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">server.port</span>=<span class=\"string\">80</span></span><br></pre></td></tr></table></figure></li>\n<li><p><code>application-test.properties</code> 是测试环境的配置文件。我们在该文件中配置端口号为 <code>81</code></p>\n<figure class=\"highlight properties\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">server.port</span>=<span class=\"string\">81</span></span><br></pre></td></tr></table></figure></li>\n<li><p><code>application-pro.properties</code> 是生产环境的配置文件。我们在该文件中配置端口号为 <code>82</code></p>\n<figure class=\"highlight properties\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">server.port</span>=<span class=\"string\">82</span></span><br></pre></td></tr></table></figure></li>\n</ul>\n<p><code>SpringBoot</code> 只会默认加载名为 <code>application.properties</code> 的配置文件，所以需要在 <code>application.properties</code> 配置文件中设置启用哪个配置文件，配置如下:</p>\n<figure class=\"highlight properties\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">spring.profiles.active</span>=<span class=\"string\">pro</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"2-4-3-命令行启动参数设置\"><a href=\"#2-4-3-命令行启动参数设置\" class=\"headerlink\" title=\"2.4.3  命令行启动参数设置\"></a>2.4.3  命令行启动参数设置</h4><p>使用 <code>SpringBoot</code> 开发的程序以后都是打成 <code>jar</code> 包，通过 <code>java -jar xxx.jar</code> 的方式启动服务的。那么就存在一个问题，如何切换环境呢？因为配置文件打到的jar包中了。</p>\n<p>我们知道 <code>jar</code> 包其实就是一个压缩包，可以解压缩，然后修改配置，最后再打成jar包就可以了。这种方式显然有点麻烦，而 <code>SpringBoot</code> 提供了在运行 <code>jar</code> 时设置开启指定的环境的方式，如下</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">java –jar xxx.jar –-spring.profiles.active=test</span><br></pre></td></tr></table></figure>\n\n<p>那么这种方式能不能临时修改端口号呢？也是可以的，可以通过如下方式</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">java –jar xxx.jar –-server.port=88</span><br></pre></td></tr></table></figure>\n\n<p>当然也可以同时设置多个配置，比如即指定启用哪个环境配置，又临时指定端口，如下</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">java –jar springboot.jar –-server.port=88 –-spring.profiles.active=test</span><br></pre></td></tr></table></figure>\n\n<p>大家进行测试后就会发现命令行设置的端口号优先级高（也就是使用的是命令行设置的端口号），配置的优先级其实 <code>SpringBoot</code> 官网已经进行了说明，参见 :</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-external-config</span><br></pre></td></tr></table></figure>\n\n<p>进入上面网站后会看到如下页面</p>\n<p><img src=\"../image/image-20210917193910191.png\" alt=\"image-20210917193910191\"></p>\n<p>如果使用了多种方式配合同一个配置项，优先级高的生效。</p>\n<h3 id=\"2-5-配置文件分类\"><a href=\"#2-5-配置文件分类\" class=\"headerlink\" title=\"2.5  配置文件分类\"></a>2.5  配置文件分类</h3><img src=\"/image/image-20210917194941597.png\" alt=\"image-20210917194941597\" style=\"zoom:70%;\" />\n\n<p>有这样的场景，我们开发完毕后需要测试人员进行测试，由于测试环境和开发环境的很多配置都不相同，所以测试人员在运行我们的工程时需要临时修改很多配置，如下</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">java –jar springboot.jar –-spring.profiles.active=test --server.port=85 --server.servlet.context-path=/heima --server.tomcat.connection-timeout=-1 …… …… …… …… ……</span><br></pre></td></tr></table></figure>\n\n<p>针对这种情况，<code>SpringBoot</code> 定义了配置文件不同的放置的位置；而放在不同位置的优先级时不同的。</p>\n<p><code>SpringBoot</code> 中4级配置文件放置位置：</p>\n<ul>\n<li>1级：classpath：application.yml  </li>\n<li>2级：classpath：config/application.yml</li>\n<li>3级：file ：application.yml</li>\n<li>4级：file ：config/application.yml </li>\n</ul>\n<blockquote>\n<p>==说明：==级别越高优先级越高</p>\n</blockquote>\n<h4 id=\"2-5-1-代码演示\"><a href=\"#2-5-1-代码演示\" class=\"headerlink\" title=\"2.5.1  代码演示\"></a>2.5.1  代码演示</h4><p>在这里我们只演示不同级别配置文件放置位置的优先级。</p>\n<h5 id=\"2-5-1-1-环境准备\"><a href=\"#2-5-1-1-环境准备\" class=\"headerlink\" title=\"2.5.1.1  环境准备\"></a>2.5.1.1  环境准备</h5><p>创建一个名为 <code>springboot_06_config_file</code> 的 <code>SpringBoot</code> 工程，目录结构如下</p>\n<img src=\"/image/image-20210917200241282.png\" alt=\"image-20210917200241282\" style=\"zoom:80%;\" />\n\n<p>在 <code>resources</code> 下创建一个名为 <code>config</code> 的目录，在该目录中创建 <code>application.yml</code> 配置文件，而在该配置文件中将端口号设置为 <code>81</code>，内容如下</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">server:</span></span><br><span class=\"line\">  <span class=\"attr\">port:</span> <span class=\"number\">81</span></span><br></pre></td></tr></table></figure>\n\n<p>而在 <code>resources</code> 下创建的 <code>application.yml</code> 配置文件中并将端口号设置为 <code>80</code>，内容如下</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">server:</span></span><br><span class=\"line\">  <span class=\"attr\">port:</span> <span class=\"number\">80</span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"2-5-1-2-验证1级和2级的优先级\"><a href=\"#2-5-1-2-验证1级和2级的优先级\" class=\"headerlink\" title=\"2.5.1.2  验证1级和2级的优先级\"></a>2.5.1.2  验证1级和2级的优先级</h5><p>运行启动引导类，可以在控制台看到如下日志信息</p>\n<p><img src=\"../image/image-20210917200805389.png\" alt=\"image-20210917200805389\"></p>\n<p>通过这个结果可以得出==类路径下的 <code>config</code> 下的配置文件优先于类路径下的配置文件。==</p>\n<h5 id=\"2-5-1-3-验证2级和4级的优先级\"><a href=\"#2-5-1-3-验证2级和4级的优先级\" class=\"headerlink\" title=\"2.5.1.3  验证2级和4级的优先级\"></a>2.5.1.3  验证2级和4级的优先级</h5><p>要验证4级，按照以下步骤完成</p>\n<ul>\n<li><p>将工程打成 <code>jar</code> 包</p>\n<p>点击工程的 <code>package</code> 来打 <code>jar</code> 包</p>\n<img src=\"/image/image-20210917201243721.png\" alt=\"image-20210917201243721\" style=\"zoom:80%;\" /></li>\n<li><p>在硬盘上找到 <code>jar</code> 包所在位置</p>\n<img src=\"/image/image-20210917201523669.png\" alt=\"image-20210917201523669\" style=\"zoom:70%;\" /></li>\n<li><p>在 <code>jar</code> 包所在位置创建 <code>config</code> 文件夹，在该文件夹下创建 <code>application.yml</code> 配置文件，而在该配合文件中将端口号设置为 <code>82</code> </p>\n</li>\n<li><p>在命令行使用以下命令运行程序</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">java -jar springboot_06_config_file-0.0.1-SNAPSHOT.jar</span><br></pre></td></tr></table></figure>\n\n<p>运行后日志信息如下</p>\n<p><img src=\"../image/image-20210917201922831.png\" alt=\"image-20210917201922831\"></p>\n<p>通过这个结果可以得出==file： <code>config</code> 下的配置文件优先于类路径下的配置文件。==</p>\n</li>\n</ul>\n<blockquote>\n<p>==注意：==</p>\n<p>SpringBoot 2.5.0版本存在一个bug，我们在使用这个版本时，需要在 <code>jar</code> 所在位置的 <code>config</code> 目录下创建一个任意名称的文件夹</p>\n</blockquote>\n<h2 id=\"3，SpringBoot整合junit\"><a href=\"#3，SpringBoot整合junit\" class=\"headerlink\" title=\"3，SpringBoot整合junit\"></a>3，SpringBoot整合junit</h2><p>回顾 <code>Spring</code> 整合 <code>junit</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@RunWith(SpringJUnit4ClassRunner.class)</span></span><br><span class=\"line\"><span class=\"meta\">@ContextConfiguration(classes = SpringConfig.class)</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">UserServiceTest</span> &#123;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"meta\">@Autowired</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> BookService bookService;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"meta\">@Test</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">testSave</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        bookService.save();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>使用 <code>@RunWith</code> 注解指定运行器，使用 <code>@ContextConfiguration</code> 注解来指定配置类或者配置文件。而 <code>SpringBoot</code> 整合 <code>junit</code> 特别简单，分为以下三步完成</p>\n<ul>\n<li>在测试类上添加 <code>SpringBootTest</code> 注解</li>\n<li>使用 <code>@Autowired</code> 注入要测试的资源</li>\n<li>定义测试方法进行测试</li>\n</ul>\n<h3 id=\"3-1-环境准备\"><a href=\"#3-1-环境准备\" class=\"headerlink\" title=\"3.1  环境准备\"></a>3.1  环境准备</h3><p>创建一个名为 <code>springboot_07_test</code> 的 <code>SpringBoot</code> 工程，工程目录结构如下</p>\n<img src=\"/image/image-20210917213556673.png\" alt=\"image-20210917213556673\" style=\"zoom:80%;\" />\n\n<p>在 <code>com.itheima.service</code> 下创建 <code>BookService</code> 接口，内容如下</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title class_\">BookService</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">save</span><span class=\"params\">()</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>在 <code>com.itheima.service.impl</code> 包写创建一个 <code>BookServiceImpl</code> 类，使其实现 <code>BookService</code> 接口，内容如下</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Service</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">BookServiceImpl</span> <span class=\"keyword\">implements</span> <span class=\"title class_\">BookService</span> &#123;</span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">save</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;book service is running ...&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"3-2-编写测试类\"><a href=\"#3-2-编写测试类\" class=\"headerlink\" title=\"3.2  编写测试类\"></a>3.2  编写测试类</h3><p>在 <code>test/java</code> 下创建 <code>com.itheima</code> 包，在该包下创建测试类，将 <code>BookService</code> 注入到该测试类中</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@SpringBootTest</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Springboot07TestApplicationTests</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Autowired</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> BookService bookService;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Test</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">save</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        bookService.save();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>==注意：==这里的引导类所在包必须是测试类所在包及其子包。</p>\n<p>例如：</p>\n<ul>\n<li>引导类所在包是 <code>com.itheima</code></li>\n<li>测试类所在包是 <code>com.itheima</code></li>\n</ul>\n<p>如果不满足这个要求的话，就需要在使用 <code>@SpringBootTest</code> 注解时，使用 <code>classes</code> 属性指定引导类的字节码对象。如 <code>@SpringBootTest(classes = Springboot07TestApplication.class)</code></p>\n</blockquote>\n<h2 id=\"4，SpringBoot整合mybatis\"><a href=\"#4，SpringBoot整合mybatis\" class=\"headerlink\" title=\"4，SpringBoot整合mybatis\"></a>4，SpringBoot整合mybatis</h2><h3 id=\"4-1-回顾Spring整合Mybatis\"><a href=\"#4-1-回顾Spring整合Mybatis\" class=\"headerlink\" title=\"4.1  回顾Spring整合Mybatis\"></a>4.1  回顾Spring整合Mybatis</h3><p><code>Spring</code> 整合 <code>Mybatis</code> 需要定义很多配置类</p>\n<ul>\n<li><p><code>SpringConfig</code> 配置类</p>\n<ul>\n<li><p>导入 <code>JdbcConfig</code> 配置类</p>\n</li>\n<li><p>导入 <code>MybatisConfig</code> 配置类</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Configuration</span></span><br><span class=\"line\"><span class=\"meta\">@ComponentScan(&quot;com.itheima&quot;)</span></span><br><span class=\"line\"><span class=\"meta\">@PropertySource(&quot;classpath:jdbc.properties&quot;)</span></span><br><span class=\"line\"><span class=\"meta\">@Import(&#123;JdbcConfig.class,MyBatisConfig.class&#125;)</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">SpringConfig</span> &#123;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></li>\n</ul>\n</li>\n<li><p><code>JdbcConfig</code> 配置类</p>\n<ul>\n<li><p>定义数据源（加载properties配置项：driver、url、username、password）</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">JdbcConfig</span> &#123;</span><br><span class=\"line\">    <span class=\"meta\">@Value(&quot;$&#123;jdbc.driver&#125;&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> String driver;</span><br><span class=\"line\">    <span class=\"meta\">@Value(&quot;$&#123;jdbc.url&#125;&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> String url;</span><br><span class=\"line\">    <span class=\"meta\">@Value(&quot;$&#123;jdbc.username&#125;&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> String userName;</span><br><span class=\"line\">    <span class=\"meta\">@Value(&quot;$&#123;jdbc.password&#125;&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> String password;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Bean</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> DataSource <span class=\"title function_\">getDataSource</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        <span class=\"type\">DruidDataSource</span> <span class=\"variable\">ds</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">DruidDataSource</span>();</span><br><span class=\"line\">        ds.setDriverClassName(driver);</span><br><span class=\"line\">        ds.setUrl(url);</span><br><span class=\"line\">        ds.setUsername(userName);</span><br><span class=\"line\">        ds.setPassword(password);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ds;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n</ul>\n</li>\n<li><p><code>MybatisConfig</code> 配置类</p>\n<ul>\n<li><p>定义 <code>SqlSessionFactoryBean</code></p>\n</li>\n<li><p>定义映射配置</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Bean</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> MapperScannerConfigurer <span class=\"title function_\">getMapperScannerConfigurer</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">    <span class=\"type\">MapperScannerConfigurer</span> <span class=\"variable\">msc</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">MapperScannerConfigurer</span>();</span><br><span class=\"line\">    msc.setBasePackage(<span class=\"string\">&quot;com.itheima.dao&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> msc;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Bean</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> SqlSessionFactoryBean <span class=\"title function_\">getSqlSessionFactoryBean</span><span class=\"params\">(DataSource dataSource)</span>&#123;</span><br><span class=\"line\">    <span class=\"type\">SqlSessionFactoryBean</span> <span class=\"variable\">ssfb</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">SqlSessionFactoryBean</span>();</span><br><span class=\"line\">    ssfb.setTypeAliasesPackage(<span class=\"string\">&quot;com.itheima.domain&quot;</span>);</span><br><span class=\"line\">    ssfb.setDataSource(dataSource);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ssfb;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></li>\n</ul>\n</li>\n</ul>\n<h3 id=\"4-2-SpringBoot整合mybatis\"><a href=\"#4-2-SpringBoot整合mybatis\" class=\"headerlink\" title=\"4.2  SpringBoot整合mybatis\"></a>4.2  SpringBoot整合mybatis</h3><h4 id=\"4-2-1-创建模块\"><a href=\"#4-2-1-创建模块\" class=\"headerlink\" title=\"4.2.1  创建模块\"></a>4.2.1  创建模块</h4><ul>\n<li>创建新模块，选择 <code>Spring Initializr</code>，并配置模块相关基础信息</li>\n</ul>\n<img src=\"/image/image-20210917215913779.png\" alt=\"image-20210917215913779\" style=\"zoom:80%;\" />\n\n<ul>\n<li><p>选择当前模块需要使用的技术集（MyBatis、MySQL）</p>\n<img src=\"/image/image-20210917215958091.png\" alt=\"image-20210917215958091\" style=\"zoom:80%;\" /></li>\n</ul>\n<h4 id=\"4-2-2-定义实体类\"><a href=\"#4-2-2-定义实体类\" class=\"headerlink\" title=\"4.2.2  定义实体类\"></a>4.2.2  定义实体类</h4><p>在 <code>com.itheima.domain</code> 包下定义实体类 <code>Book</code>，内容如下</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Book</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Integer id;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String name;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String type;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String description;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">//setter and  getter</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">//toString</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"4-2-3-定义dao接口\"><a href=\"#4-2-3-定义dao接口\" class=\"headerlink\" title=\"4.2.3  定义dao接口\"></a>4.2.3  定义dao接口</h4><p>在 <code>com.itheima.dao</code> 包下定义 <code>BookDao</code> 接口，内容如下</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title class_\">BookDao</span> &#123;</span><br><span class=\"line\">    <span class=\"meta\">@Select(&quot;select * from tbl_book where id = #&#123;id&#125;&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> Book <span class=\"title function_\">getById</span><span class=\"params\">(Integer id)</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"4-2-4-定义测试类\"><a href=\"#4-2-4-定义测试类\" class=\"headerlink\" title=\"4.2.4  定义测试类\"></a>4.2.4  定义测试类</h4><p>在 <code>test/java</code> 下定义包 <code>com.itheima</code> ，在该包下测试类，内容如下</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@SpringBootTest</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Springboot08MybatisApplicationTests</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"meta\">@Autowired</span></span><br><span class=\"line\">\t<span class=\"keyword\">private</span> BookDao bookDao;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"meta\">@Test</span></span><br><span class=\"line\">\t<span class=\"keyword\">void</span> <span class=\"title function_\">testGetById</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">Book</span> <span class=\"variable\">book</span> <span class=\"operator\">=</span> bookDao.getById(<span class=\"number\">1</span>);</span><br><span class=\"line\">\t\tSystem.out.println(book);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"4-2-5-编写配置\"><a href=\"#4-2-5-编写配置\" class=\"headerlink\" title=\"4.2.5  编写配置\"></a>4.2.5  编写配置</h4><p>我们代码中并没有指定连接哪儿个数据库，用户名是什么，密码是什么。所以这部分需要在 <code>SpringBoot</code> 的配置文件中进行配合。</p>\n<p>在 <code>application.yml</code> 配置文件中配置如下内容</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">spring:</span></span><br><span class=\"line\">  <span class=\"attr\">datasource:</span></span><br><span class=\"line\">    <span class=\"attr\">driver-class-name:</span> <span class=\"string\">com.mysql.jdbc.Driver</span></span><br><span class=\"line\">    <span class=\"attr\">url:</span> <span class=\"string\">jdbc:mysql://localhost:3306/ssm_db</span></span><br><span class=\"line\">    <span class=\"attr\">username:</span> <span class=\"string\">root</span></span><br><span class=\"line\">    <span class=\"attr\">password:</span> <span class=\"string\">root</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"4-2-6-测试\"><a href=\"#4-2-6-测试\" class=\"headerlink\" title=\"4.2.6  测试\"></a>4.2.6  测试</h4><p>运行测试方法，我们会看到如下错误信息</p>\n<img src=\"/image/image-20210917221427930.png\" alt=\"image-20210917221427930\" style=\"zoom:70%;\" />\n\n<p>错误信息显示在 <code>Spring</code> 容器中没有 <code>BookDao</code> 类型的 <code>bean</code>。为什么会出现这种情况呢？</p>\n<p>原因是 <code>Mybatis</code> 会扫描接口并创建接口的代码对象交给 <code>Spring</code> 管理，但是现在并没有告诉 <code>Mybatis</code> 哪个是 <code>dao</code> 接口。而我们要解决这个问题需要在<code>BookDao</code> 接口上使用 <code>@Mapper</code> ，<code>BookDao</code> 接口改进为</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Mapper</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title class_\">BookDao</span> &#123;</span><br><span class=\"line\">    <span class=\"meta\">@Select(&quot;select * from tbl_book where id = #&#123;id&#125;&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> Book <span class=\"title function_\">getById</span><span class=\"params\">(Integer id)</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>==注意：==</p>\n<p><code>SpringBoot</code> 版本低于2.4.3(不含)，Mysql驱动版本大于8.0时，需要在url连接串中配置时区 <code>jdbc:mysql://localhost:3306/ssm_db?serverTimezone=UTC</code>，或在MySQL数据库端配置时区解决此问题</p>\n</blockquote>\n<h4 id=\"4-2-7-使用Druid数据源\"><a href=\"#4-2-7-使用Druid数据源\" class=\"headerlink\" title=\"4.2.7  使用Druid数据源\"></a>4.2.7  使用Druid数据源</h4><p>现在我们并没有指定数据源，<code>SpringBoot</code> 有默认的数据源，我们也可以指定使用 <code>Druid</code> 数据源，按照以下步骤实现</p>\n<ul>\n<li><p>导入 <code>Druid</code> 依赖</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>com.alibaba<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>druid<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>1.1.16<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li>\n<li><p>在 <code>application.yml</code> 配置文件配置</p>\n<p>可以通过 <code>spring.datasource.type</code> 来配置使用什么数据源。配置文件内容可以改进为</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">spring:</span></span><br><span class=\"line\">  <span class=\"attr\">datasource:</span></span><br><span class=\"line\">    <span class=\"attr\">driver-class-name:</span> <span class=\"string\">com.mysql.cj.jdbc.Driver</span></span><br><span class=\"line\">    <span class=\"attr\">url:</span> <span class=\"string\">jdbc:mysql://localhost:3306/ssm_db?serverTimezone=UTC</span></span><br><span class=\"line\">    <span class=\"attr\">username:</span> <span class=\"string\">root</span></span><br><span class=\"line\">    <span class=\"attr\">password:</span> <span class=\"string\">root</span></span><br><span class=\"line\">    <span class=\"attr\">type:</span> <span class=\"string\">com.alibaba.druid.pool.DruidDataSource</span></span><br></pre></td></tr></table></figure></li>\n</ul>\n<h2 id=\"5，案例\"><a href=\"#5，案例\" class=\"headerlink\" title=\"5，案例\"></a>5，案例</h2><p><code>SpringBoot</code> 到这就已经学习完毕，接下来我们将学习 <code>SSM</code> 时做的三大框架整合的案例用 <code>SpringBoot</code> 来实现一下。我们完成这个案例基本是将之前做的拷贝过来，修改成 <code>SpringBoot</code> 的即可，主要从以下几部分完成</p>\n<ol>\n<li><p>pom.xml</p>\n<p>配置起步依赖，必要的资源坐标(druid)</p>\n</li>\n<li><p>application.yml</p>\n<p>设置数据源、端口等</p>\n</li>\n<li><p>配置类</p>\n<p>全部删除</p>\n</li>\n<li><p>dao</p>\n<p>设置@Mapper</p>\n</li>\n<li><p>测试类</p>\n</li>\n<li><p>页面</p>\n<p>放置在resources目录下的static目录中</p>\n</li>\n</ol>\n<h3 id=\"5-1-创建工程\"><a href=\"#5-1-创建工程\" class=\"headerlink\" title=\"5.1  创建工程\"></a>5.1  创建工程</h3><p>创建 <code>SpringBoot</code> 工程，在创建工程时需要勾选 <code>web</code>、<code>mysql</code>、<code>mybatis</code>，工程目录结构如下</p>\n<img src=\"/image/image-20210917225019868.png\" alt=\"image-20210917225019868\" style=\"zoom:80%;\" />\n\n<p>由于我们工程中使用到了 <code>Druid</code> ，所以需要导入 <code>Druid</code> 的坐标</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>com.alibaba<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>druid<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>1.1.16<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"5-2-代码拷贝\"><a href=\"#5-2-代码拷贝\" class=\"headerlink\" title=\"5.2  代码拷贝\"></a>5.2  代码拷贝</h3><p>将 <code>springmvc_11_page</code> 工程中的 <code>java</code> 代码及测试代码连同包拷贝到 <code>springboot_09_ssm</code> 工程，按照下图进行拷贝</p>\n<img src=\"/image/image-20210917225715519.png\" alt=\"image-20210917225715519\" style=\"zoom:70%;\" />\n\n<p>需要修改的内容如下：</p>\n<ul>\n<li><p><code>Springmvc_11_page</code> 中 <code>config</code> 包下的是配置类，而 <code>SpringBoot</code> 工程不需要这些配置类，所以这些可以直接删除</p>\n</li>\n<li><p><code>dao</code> 包下的接口上在拷贝到 <code>springboot_09-ssm</code> 工程中需要在接口中添加 <code>@Mapper</code> 注解</p>\n</li>\n<li><p><code>BookServiceTest</code> 测试需要改成 <code>SpringBoot</code> 整合 <code>junit</code> 的</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@SpringBootTest</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">BookServiceTest</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Autowired</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> BookService bookService;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Test</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">testGetById</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        <span class=\"type\">Book</span> <span class=\"variable\">book</span> <span class=\"operator\">=</span> bookService.getById(<span class=\"number\">2</span>);</span><br><span class=\"line\">        System.out.println(book);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Test</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">testGetAll</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        List&lt;Book&gt; all = bookService.getAll();</span><br><span class=\"line\">        System.out.println(all);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n</ul>\n<h3 id=\"5-3-配置文件\"><a href=\"#5-3-配置文件\" class=\"headerlink\" title=\"5.3  配置文件\"></a>5.3  配置文件</h3><p>在 <code>application.yml</code> 配置文件中需要配置如下内容</p>\n<ul>\n<li>服务的端口号</li>\n<li>连接数据库的信息</li>\n<li>数据源</li>\n</ul>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">server:</span></span><br><span class=\"line\">  <span class=\"attr\">port:</span> <span class=\"number\">80</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">spring:</span></span><br><span class=\"line\">  <span class=\"attr\">datasource:</span></span><br><span class=\"line\">    <span class=\"attr\">type:</span> <span class=\"string\">com.alibaba.druid.pool.DruidDataSource</span></span><br><span class=\"line\">    <span class=\"attr\">driver-class-name:</span> <span class=\"string\">com.mysql.cj.jdbc.Driver</span></span><br><span class=\"line\">    <span class=\"attr\">url:</span> <span class=\"string\">jdbc:mysql://localhost:3306/ssm_db</span> <span class=\"comment\">#?servierTimezone=UTC</span></span><br><span class=\"line\">    <span class=\"attr\">username:</span> <span class=\"string\">root</span></span><br><span class=\"line\">    <span class=\"attr\">password:</span> <span class=\"string\">root</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"5-4-静态资源\"><a href=\"#5-4-静态资源\" class=\"headerlink\" title=\"5.4  静态资源\"></a>5.4  静态资源</h3><p>在 <code>SpringBoot</code> 程序中是没有 <code>webapp</code> 目录的，那么在 <code>SpringBoot</code> 程序中静态资源需要放在什么位置呢？</p>\n<p>静态资源需要放在 <code>resources</code> 下的 <code>static</code> 下，如下图所示</p>\n<img src=\"/image/image-20210917230702072.png\" alt=\"image-20210917230702072\" style=\"zoom:80%;\" />"},{"title":"Hexo DGS","date":"2022-03-29T13:18:34.000Z","_content":"Welcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/one-command-deployment.html)\n","source":"_posts/hello-world.md","raw":"---\ntitle: Hexo DGS\ndate: 2022-03-29 21:18:34\ntags:\n- hexo指南\n- shell\ncategories: \n- 操作手册\n---\nWelcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/one-command-deployment.html)\n","slug":"hello-world","published":1,"updated":"2023-04-19T11:22:55.587Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clgz2pfeu000bdl5z5v1jb3x9","content":"<p>Welcome to <a href=\"https://hexo.io/\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/server.html\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/one-command-deployment.html\">Deployment</a></p>\n","site":{"data":{}},"excerpt":"","more":"<p>Welcome to <a href=\"https://hexo.io/\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/server.html\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/one-command-deployment.html\">Deployment</a></p>\n"},{"title":"first-article","date":"2020-10-18T06:28:49.000Z","_content":"\n# 这是我的第一篇博客文章\n\n欢迎来到我的博客！这是我第一次写博客，所以我想简单介绍一下自己和这个博客。\n\n<!-- more -->\n\n我是一名软件工程师，我喜欢编写代码和学习新技术。我在这个博客上将分享我的经验和教训，希望能够帮助其他人在他们的职业生涯中取得成功。\n\n在这个博客上，我将分享我对软件开发、编程和技术的看法，以及我在开发过程中所遇到的一些有趣的问题和解决方案。我会在这里发布一些教程和指南，帮助读者更好地理解和应用新技术。\n\n如果您对这个博客或我的文章有任何意见或建议，欢迎随时联系我。我期待着与您建立联系，分享更多关于软件开发和技术的经验和教训。\n\n\n谢谢您的访问，希望您喜欢我的博客！\n\n","source":"_posts/first-article.md","raw":"---\ntitle: first-article\ndate: 2020-10-18 14:28:49\ntags:\n- 第一篇\ncategories: \n- 随便写\n---\n\n# 这是我的第一篇博客文章\n\n欢迎来到我的博客！这是我第一次写博客，所以我想简单介绍一下自己和这个博客。\n\n<!-- more -->\n\n我是一名软件工程师，我喜欢编写代码和学习新技术。我在这个博客上将分享我的经验和教训，希望能够帮助其他人在他们的职业生涯中取得成功。\n\n在这个博客上，我将分享我对软件开发、编程和技术的看法，以及我在开发过程中所遇到的一些有趣的问题和解决方案。我会在这里发布一些教程和指南，帮助读者更好地理解和应用新技术。\n\n如果您对这个博客或我的文章有任何意见或建议，欢迎随时联系我。我期待着与您建立联系，分享更多关于软件开发和技术的经验和教训。\n\n\n谢谢您的访问，希望您喜欢我的博客！\n\n","slug":"first-article","published":1,"updated":"2023-04-20T03:15:54.716Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clgz2pfew000fdl5z7izrhv4k","content":"<h1 id=\"这是我的第一篇博客文章\"><a href=\"#这是我的第一篇博客文章\" class=\"headerlink\" title=\"这是我的第一篇博客文章\"></a>这是我的第一篇博客文章</h1><p>欢迎来到我的博客！这是我第一次写博客，所以我想简单介绍一下自己和这个博客。</p>\n<span id=\"more\"></span>\n\n<p>我是一名软件工程师，我喜欢编写代码和学习新技术。我在这个博客上将分享我的经验和教训，希望能够帮助其他人在他们的职业生涯中取得成功。</p>\n<p>在这个博客上，我将分享我对软件开发、编程和技术的看法，以及我在开发过程中所遇到的一些有趣的问题和解决方案。我会在这里发布一些教程和指南，帮助读者更好地理解和应用新技术。</p>\n<p>如果您对这个博客或我的文章有任何意见或建议，欢迎随时联系我。我期待着与您建立联系，分享更多关于软件开发和技术的经验和教训。</p>\n<p>谢谢您的访问，希望您喜欢我的博客！</p>\n","site":{"data":{}},"excerpt":"<h1 id=\"这是我的第一篇博客文章\"><a href=\"#这是我的第一篇博客文章\" class=\"headerlink\" title=\"这是我的第一篇博客文章\"></a>这是我的第一篇博客文章</h1><p>欢迎来到我的博客！这是我第一次写博客，所以我想简单介绍一下自己和这个博客。</p>","more":"<p>我是一名软件工程师，我喜欢编写代码和学习新技术。我在这个博客上将分享我的经验和教训，希望能够帮助其他人在他们的职业生涯中取得成功。</p>\n<p>在这个博客上，我将分享我对软件开发、编程和技术的看法，以及我在开发过程中所遇到的一些有趣的问题和解决方案。我会在这里发布一些教程和指南，帮助读者更好地理解和应用新技术。</p>\n<p>如果您对这个博客或我的文章有任何意见或建议，欢迎随时联系我。我期待着与您建立联系，分享更多关于软件开发和技术的经验和教训。</p>\n<p>谢谢您的访问，希望您喜欢我的博客！</p>"},{"title":"TypeScript 和 React 开发中的心得","date":"2022-04-17T07:23:00.000Z","_content":"\n在我最近的项目中，我使用 Typescript 和 React 进行开发，期间遇到了一些问题。我在这里记录下来，希望能对遇到相似问题的开发者有所帮助。\n\n<!-- more -->\n\n## 1. 类型定义问题\n\n在使用 Typescript 进行 React 开发时，最常遇到的问题就是类型定义的问题。例如，在定义组件 Props 时，需要使用 `React.FC`，但是 `React.FC` 的类型定义并不总是适用于所有情况。这时，需要手动定义 Props 的类型。\n\n解决方案：\n\n使用泛型来手动定义 Props 的类型。例如，对于一个名为 `MyComponent` 的组件，可以这样定义 Props 类型：\n\n```\ntsxCopy code\ninterface MyComponentProps {\n  name: string;\n  age: number;\n}\n\nconst MyComponent: React.FC<MyComponentProps> = ({ name, age }) => {\n  // ...\n}\n```\n\n这样，就可以在组件中使用 `name` 和 `age` 属性，同时也能够获得 Typescript 的类型检查。\n\n## 2. 路由配置问题\n\n在使用 React Router 进行路由配置时，经常会遇到页面跳转后无法正确渲染组件的问题。这通常是由于路由配置不正确导致的。\n\n解决方案：\n\n可以在路由配置时，使用 `<Switch>` 组件来确保只有一个路由能够被匹配到。例如：\n\n```\ntsxCopy code\nimport { Switch, Route } from 'react-router-dom';\n\nconst App: React.FC = () => {\n  return (\n    <Switch>\n      <Route exact path=\"/\" component={HomePage} />\n      <Route path=\"/about\" component={AboutPage} />\n      <Route path=\"/contact\" component={ContactPage} />\n      <Route path=\"*\" component={NotFoundPage} />\n    </Switch>\n  );\n};\n```\n\n这样，只有一个路由能够被匹配到，确保了页面跳转后组件能够正确地渲染。\n\n## 3. 状态管理问题\n\n在大型应用程序中，状态管理是一个非常重要的问题。在使用 React 进行开发时，通常会选择使用 Redux 进行状态管理。然而，Redux 的使用可能会带来一些问题，例如：冗长的代码、过多的 boilerplate 等。\n\n解决方案：\n\n使用类似于 React Hooks 的方式来简化 Redux 的使用。例如，使用 `useSelector` 和 `useDispatch` 来替代 `mapStateToProps` 和 `mapDispatchToProps`。这样，我们就可以使用更简洁的代码来管理状态。\n\n```\ntsxCopy code\nimport { useSelector, useDispatch } from 'react-redux';\nimport { RootState } from 'store';\n\nconst MyComponent: React.FC = () => {\n  const dispatch = useDispatch();\n  const count = useSelector((state: RootState) => state.count);\n\n  const handleClick = () => {\n    dispatch({ type: 'INCREMENT' });\n  };\n```\n\n使用 Redux 或 MobX 等状态管理工具来帮助我们管理应用程序中的状态。这些工具可以帮助创建一个单一的状态源，从而使状态更易于管理和维护。\n\n下面是一个使用 Redux 和 TypeScript 的代码示例，它实现了一个简单的计数器：\n\n```\ntypescriptCopy code\nimport { createStore } from 'redux';\n\ninterface AppState {\n  count: number;\n}\n\ninterface IncrementAction {\n  type: 'INCREMENT';\n}\n\ninterface DecrementAction {\n  type: 'DECREMENT';\n}\n\ntype AppAction = IncrementAction | DecrementAction;\n\nconst initialState: AppState = {\n  count: 0,\n};\n\nfunction appReducer(state = initialState, action: AppAction): AppState {\n  switch (action.type) {\n    case 'INCREMENT':\n      return {\n        ...state,\n        count: state.count + 1,\n      };\n    case 'DECREMENT':\n      return {\n        ...state,\n        count: state.count - 1,\n      };\n    default:\n      return state;\n  }\n}\n\nconst store = createStore(appReducer);\n\n// dispatch an action\nstore.dispatch({ type: 'INCREMENT' });\n\n// get the current state\nconst state = store.getState();\n\nconsole.log(state); // { count: 1 }\n```\n\n定义了一个 AppState 接口来描述我们的应用程序状态。定义了两个操作，即 IncrementAction 和 DecrementAction 接口，用于增加和减少计数器，还定义了一个 AppAction 类型，该类型是这两个操作的联合类型。\n\n定义了一个初始状态 initialState 和一个 appReducer 函数，该函数接受当前状态和一个操作，并返回新的状态。最后创建 store，并使用 store.dispatch 方法来分派一个操作，并使用 store.getState 方法来获取当前状态。\n\n除了状态管理工具之外，还可以使用一些数据流控制模式，例如单向数据流和控制反转。这些模式可以帮助我更好地组织和管理我们的代码，从而使其更易于维护和扩展。下面是一个使用单向数据流的代码示例：\n\n```\ntypescriptCopy code\nimport React, { useState } from 'react';\n\ninterface Props {\n  initialCount: number;\n}\n\nfunction Counter({ initialCount }: Props) {\n  const [count, setCount] = useState(initialCount);\n\n  const increment = () => {\n    setCount(count + 1);\n  };\n\n  const decrement = () => {\n    setCount(count - 1);\n  };\n\n  return (\n    <div>\n      <p>Count: {count}</p>\n      <button onClick={increment}>+</button>\n      <button onClick={decrement}>-</button>\n    </div>\n  );\n}\n\nexport default Counter;\n```\n\n","source":"_posts/Typescript + React 开发中遇到的问题及解决方案.md","raw":"---\ntitle: TypeScript 和 React 开发中的心得 \ndate:  2022-04-17 15:23:00 \ntags:\n- Typescript\n- React\ncategories: \n- 技术分享\n---\n\n在我最近的项目中，我使用 Typescript 和 React 进行开发，期间遇到了一些问题。我在这里记录下来，希望能对遇到相似问题的开发者有所帮助。\n\n<!-- more -->\n\n## 1. 类型定义问题\n\n在使用 Typescript 进行 React 开发时，最常遇到的问题就是类型定义的问题。例如，在定义组件 Props 时，需要使用 `React.FC`，但是 `React.FC` 的类型定义并不总是适用于所有情况。这时，需要手动定义 Props 的类型。\n\n解决方案：\n\n使用泛型来手动定义 Props 的类型。例如，对于一个名为 `MyComponent` 的组件，可以这样定义 Props 类型：\n\n```\ntsxCopy code\ninterface MyComponentProps {\n  name: string;\n  age: number;\n}\n\nconst MyComponent: React.FC<MyComponentProps> = ({ name, age }) => {\n  // ...\n}\n```\n\n这样，就可以在组件中使用 `name` 和 `age` 属性，同时也能够获得 Typescript 的类型检查。\n\n## 2. 路由配置问题\n\n在使用 React Router 进行路由配置时，经常会遇到页面跳转后无法正确渲染组件的问题。这通常是由于路由配置不正确导致的。\n\n解决方案：\n\n可以在路由配置时，使用 `<Switch>` 组件来确保只有一个路由能够被匹配到。例如：\n\n```\ntsxCopy code\nimport { Switch, Route } from 'react-router-dom';\n\nconst App: React.FC = () => {\n  return (\n    <Switch>\n      <Route exact path=\"/\" component={HomePage} />\n      <Route path=\"/about\" component={AboutPage} />\n      <Route path=\"/contact\" component={ContactPage} />\n      <Route path=\"*\" component={NotFoundPage} />\n    </Switch>\n  );\n};\n```\n\n这样，只有一个路由能够被匹配到，确保了页面跳转后组件能够正确地渲染。\n\n## 3. 状态管理问题\n\n在大型应用程序中，状态管理是一个非常重要的问题。在使用 React 进行开发时，通常会选择使用 Redux 进行状态管理。然而，Redux 的使用可能会带来一些问题，例如：冗长的代码、过多的 boilerplate 等。\n\n解决方案：\n\n使用类似于 React Hooks 的方式来简化 Redux 的使用。例如，使用 `useSelector` 和 `useDispatch` 来替代 `mapStateToProps` 和 `mapDispatchToProps`。这样，我们就可以使用更简洁的代码来管理状态。\n\n```\ntsxCopy code\nimport { useSelector, useDispatch } from 'react-redux';\nimport { RootState } from 'store';\n\nconst MyComponent: React.FC = () => {\n  const dispatch = useDispatch();\n  const count = useSelector((state: RootState) => state.count);\n\n  const handleClick = () => {\n    dispatch({ type: 'INCREMENT' });\n  };\n```\n\n使用 Redux 或 MobX 等状态管理工具来帮助我们管理应用程序中的状态。这些工具可以帮助创建一个单一的状态源，从而使状态更易于管理和维护。\n\n下面是一个使用 Redux 和 TypeScript 的代码示例，它实现了一个简单的计数器：\n\n```\ntypescriptCopy code\nimport { createStore } from 'redux';\n\ninterface AppState {\n  count: number;\n}\n\ninterface IncrementAction {\n  type: 'INCREMENT';\n}\n\ninterface DecrementAction {\n  type: 'DECREMENT';\n}\n\ntype AppAction = IncrementAction | DecrementAction;\n\nconst initialState: AppState = {\n  count: 0,\n};\n\nfunction appReducer(state = initialState, action: AppAction): AppState {\n  switch (action.type) {\n    case 'INCREMENT':\n      return {\n        ...state,\n        count: state.count + 1,\n      };\n    case 'DECREMENT':\n      return {\n        ...state,\n        count: state.count - 1,\n      };\n    default:\n      return state;\n  }\n}\n\nconst store = createStore(appReducer);\n\n// dispatch an action\nstore.dispatch({ type: 'INCREMENT' });\n\n// get the current state\nconst state = store.getState();\n\nconsole.log(state); // { count: 1 }\n```\n\n定义了一个 AppState 接口来描述我们的应用程序状态。定义了两个操作，即 IncrementAction 和 DecrementAction 接口，用于增加和减少计数器，还定义了一个 AppAction 类型，该类型是这两个操作的联合类型。\n\n定义了一个初始状态 initialState 和一个 appReducer 函数，该函数接受当前状态和一个操作，并返回新的状态。最后创建 store，并使用 store.dispatch 方法来分派一个操作，并使用 store.getState 方法来获取当前状态。\n\n除了状态管理工具之外，还可以使用一些数据流控制模式，例如单向数据流和控制反转。这些模式可以帮助我更好地组织和管理我们的代码，从而使其更易于维护和扩展。下面是一个使用单向数据流的代码示例：\n\n```\ntypescriptCopy code\nimport React, { useState } from 'react';\n\ninterface Props {\n  initialCount: number;\n}\n\nfunction Counter({ initialCount }: Props) {\n  const [count, setCount] = useState(initialCount);\n\n  const increment = () => {\n    setCount(count + 1);\n  };\n\n  const decrement = () => {\n    setCount(count - 1);\n  };\n\n  return (\n    <div>\n      <p>Count: {count}</p>\n      <button onClick={increment}>+</button>\n      <button onClick={decrement}>-</button>\n    </div>\n  );\n}\n\nexport default Counter;\n```\n\n","slug":"Typescript + React 开发中遇到的问题及解决方案","published":1,"updated":"2023-04-19T10:51:11.503Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clgz2pfey000hdl5zekzneoid","content":"<p>在我最近的项目中，我使用 Typescript 和 React 进行开发，期间遇到了一些问题。我在这里记录下来，希望能对遇到相似问题的开发者有所帮助。</p>\n<span id=\"more\"></span>\n\n<h2 id=\"1-类型定义问题\"><a href=\"#1-类型定义问题\" class=\"headerlink\" title=\"1. 类型定义问题\"></a>1. 类型定义问题</h2><p>在使用 Typescript 进行 React 开发时，最常遇到的问题就是类型定义的问题。例如，在定义组件 Props 时，需要使用 <code>React.FC</code>，但是 <code>React.FC</code> 的类型定义并不总是适用于所有情况。这时，需要手动定义 Props 的类型。</p>\n<p>解决方案：</p>\n<p>使用泛型来手动定义 Props 的类型。例如，对于一个名为 <code>MyComponent</code> 的组件，可以这样定义 Props 类型：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">tsxCopy code</span><br><span class=\"line\">interface MyComponentProps &#123;</span><br><span class=\"line\">  name: string;</span><br><span class=\"line\">  age: number;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">const MyComponent: React.FC&lt;MyComponentProps&gt; = (&#123; name, age &#125;) =&gt; &#123;</span><br><span class=\"line\">  // ...</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>这样，就可以在组件中使用 <code>name</code> 和 <code>age</code> 属性，同时也能够获得 Typescript 的类型检查。</p>\n<h2 id=\"2-路由配置问题\"><a href=\"#2-路由配置问题\" class=\"headerlink\" title=\"2. 路由配置问题\"></a>2. 路由配置问题</h2><p>在使用 React Router 进行路由配置时，经常会遇到页面跳转后无法正确渲染组件的问题。这通常是由于路由配置不正确导致的。</p>\n<p>解决方案：</p>\n<p>可以在路由配置时，使用 <code>&lt;Switch&gt;</code> 组件来确保只有一个路由能够被匹配到。例如：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">tsxCopy code</span><br><span class=\"line\">import &#123; Switch, Route &#125; from &#x27;react-router-dom&#x27;;</span><br><span class=\"line\"></span><br><span class=\"line\">const App: React.FC = () =&gt; &#123;</span><br><span class=\"line\">  return (</span><br><span class=\"line\">    &lt;Switch&gt;</span><br><span class=\"line\">      &lt;Route exact path=&quot;/&quot; component=&#123;HomePage&#125; /&gt;</span><br><span class=\"line\">      &lt;Route path=&quot;/about&quot; component=&#123;AboutPage&#125; /&gt;</span><br><span class=\"line\">      &lt;Route path=&quot;/contact&quot; component=&#123;ContactPage&#125; /&gt;</span><br><span class=\"line\">      &lt;Route path=&quot;*&quot; component=&#123;NotFoundPage&#125; /&gt;</span><br><span class=\"line\">    &lt;/Switch&gt;</span><br><span class=\"line\">  );</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p>这样，只有一个路由能够被匹配到，确保了页面跳转后组件能够正确地渲染。</p>\n<h2 id=\"3-状态管理问题\"><a href=\"#3-状态管理问题\" class=\"headerlink\" title=\"3. 状态管理问题\"></a>3. 状态管理问题</h2><p>在大型应用程序中，状态管理是一个非常重要的问题。在使用 React 进行开发时，通常会选择使用 Redux 进行状态管理。然而，Redux 的使用可能会带来一些问题，例如：冗长的代码、过多的 boilerplate 等。</p>\n<p>解决方案：</p>\n<p>使用类似于 React Hooks 的方式来简化 Redux 的使用。例如，使用 <code>useSelector</code> 和 <code>useDispatch</code> 来替代 <code>mapStateToProps</code> 和 <code>mapDispatchToProps</code>。这样，我们就可以使用更简洁的代码来管理状态。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">tsxCopy code</span><br><span class=\"line\">import &#123; useSelector, useDispatch &#125; from &#x27;react-redux&#x27;;</span><br><span class=\"line\">import &#123; RootState &#125; from &#x27;store&#x27;;</span><br><span class=\"line\"></span><br><span class=\"line\">const MyComponent: React.FC = () =&gt; &#123;</span><br><span class=\"line\">  const dispatch = useDispatch();</span><br><span class=\"line\">  const count = useSelector((state: RootState) =&gt; state.count);</span><br><span class=\"line\"></span><br><span class=\"line\">  const handleClick = () =&gt; &#123;</span><br><span class=\"line\">    dispatch(&#123; type: &#x27;INCREMENT&#x27; &#125;);</span><br><span class=\"line\">  &#125;;</span><br></pre></td></tr></table></figure>\n\n<p>使用 Redux 或 MobX 等状态管理工具来帮助我们管理应用程序中的状态。这些工具可以帮助创建一个单一的状态源，从而使状态更易于管理和维护。</p>\n<p>下面是一个使用 Redux 和 TypeScript 的代码示例，它实现了一个简单的计数器：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">typescriptCopy code</span><br><span class=\"line\">import &#123; createStore &#125; from &#x27;redux&#x27;;</span><br><span class=\"line\"></span><br><span class=\"line\">interface AppState &#123;</span><br><span class=\"line\">  count: number;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">interface IncrementAction &#123;</span><br><span class=\"line\">  type: &#x27;INCREMENT&#x27;;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">interface DecrementAction &#123;</span><br><span class=\"line\">  type: &#x27;DECREMENT&#x27;;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">type AppAction = IncrementAction | DecrementAction;</span><br><span class=\"line\"></span><br><span class=\"line\">const initialState: AppState = &#123;</span><br><span class=\"line\">  count: 0,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">function appReducer(state = initialState, action: AppAction): AppState &#123;</span><br><span class=\"line\">  switch (action.type) &#123;</span><br><span class=\"line\">    case &#x27;INCREMENT&#x27;:</span><br><span class=\"line\">      return &#123;</span><br><span class=\"line\">        ...state,</span><br><span class=\"line\">        count: state.count + 1,</span><br><span class=\"line\">      &#125;;</span><br><span class=\"line\">    case &#x27;DECREMENT&#x27;:</span><br><span class=\"line\">      return &#123;</span><br><span class=\"line\">        ...state,</span><br><span class=\"line\">        count: state.count - 1,</span><br><span class=\"line\">      &#125;;</span><br><span class=\"line\">    default:</span><br><span class=\"line\">      return state;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">const store = createStore(appReducer);</span><br><span class=\"line\"></span><br><span class=\"line\">// dispatch an action</span><br><span class=\"line\">store.dispatch(&#123; type: &#x27;INCREMENT&#x27; &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">// get the current state</span><br><span class=\"line\">const state = store.getState();</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(state); // &#123; count: 1 &#125;</span><br></pre></td></tr></table></figure>\n\n<p>定义了一个 AppState 接口来描述我们的应用程序状态。定义了两个操作，即 IncrementAction 和 DecrementAction 接口，用于增加和减少计数器，还定义了一个 AppAction 类型，该类型是这两个操作的联合类型。</p>\n<p>定义了一个初始状态 initialState 和一个 appReducer 函数，该函数接受当前状态和一个操作，并返回新的状态。最后创建 store，并使用 store.dispatch 方法来分派一个操作，并使用 store.getState 方法来获取当前状态。</p>\n<p>除了状态管理工具之外，还可以使用一些数据流控制模式，例如单向数据流和控制反转。这些模式可以帮助我更好地组织和管理我们的代码，从而使其更易于维护和扩展。下面是一个使用单向数据流的代码示例：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">typescriptCopy code</span><br><span class=\"line\">import React, &#123; useState &#125; from &#x27;react&#x27;;</span><br><span class=\"line\"></span><br><span class=\"line\">interface Props &#123;</span><br><span class=\"line\">  initialCount: number;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">function Counter(&#123; initialCount &#125;: Props) &#123;</span><br><span class=\"line\">  const [count, setCount] = useState(initialCount);</span><br><span class=\"line\"></span><br><span class=\"line\">  const increment = () =&gt; &#123;</span><br><span class=\"line\">    setCount(count + 1);</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">  const decrement = () =&gt; &#123;</span><br><span class=\"line\">    setCount(count - 1);</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">  return (</span><br><span class=\"line\">    &lt;div&gt;</span><br><span class=\"line\">      &lt;p&gt;Count: &#123;count&#125;&lt;/p&gt;</span><br><span class=\"line\">      &lt;button onClick=&#123;increment&#125;&gt;+&lt;/button&gt;</span><br><span class=\"line\">      &lt;button onClick=&#123;decrement&#125;&gt;-&lt;/button&gt;</span><br><span class=\"line\">    &lt;/div&gt;</span><br><span class=\"line\">  );</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">export default Counter;</span><br></pre></td></tr></table></figure>\n\n","site":{"data":{}},"excerpt":"<p>在我最近的项目中，我使用 Typescript 和 React 进行开发，期间遇到了一些问题。我在这里记录下来，希望能对遇到相似问题的开发者有所帮助。</p>","more":"<h2 id=\"1-类型定义问题\"><a href=\"#1-类型定义问题\" class=\"headerlink\" title=\"1. 类型定义问题\"></a>1. 类型定义问题</h2><p>在使用 Typescript 进行 React 开发时，最常遇到的问题就是类型定义的问题。例如，在定义组件 Props 时，需要使用 <code>React.FC</code>，但是 <code>React.FC</code> 的类型定义并不总是适用于所有情况。这时，需要手动定义 Props 的类型。</p>\n<p>解决方案：</p>\n<p>使用泛型来手动定义 Props 的类型。例如，对于一个名为 <code>MyComponent</code> 的组件，可以这样定义 Props 类型：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">tsxCopy code</span><br><span class=\"line\">interface MyComponentProps &#123;</span><br><span class=\"line\">  name: string;</span><br><span class=\"line\">  age: number;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">const MyComponent: React.FC&lt;MyComponentProps&gt; = (&#123; name, age &#125;) =&gt; &#123;</span><br><span class=\"line\">  // ...</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>这样，就可以在组件中使用 <code>name</code> 和 <code>age</code> 属性，同时也能够获得 Typescript 的类型检查。</p>\n<h2 id=\"2-路由配置问题\"><a href=\"#2-路由配置问题\" class=\"headerlink\" title=\"2. 路由配置问题\"></a>2. 路由配置问题</h2><p>在使用 React Router 进行路由配置时，经常会遇到页面跳转后无法正确渲染组件的问题。这通常是由于路由配置不正确导致的。</p>\n<p>解决方案：</p>\n<p>可以在路由配置时，使用 <code>&lt;Switch&gt;</code> 组件来确保只有一个路由能够被匹配到。例如：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">tsxCopy code</span><br><span class=\"line\">import &#123; Switch, Route &#125; from &#x27;react-router-dom&#x27;;</span><br><span class=\"line\"></span><br><span class=\"line\">const App: React.FC = () =&gt; &#123;</span><br><span class=\"line\">  return (</span><br><span class=\"line\">    &lt;Switch&gt;</span><br><span class=\"line\">      &lt;Route exact path=&quot;/&quot; component=&#123;HomePage&#125; /&gt;</span><br><span class=\"line\">      &lt;Route path=&quot;/about&quot; component=&#123;AboutPage&#125; /&gt;</span><br><span class=\"line\">      &lt;Route path=&quot;/contact&quot; component=&#123;ContactPage&#125; /&gt;</span><br><span class=\"line\">      &lt;Route path=&quot;*&quot; component=&#123;NotFoundPage&#125; /&gt;</span><br><span class=\"line\">    &lt;/Switch&gt;</span><br><span class=\"line\">  );</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p>这样，只有一个路由能够被匹配到，确保了页面跳转后组件能够正确地渲染。</p>\n<h2 id=\"3-状态管理问题\"><a href=\"#3-状态管理问题\" class=\"headerlink\" title=\"3. 状态管理问题\"></a>3. 状态管理问题</h2><p>在大型应用程序中，状态管理是一个非常重要的问题。在使用 React 进行开发时，通常会选择使用 Redux 进行状态管理。然而，Redux 的使用可能会带来一些问题，例如：冗长的代码、过多的 boilerplate 等。</p>\n<p>解决方案：</p>\n<p>使用类似于 React Hooks 的方式来简化 Redux 的使用。例如，使用 <code>useSelector</code> 和 <code>useDispatch</code> 来替代 <code>mapStateToProps</code> 和 <code>mapDispatchToProps</code>。这样，我们就可以使用更简洁的代码来管理状态。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">tsxCopy code</span><br><span class=\"line\">import &#123; useSelector, useDispatch &#125; from &#x27;react-redux&#x27;;</span><br><span class=\"line\">import &#123; RootState &#125; from &#x27;store&#x27;;</span><br><span class=\"line\"></span><br><span class=\"line\">const MyComponent: React.FC = () =&gt; &#123;</span><br><span class=\"line\">  const dispatch = useDispatch();</span><br><span class=\"line\">  const count = useSelector((state: RootState) =&gt; state.count);</span><br><span class=\"line\"></span><br><span class=\"line\">  const handleClick = () =&gt; &#123;</span><br><span class=\"line\">    dispatch(&#123; type: &#x27;INCREMENT&#x27; &#125;);</span><br><span class=\"line\">  &#125;;</span><br></pre></td></tr></table></figure>\n\n<p>使用 Redux 或 MobX 等状态管理工具来帮助我们管理应用程序中的状态。这些工具可以帮助创建一个单一的状态源，从而使状态更易于管理和维护。</p>\n<p>下面是一个使用 Redux 和 TypeScript 的代码示例，它实现了一个简单的计数器：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">typescriptCopy code</span><br><span class=\"line\">import &#123; createStore &#125; from &#x27;redux&#x27;;</span><br><span class=\"line\"></span><br><span class=\"line\">interface AppState &#123;</span><br><span class=\"line\">  count: number;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">interface IncrementAction &#123;</span><br><span class=\"line\">  type: &#x27;INCREMENT&#x27;;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">interface DecrementAction &#123;</span><br><span class=\"line\">  type: &#x27;DECREMENT&#x27;;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">type AppAction = IncrementAction | DecrementAction;</span><br><span class=\"line\"></span><br><span class=\"line\">const initialState: AppState = &#123;</span><br><span class=\"line\">  count: 0,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">function appReducer(state = initialState, action: AppAction): AppState &#123;</span><br><span class=\"line\">  switch (action.type) &#123;</span><br><span class=\"line\">    case &#x27;INCREMENT&#x27;:</span><br><span class=\"line\">      return &#123;</span><br><span class=\"line\">        ...state,</span><br><span class=\"line\">        count: state.count + 1,</span><br><span class=\"line\">      &#125;;</span><br><span class=\"line\">    case &#x27;DECREMENT&#x27;:</span><br><span class=\"line\">      return &#123;</span><br><span class=\"line\">        ...state,</span><br><span class=\"line\">        count: state.count - 1,</span><br><span class=\"line\">      &#125;;</span><br><span class=\"line\">    default:</span><br><span class=\"line\">      return state;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">const store = createStore(appReducer);</span><br><span class=\"line\"></span><br><span class=\"line\">// dispatch an action</span><br><span class=\"line\">store.dispatch(&#123; type: &#x27;INCREMENT&#x27; &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">// get the current state</span><br><span class=\"line\">const state = store.getState();</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(state); // &#123; count: 1 &#125;</span><br></pre></td></tr></table></figure>\n\n<p>定义了一个 AppState 接口来描述我们的应用程序状态。定义了两个操作，即 IncrementAction 和 DecrementAction 接口，用于增加和减少计数器，还定义了一个 AppAction 类型，该类型是这两个操作的联合类型。</p>\n<p>定义了一个初始状态 initialState 和一个 appReducer 函数，该函数接受当前状态和一个操作，并返回新的状态。最后创建 store，并使用 store.dispatch 方法来分派一个操作，并使用 store.getState 方法来获取当前状态。</p>\n<p>除了状态管理工具之外，还可以使用一些数据流控制模式，例如单向数据流和控制反转。这些模式可以帮助我更好地组织和管理我们的代码，从而使其更易于维护和扩展。下面是一个使用单向数据流的代码示例：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">typescriptCopy code</span><br><span class=\"line\">import React, &#123; useState &#125; from &#x27;react&#x27;;</span><br><span class=\"line\"></span><br><span class=\"line\">interface Props &#123;</span><br><span class=\"line\">  initialCount: number;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">function Counter(&#123; initialCount &#125;: Props) &#123;</span><br><span class=\"line\">  const [count, setCount] = useState(initialCount);</span><br><span class=\"line\"></span><br><span class=\"line\">  const increment = () =&gt; &#123;</span><br><span class=\"line\">    setCount(count + 1);</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">  const decrement = () =&gt; &#123;</span><br><span class=\"line\">    setCount(count - 1);</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">  return (</span><br><span class=\"line\">    &lt;div&gt;</span><br><span class=\"line\">      &lt;p&gt;Count: &#123;count&#125;&lt;/p&gt;</span><br><span class=\"line\">      &lt;button onClick=&#123;increment&#125;&gt;+&lt;/button&gt;</span><br><span class=\"line\">      &lt;button onClick=&#123;decrement&#125;&gt;-&lt;/button&gt;</span><br><span class=\"line\">    &lt;/div&gt;</span><br><span class=\"line\">  );</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">export default Counter;</span><br></pre></td></tr></table></figure>"},{"title":"java菜鸟记","date":"2021-01-03T04:00:01.000Z","_content":"\n##  java\n\n 三元运算符可以嵌套\n\n### 位运算符\n\n操作的是整形的数据\n\n<<:在一定范围内,每向左移一位,相当于 *2\n\n> 最高效计算2*8. --> 2 << 3. //  8 << 1;\n\n### 数组\n\n​\tequal\n\nfill\n\nsort\n\ntoString\n\nbinarySearch\n\n### 构造器(constructor)\n\n如果没有显示的定义累的构造器的话 系统默认提供一个空参构造器/\n\n### 方法调用时的内存分配 \n\n#### 内存何时分配\n\n方法只有被调用时，在JVM中会给该方法分配“运行所属“内存空间。\n\n#### JVM内存划分的三块主要空间\n\n- **方法区内存**（代码片段）\n- 堆内存\n- 栈内存(分配方法运行的所属内存空间)\n\n#### 数据结构——“栈”\n\n- 栈针永远指向栈顶元素\n\n- 异常 需要注意的问题 需 要按照类型的要求输入,很具相应的方法,吐过输入的数据类型月要皮球的数据类型不匹配时没汇报一导致程序\n\n- 栈顶元素处于活跃，其他元素静止\n\n- 术语\n\n  - 入栈/压栈/push\n  - 弹栈/出栈/pop\n\n- **先进后出 后进先出**\n\n  main进->m1进->m2进->m2出->m1出->main出\n\n#### 方法代码片段的存储\n\n1. 方法代码片段属于.class字节码文件的一部分，字节码文件在（classLoader加载器寻找HelloWorld.class）类加载的时候，将其放到了方法去中。所以JVM中的三块主要的内存空间中**方法区内存**最先有数据，存放了代码片段。\n2. 代码片段虽然在方法区内存当中只有一份，但是可以被重复调用。每次调用这个方法的时候需要给该方法分配**独立的活动场所**，在栈内存中分配。\n3. 方法调用，给方法分配内存，压栈；方法结束之后，释放分配内存，弹栈\n\n### 类与对象\n\n类描述对象的共同特征\n\n**类描述的是 状态和动作**（属性+方法）\n\n#### 类的定义\n\n类{\n\n 状态：属性\n\n 动作：方法；\n\n}\n\n```java\n//学生类\npublic class Student{\n\t//属性【描述对象的状态信息】\n\t//属性一般是通过变量的形式完成定义的（int String boolean）\n\t//在类体中，方法体之外定义的变量被称为“成员变量”\n  \n\t//学号\n\tint no;\n\t//姓名\n\tString name;\n\t//年龄\n  int age;\n\t\n\t//方法\n  //方法买哦书的是对象的动作信息\n  \n  //唱歌\n  \n  //跳舞\n  \n}\n```\n\n##### java两种数据类型\n\n1. 基本数据类型\n\n   short\n\n   long\n\n   int\n\n   boolean\n\n   String\n\n   char\n\n2. 引用数据类型\n\n   String.class SUN公司定义\n\n   System.class SUN公司定义\n\n   Student.class 我定义\n\n   MingShen.class 我定义\n\n   ....\n\n   **java中所有的类都为引用数据类型**\n\n#### 对象的创建和使用 \n\n```java\npublic class OOtest01{\t\n  public static void main(String[] args){\n    //int 是基本数据类型\n    //i 是变量名\n    //10 是一个int类型的字面值\n    int i = 10;\n    \n    //通过一个类可以实例化N个对象\n\t\t//实例化对象语法 new 类名（）；\n\t\t//new运算符作用是创建对象，在JVM中\n    //new运算符的作用是创建对象，在JVM堆内存中开辟新的内存空间\n    //方法区内存：再类加载的时候，clss字节码代码片段被加载到内存空间当中\n    //栈内存（局部变量）：方法代码片段执行的时候，会给该方法分配内存空间，在栈内存中压栈\n    //堆内存：new studeng（）；\n    \n    //Student 是引用数据类型\n    //s 是变量名\n    //new Student是一个学生对象\n    Student s = new Student();\n    \n  }\n}\n```\n\n**当程序执行到new时的内存图如下**\n\n![image-20210527190012042](/image/image-20210527190012042.png)\n\n\n\nNon, age, sex, name, addr都是**实例变量**\n\nstudent这个new出来的对象的**内存地址**给了s，s时**局部变量**，s为**引用**\n\n什么是对象？new运算符在堆内存中开辟的内存空间称为对象\n\n什么是引用？引用是一个变量，只不过这个变量中保存了另一个java对象的内存地址\n\njava语言当中程序员只能通过“引用”去访问对内存当中对象内部的实例变量\n\n\n\n访问实例变量的内存数据\n\n读取数据：引用.变量名  \n\n修改数据：引用.变量名 = 值\n\n```java\n\tint StuNo = s.no;\n\tint StuAge = s.Age；//读取\n  s.no = 10;\n  s.name = \"MingShen\";\n  s.age = 10;//会把堆内存的内存值改了\n  Student stu = new Student();//再次new对象 stu是引用\n```\n\n![image-20210527193017688](/image/image-20210527193017688.png)\n\n局部变量在栈内存中储存\n\n成员变量中的实例变量在堆内存的java对象内部储存\n\n实例变量是一个对象一份，100个对象有100份\n\n```java\nSystem.out.printIn(stu.age);//10\nSystem.out.printIn(student.no);//报错\n```\n\n报错因为no这个实例变量不能直接采用“类名”的方式访问\n\n因为no是实例变量，对象级别的变量，变量储存在Java对象内部，必须先有对象通过对象才能访问no这个实例变量，不能直接通过“类名”\n\n\n\n成员变量没有手动赋值，系统赋默认值\n\n| 数据类型                  |               |\n| ------------------------- | ------------- |\n| byte， short， int， long | 0             |\n| float，double             | 0.0           |\n| char                      | \\u000         |\n| 引用数据类型              | null （空值） |\n|                           |               |\n|                           |               |\n\n\n\n```java\npublic class Address{\n  String city;\n  String street;\n  String zipcode;\n}\n\n```\n\n```java\npublic class User{\n  //属性【以下都是成员变量之实例变量】\n  int no;//int基本数据类型，no是实例变量\n  String name;//String引用数据类型，name是引用满是实例变量\n  Address addr;//Address引用数据类型，addr是引用\n}\n```\n\n```java\npublic class OOTest02\n{\n  public static void main(String[] args){\n    //创建User对象\n    //u是局部变量\n    //u是一个引用 \n    //u保存内存地址指向堆内存的User对象\n    User u = new User()；//（从右往前）\n    u.no = 110;\n    u.name = \"jack\";//字符串比较特殊不用new，jack是一个Java对象，属于String对象\n    u.addr = new Address();//等号右边先执行，Address对象三个none、none、none\n    \n    //main方法只有一个引用u\n    //一切只能通过u来访问\n    System.out.println(u.name + \"居住在\" + u.addr.city);\n  }\n}\n```\n\n\n\n![image-20210527194926715](/image/image-20210527194926715.png)\n\n![image-20210527195317973](/image/image-20210527195317973.png)\n\n**找出所有引用**\n\n![image-20210527195451792](/image/image-20210527195451792.png)\n\n空引用访问“实例”相关数据一定会造成空指针异常 NullPointerException\n\n实例相关数据表示访问时必须有对象参与\n\n### 类怎么定义\n\n[修饰符列表]class 类名{\n\n  属性；\n\n  方法；\n\n}\n\n现实世界当中超市中的商品，发现这所有的商品都要有一些共同的特征，例如，每一个商品都有编号，每一个商品都有单价，所以定义以下的类，来代表所有商品。\n\n```java\npublic class Product{//为什么要写class？因为要做超市的管理系统，超市有商品，商品有共同的特征，想到了编号，单价，所以利用基本数据类型（int double），定义了两个变量。\n\t//编号【数字，整数】\n  int productNo;\n  //productNo是基本数据类型\n  //单价【数字，小数】\n  double price;\n  //price 是基本数据类型\n  \n  Student s= null;\n}\nProduct pro = new Product{};//实例变量需要new出来才能引用，引用方式如下\npro.price = 0x1123123;//访问 可以（读一读）（改一改）\n```\n\n**product是实例变量，下面对他进行访问**\n\n```java\npublic class ProductTest{\n  public static void main(string[] args){\n    //创建对象，商品对象\n    //iphoneProMax局部变量\n    //iphoneProMax引用\n    //iphoneProMax变量中保存内存地址指向堆内存当中的商品对象\n    Product iphoneProMax = new Product();\n    //访问实例变量的语法： 引用.变量名\n    System.out.printIn(\"商品编号：\"+iphoneProMax.productNo);\n    iphoneProMax.price = 8000.0；\n    System.out.println(\"商品单价：\"+iphoneProMax.price);\n  }\n\n```\n\n\n\n```java\n/*\n\t要求定义一个汽车类\n\t\t*品牌：字符串\n\t\t*颜色：字符串\n\t\t*号牌：字符串\n\t\t*购买总价：浮点型数据\n*/\npublic class Car{\n  //属性【成员变量之：实例变量】\n  //总价\n  基本数据类型\n  double price;\n  //品牌\n  引用数据类型\n  String brand;\n  //颜色\n  //引用数据类型\n  String color;\n  //号牌\n  //引用数据类型\n  String No;\n}\n```\n\n```java\n/*\n\t房屋类(不太行)\n*/\npublic class house{\n  double proportion;\n  String owner;//想知道户主的身份信息，但是不能在下一行定义实例变量ID，会误解为房子的ID\n   \n}\n\n```\n\n```java\n/*\n\t房屋类（行）\n*/\npublic class house{\n  double proportion;\n  Person owner ;//new是个地址（其中就是联系电话、就是地址、就是各种信息）\n}\npublic class Person{\n  //名字\n  String name;\n  //身份证号\n  String id;\n  //性别\n  boolean sex;\n  //年龄\n  int age;\n  //妻子\n  Wife wife；\n}\n```\n\n### 封装\n\n1. 对外提供简单的操作入口，照相机原理很复杂，但是操作很简单\n2. 提高安全性\n3. 以后程序可以重服使用\n4. 封装后才形成真正的对象，“独立体”\n\n```java\npublic class User\n  public static void main()\n```\n\n#### 封装的步骤\n\n1. 属性私有化，是用private进行修饰，private表示私有，修饰后的所有数据只能在本类中访问。\n\n2. 对外提供简单的入口 \n\n   对外提供两个方法（get，set）\n\n#### 背会\n\nsette and getter方法没有static关键字\n\n有static关键字修饰的方法怎么调用：类 名.方法名（实参）；\n\n没有static关键字修饰的方法：引用.方法名（实参）\n\n```java\npublic class User{\n  private int age;\n  public void setAge(int a){\n  if(a < 0 || a >150 ){\n    System.out.println(\"对不起，您给的年龄不合法\")\n    return;\n  }\n  age = a;\n\t}\n \tpublic int getAge(){\n  return age;\n}\n}\n\n```\n\n封装之后\n\n```java\npublic class UserTest{\n  public static void main(String[] srgs){\n    User user = new User();\n    user.setAge(10);\n    System.out.println(user.getAge());\n  }\n}\n```\n\n#### 构造方法\n\n1. 构造方法又称构造函数，返回值类型不需要指定，加上void int 就变成普通方法了\n\n2. 构造方法的作用：通过方法的调用创建对象。\n\n3. 构造方法的方法名必须和类名保持一致\n\n4. 每个构造方法实际上执行结束之后都有返回值，但是这个return不需要写，返回值就是类本身\n\n5. [修饰符列表]构造方法方法名（形参数）\n\n   {方法体}；\n\n     } \n\n```java\npublic class ConstructorTest01{\n    public static void main(String[] args){\n        //创建User对象\n        //调用User类的构造方法来完成对象的创建\n        //以下程序创建了4个对象，只要构造函数调用就会查u你感觉爱你对象，并且在“堆内存”开辟内存空间\n\n        User u2 = new User(10);\n        User u3 = new User(\"gujm\");\n        ConstructorTest01.dosome();\n        dosome();\n        ConstructorTest01 t = new ConstructorTest01();\n        t.doOther();\n    }\n    //调用带有static的方法：类名\n    public static void dosome(){\n        System.out.println(\"do some!\");\n    }\n    //调用没有static的方法：引用\n    //doOther方法在ConstructorTest01类中，所以需要创建ConstructorTest01对象\n    //创建ConstructorTest01对象之后，调用无参数构造方法\n    public void  doOther(){\n        System.out.println(\"Do other!\");\n    }\n}\n```\n\n```java\npublic class User{\n\t\t\n    public User(int i){\n        System.out.println(\"带有int类型构造器\");\n    }\n    public User(String name){\n        System.out.println(\"带有String类型构造器\");\n    }\n}\n\n```\n\n构造方法作用：创造对象，给实例对象赋值\n\n```java\npublic class ConstructorTest01{\n    public static void main(String[] args) {\n        Account act1 = new Account();\n        act1.setActno(\"111\");\n        System.out.println(act1.getActno());\n        Account act2 = new Account(\"10\");\n        System.out.println(act2.getActno());\n        System.out.println(act1.getBalance());\n    }\n}\n```\n\n```java\npublic class Account {\n    private String actno;//实例变量，创建对象之后才会有实例变量，实例方法在构造方法过程中完成赋值\n    private double balance;\n    public String getActno() {\n        return actno;\n    }\n\n    public void setActno(String actno) {\n        this.actno = actno;\n    }\n\n    public double getBalance() {\n        return balance;\n    }\n\n    public void setBalance(double balance) {\n        this.balance = balance;\n    }\n    public Account(){\n        System.out.println(\"空参数方法\");\n    };\n    public Account(String s){\n        actno = s;\n    }\n\n}\n```\n\n### 参数传递\n\n传的永远是变量保存的值\n\n```java\npublic class ConstructorTest01{\n    public static void main(String[] args) {\n        User u = new User(20);\n      //User User = 0x1234\n      //传递u给add方法的时候，实际上传递的是u变量中保存的值，只不过这个值是一个java对象的内存地址\n        add(u);\n        System.out.println(u.age);\n    }\n    public static void add(User u){\n        u.age++;\n        System.out.println(\"add-->\" + u.age);\n    }\n    static class User{\n        int age;\n        public User(int i){\n            age = i;\n        }\n    }\n}\n```\n\n![image-20210620092032503](/image/image-20210620092032503.png)\n\n第二个例子\n\n```java\nUser u =0x1234;\nUser u1= u;//u传递给了u1，实际上是吧0x1234这个值赋值给了u1，u和u1实际上是两个不同的局部变量\n//但是他们的两个变量指向堆内存中同一个java对象\n```\n\n### this \n\n this 是一个 关键字，翻译为：这个，用在方法中\n\nthis是一个引用，this是一个变量，this变量中保存内存地址指向了自身，this储存子啊JVM堆内存java对象内部\n\n创建100个java对象，每个对象都有this，也就是说有100个不同的this\n\n**this代表当前正在做（执行实例方法）这个动作的对象**\n\n不能用在static方法中\n\n在static方法中不能“直接”访问实例变量 实例方法\n\n因为实例都需要对象存在\n\n而static中没有this，也就是说，当前对象是不存在的\n\n自然无法访问当前对象的实例方法\n\n **用来区分实例变量和局部变量时 this不能省** \n\n ```java\n\n ```\n\nthis（）这种语法只能放在构造方法第一行\n\n### static \n\n应该采用类名的方式访问，即使new了对象访问static方法，其本质也用的是类名，与引用指向的对象无关，哪怕（t = null）也不会出现空指针异常 \n\n ```java\npublic class Chinese{\n  private String id;\n  private String name;\n  //国籍每个对象由于都是Chinese类的实例化，所以每个中国人国籍都是Chinese\n  //实例对象在堆内存\n  //String country;//所以没必要定义为实例变量,没必要让每一个对象都占内存，改为下一行\n  static String country = \"中国\";//类级别特征，变量前加static，静态变量不需要创造对象，内存就开辟了，在方法区内存 \n}\n ```\n\n![image-20210624165417791](/image/image-20210624165417791.png)\n\n#### 什么时候成员变量申明为静态变量？\n\n所有的对象都有这个属性，并且所有对象的这个属性值一样\n\n#### 什么时候成员变量申明为静态变量？\n\n所有对象都有这个属性，不同对象值不同或属性值随对象值改变\n\n#### static使用方式\n\n静态变量在类加载的时候u初始化，内存在方法区开辟，访问时不需创造对象，直接**类名.变量名**\n\n\n\n#### 使用static定义“静态代码块”\n\n1.语法格式：\n\n​\tstatic {\n\n \t\t\tjava语句;\n\n​\t}\n\n2.静态代码在类加载时执行，并且只执行一次\n\n3.静态代码块在一个类中可以编写多个，从上往下\n\n4.静态代码块的作用？什么时候用\n\n​\t静态代码时java为程序员准备的一个特殊时刻，在类加载时刻，若需要此刻还在一段特殊程序，可以直接放到静态代码中\n\n#### 静态方法\n\n描述一个动作，所有对象执行这个动作最终产生的影响一样，不再属于某一个对象动作\n\n大多数“工具类”的方法都是静态方法，方便使用\n\n### 继承\n\n继承的基本作用：代码复用，但是继承最重要的作用时：有了继承才有了以后方法的覆盖和多态机制\n\n[修饰符列表]class 类名 extends 父类名{\n\n​\t类体 = 属性 + 方法\n\n}\n\njava语言的继承制支持单继承，一个类不能同时继承很多类，只能继承一个类。\n\nB类继承A类，A称为父类，基类，超类，superclass\n\n​\t\t\t\t\t\tB称为子类，派生类，subclass\n\n私有不支持继承，构造方法不支持继承\n\n### 方法覆盖\n\n又称方法重写override/Overwrite\n\n父类中的方法满足不了子类中的业务需求，有必要重写方法\n\n就是重新写一遍**完全一样复制**方法，方法区中代码自己改，方法名不变，返回类型不变，参数列表不变，抛出异常不能更低，不能更少，访问权限不能更低可以更高\n\nanimal.move();  cat extend animal;\n\n私有方法不能继承不能覆盖\n\n构造方法不能继承不能覆盖\n\n静态方法不存在覆盖（多态后）\n\n\n\n### 多态\n\nanimal/ bird /cat \n\ncat和bird没有任何继承关系\n\n面向对象三大特征：封装 继承 多态\n\n多态中涉及到的几个概念\n\n- 向上转型（upcasting）\n\n  子类型 --> 父类型\n\n  自动类型转换\n\n- 向下转型（downcasting）\n\n  父类型 --> 子类型\n\n  强制类型转换\n\n![image-20210625084016091](/image/image-20210625084016091.png)\n\n```java\npublic class Animal {\n    public void move(){\n        System.out.println(\"动物在行走\");\n    }\n}\n```\n\n```java\n public class Cat extends Animal{\n    public void move(){\n        System.out.println(\"猫在走猫步\");\n    }\n    public void catchMouse(){\n        System.out.println(\"猫抓老鼠\");\n    }\n}\n```\n\n```java\npublic class Bird extends Animal{\n    public void move(){\n        System.out.println(\"鸟在飞翔\");\n    }\n}\n```\n\n```java\npublic class ConstructorTest01{\n    public static void main(String[] args) {\n        Animal a = new Animal();\n        a.move();\n\n        Cat b = new Cat();\n        b.move();\n        b.catchMouse();\n\n        Bird c = new Bird();\n        c.move();\n\n        //使用多态\n\n        /*\n        Cat is an Animal\n        父类型引用指向子类型对象\n        new Cat()创建的对象类型为Cat，a2这个引用的数据类型是Animal，可见他们进行了类型转换\n        子类型转换成了父类型，称为向上转型，自动类型转换\n        */\n        Animal a2 = new Cat();\n   /*    java两个阶段 编译阶段· 运行阶段\n\n编译无法通过程序无法运行\n\n编译阶段编译器检查a2这个引用的数据类型为Animal.class,字节码中有move方法，所以编译通过了，这个过程我们称为静态绑定，编译阶段绑定\n\n在程序运行阶段，JVM堆内存当中真实创建的对象是Cat对象啊，那么下面程序在运行阶段一定调用Cat对象的move()方法，此时发生程序动态绑定\n        */\n        a2.move();\n      /*\n      \ta2.catchMouse();\n      \t编译阶段就出错了\n      */\n      Cat c2 = (Cat)a2;\n      c2.catchMouse();\n      \n      //以下程序编译没问题\n      //但是运行会出现异常，因为JVM堆内存中真正存在的对象是Bird类型，Bird对象无法转换为Cat对象，因为两种类型之间不存在任何继承关系，此时出现了著名的异常\n      //java.lang.ClassCastException\n      //类型转换异常，向下转型时会发生  \n      Animal a3 = new Bird();\n      cat c3 = (Cat)a3;\n      /*\n      以上异常只有在强制类型转换时才会发生，这么说向下转型存在隐患\n      向上转型只要编译通过一定能运行，\n      向下转型，运行可能错误java.lang.ClassCastException\n      */\n    }\n}\n```\n\n#### 什么时候需要向下转型\n\n当调用的属性和方法是在子类型中特有的，父类型中不存在\n\n#### 避免向下转型ClassCastException异常\n\n（引用instanceof 数据类型名）\n\n（a instanceof Animal）\n\ntrue表示：\n\n​\t\t\t\ta引用指向的对象是Animal\n\nfalse。。。\n\n```java\nif(a3 instanceof Bird){\n  Bird b2 = (Bird)a3;\n  b2.fly;\n}\nelse if(a3 instanceof Cat){\n  Cat c3 = (Cat)a3;\n  C2.catchMouse();\n}\n```\n\n耦合度低 扩展力强\n\n### final\n\n1最终的、不可变得\n\n2final修饰的类无法**被继承**\n\n3final修饰的方法不能被**覆盖**\n\n4变量赋值后不能**再赋值**\n\n5实例变量加final需要手动赋值 final int age = 0； \n\n6final 修饰的对象无法改变指向别的对象\n\n#### 常量定义语法格式\n\n```java\npublic static final 类型 常量名 = 值；\n//常量名必须大写 单词之间下划线连接\npublic static final String GUO_JI = \"中国\";\npublic static final double PI = 3.14159;\n```\n\n### package && import\n\n在java源程序第一行编写package语句\n\npackage 包名;\n\n包名命名规范：\n\n公司域名倒序 +项目名oa +模块名 +功能名;\n\ncom.bjpowernode.oa.user.service;\n\n包名必须全部小写，也是标识符\n\n一个包对应一个目录\n\nimport com.bjpowernode.oa.user.service；\n\nimport语句用来倒入其他类，同一个包下的类不需要导入\n\nimport 类名;\n\nimport 包名.*;\n\nJava.lang.* 不需要手动引入，系统自动\n\nimport java.util.*\n\n4\n\n### 访问控制权限\n\n> ​\t\tpublic\t\t\t\t\t   表示公开的\n>\n> ​\t\tprotected\t\t\t\t同包下可以访问，子类可以访问\n>\n> ​\t\t缺省\t\t\t\t\t\t  同包\n>\n> ​\t\tprivate\t\t\t\t\t 表示私有，只能在本类访问\n\n\n\n缺省和protected出了包之后就\n\n### super\n\nsuper关键字：我们可以通过super关键字来实现对父类成员的访问，用来引用当前对象的父类。x\n\n#### 构造器\n\n子类是不继承父类的构造器（构造方法或者构造函数）的，它只是调用（隐式或显式）。如果父类的构造器带有参数，则必须在子类的构造器中显式地通过 **super** 关键字调用父类的构造器并配以适当的参数列表。\n\n如果父类构造器没有参数，则在子类的构造器中不需要使用 **super** 关键字调用父类构造器，系统会自动调用父类的无参构造器\n\n```java\nclass SuperClass {\n  private int n;\n  SuperClass(){\n    System.out.println(\"SuperClass()\");\n  }\n  SuperClass(int n) {\n    System.out.println(\"SuperClass(int n)\");\n    this.n = n;\n  }\n}\n// SubClass 类继承\nclass SubClass extends SuperClass{\n  private int n;\n  \n  SubClass(){ // 自动调用父类的无参数构造器\n    System.out.println(\"SubClass\");\n  }  \n  \n  public SubClass(int n){ \n    super(300);  // 调用父类中带有参数的构造器\n    System.out.println(\"SubClass(int n):\"+n);\n    this.n = n;\n  }\n}\n// SubClass2 类继承\nclass SubClass2 extends SuperClass{\n  private int n;\n  \n  SubClass2(){\n    super(300);  // 调用父类中带有参数的构造器\n    System.out.println(\"SubClass2\");\n  }  \n  \n  public SubClass2(int n){ // 自动调用父类的无参数构造器\n    System.out.println(\"SubClass2(int n):\"+n);\n    this.n = n;\n  }\n}\npublic class TestSuperSub{\n  public static void main (String args[]){\n    System.out.println(\"------SubClass 类继承------\");\n    SubClass sc1 = new SubClass();\n    SubClass sc2 = new SubClass(100); \n    System.out.println(\"------SubClass2 类继承------\");\n    SubClass2 sc3 = new SubClass2();\n    SubClass2 sc4 = new SubClass2(200); \n  }\n}\n输出结果为：\n\n------SubClass 类继承------\nSuperClass()\nSubClass\nSuperClass(int n)\nSubClass(int n):100\n------SubClass2 类继承------\nSuperClass(int n)\nSubClass2\nSuperClass()\nSubClass2(int n):200\n```\n\n```java\ndo {\n            str = br.readLine();\n            System.out.println(str);\n        } while (!str.equals(\"end\"));\n    }\n```\n\n除了static内部类,内部类中不允许static静态变量\n\n### 值传递\n\n![image-20210727142922916](/image/image-20210727142922916.png)\n\n ![image-20210727144149656](/image/image-20210727144149656.png)\n\n```java\n/**\n * @author Gujm\n * @date 2021/7/27 8:14 下午\n */\npublic class BankTest{\n    public static void main(String[] args) {\n        Bank bank = new Bank();\n        bank.addCustomer(\"G\",\"jm\");\n        bank.getCustomer(0).setAccount(new Account(2000));\n        bank.getCustomer(0).getAccount().withdraw(500);\n        double balance = bank.getCustomer(0).getAccount().getBalance();\n        System.out.println(bank.getCustomer(0).getFirstName()+\"账户余额为\"+balance);\n    }\n}\n class Bank {\n    private Customer[] customers;\n    private int numberOfCustomers;//客户个数\n    public Bank(){\n        customers = new Customer[10];\n    }\n    //添加客户\n    public void addCustomer(String f, String l){\n        Customer cust = new Customer(f,l);\n        customers[numberOfCustomers++] = cust;\n    }\n    //获取客户个数\n    public int getNumberOfCustomers(){\n        return numberOfCustomers;\n    }\n    //获取制定位置的客户\n    public Customer getCustomer(int index){\n        if(index >= 0 && index < numberOfCustomers){\n        return customers[index];\n        }else{\n            return null;\n        }\n    }\n}\n class Account{\n    private double balance;\n    public Account(double init_balance){\n        this.balance = init_balance;\n    }\n    public double getBalance() {\n        return balance;\n    }\n    public void deposit(double amt){\n        if(amt > 0){\n            balance += amt;\n            System.out.println(\"存钱成功\");\n        }\n    }\n    public void withdraw(double amt){\n        if (balance >= amt){\n            balance -= amt;\n            System.out.println(\"取钱成功\");\n        }\n        else {\n            System.out.println(\"余额不足\");\n        }\n    }\n}\n class Customer{\n    private String firstName;\n    private String lastName;\n    private Account account;\n    public Customer(String f, String l){\n        this.firstName = f;\n        this.lastName = l;\n    }\n     public String getFirstName() {\n         return firstName;\n     }\n\n     public String getLastName() {\n         return lastName;\n     }\n     public void setAccount(Account account) {\n         this.account = account;\n     }\n     public Account getAccount() {\n         return account;\n     }\n}\n```\n\n### equals()\n\nString、Date 、 File、Io包装都重写了equals()方法, 只比较实体内容是否相等.\n\n### 基本数据类型包装类\n\n```java\nString str1 = \"123\";\n\nint num2 = Integer.parseInt(str1);\n\nSystem.out.println(num2+1);\n\nString str2 = \"true1\";\n\nBoolean b1 = Boolean.parseBoolean(str2);\n\nsout(b1);\n```\n\n### 多线程\n\n```java\npackage java3;\n\n/**\n * @author Gujm\n * @date 2021/8/21 2:15 下午\n */\nclass Clerk {\n    private int productCount = 0;\n\n    //生产\n    public synchronized void produceProduct() {\n        if (productCount < 20) {\n            productCount++;\n            System.out.println(Thread.currentThread().getName() + \"开始生产第\" + productCount);\n        }else{\n            //等待\n            try {\n                wait();\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    //消费\n    public synchronized void consumeProduct() {\n        if (productCount > 0){\n            System.out.println(Thread.currentThread().getName() + \"开始消费第\" + productCount);\n            productCount--;\n        }else {\n            //等待\n            try {\n                wait();\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n\nclass Producer extends Thread {\n    private Clerk clerk;\n\n    public Producer(Clerk clerk) {\n        this.clerk = clerk;\n    }\n\n    @Override\n    public void run() {\n        System.out.println(getName() + \"开始生产。。\");\n        while (true) {\n            try {\n                Thread.sleep(10);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n            clerk.produceProduct();\n        }\n    }\n}\n\nclass Customer extends Thread {\n    private Clerk clerk;\n\n    public Customer(Clerk clerk) {\n        this.clerk = clerk;\n    }\n\n    @Override\n    public void run() {\n        System.out.println(getName() + \"开始消费。。\");\n        while (true) {\n            try {\n                Thread.sleep(20);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n            clerk.consumeProduct();\n        }\n    }\n}\n\npublic class ProductTest {\n    public static void main(String[] args) {\n        Clerk clerk = new Clerk();\n        Producer p1 = new Producer(clerk);\n        p1.setName(\"生产者1\");\n        Customer c1 = new Customer(clerk);\n        c1.setName(\"消费者1\");\n        Customer c2 = new Customer(clerk);\n        c2.setName(\"消费者2\");\n        p1.start();\n        c1.start();\n        c2.start();\n    }\n}\n```\n\n### 常用类\n\n#### String \n\n### ArrayList常用方法\n\n``` java\n增:add(Object obj)\n\n删:remove(int index) remove(Object obj)\n\n改:set(int index, Object ele)\n\n查:get(int index)\n\n插:add(int index, Object ele)\n\n遍历:1\n\nIterator迭代器方式\n\nIterator iterator = list.iterator();\n\nwhile(iterator.hasNext()){\n\n​\t\tSystem.out.println(\"****\");\n\n}\n\n遍历:2\n\n增强for循环\n\nfor(Object obj : list){\n\n​\t\tSystem.out.println(obj);\n\n}\n\nSystem.out.println(\"***\");\n\n\n\n遍历:3\n\n普通for循环\n\nfor(int i = 0; i < list.size(); i++){\n\n​\t\tSystem.out.println(list.get(i));  \n\n}\n\n\n\n没听\n```\n\n![image-20210905000354527](/image/image-20210905000354527.png)\n\n","source":"_posts/java菜鸟记.md","raw":"---\ntitle: java菜鸟记\ndate:  2021-01-03 12:00:01 \ntags:\n- java\n- 菜鸟\n- 大一\ncategories: \n- 笔记\n---\n\n##  java\n\n 三元运算符可以嵌套\n\n### 位运算符\n\n操作的是整形的数据\n\n<<:在一定范围内,每向左移一位,相当于 *2\n\n> 最高效计算2*8. --> 2 << 3. //  8 << 1;\n\n### 数组\n\n​\tequal\n\nfill\n\nsort\n\ntoString\n\nbinarySearch\n\n### 构造器(constructor)\n\n如果没有显示的定义累的构造器的话 系统默认提供一个空参构造器/\n\n### 方法调用时的内存分配 \n\n#### 内存何时分配\n\n方法只有被调用时，在JVM中会给该方法分配“运行所属“内存空间。\n\n#### JVM内存划分的三块主要空间\n\n- **方法区内存**（代码片段）\n- 堆内存\n- 栈内存(分配方法运行的所属内存空间)\n\n#### 数据结构——“栈”\n\n- 栈针永远指向栈顶元素\n\n- 异常 需要注意的问题 需 要按照类型的要求输入,很具相应的方法,吐过输入的数据类型月要皮球的数据类型不匹配时没汇报一导致程序\n\n- 栈顶元素处于活跃，其他元素静止\n\n- 术语\n\n  - 入栈/压栈/push\n  - 弹栈/出栈/pop\n\n- **先进后出 后进先出**\n\n  main进->m1进->m2进->m2出->m1出->main出\n\n#### 方法代码片段的存储\n\n1. 方法代码片段属于.class字节码文件的一部分，字节码文件在（classLoader加载器寻找HelloWorld.class）类加载的时候，将其放到了方法去中。所以JVM中的三块主要的内存空间中**方法区内存**最先有数据，存放了代码片段。\n2. 代码片段虽然在方法区内存当中只有一份，但是可以被重复调用。每次调用这个方法的时候需要给该方法分配**独立的活动场所**，在栈内存中分配。\n3. 方法调用，给方法分配内存，压栈；方法结束之后，释放分配内存，弹栈\n\n### 类与对象\n\n类描述对象的共同特征\n\n**类描述的是 状态和动作**（属性+方法）\n\n#### 类的定义\n\n类{\n\n 状态：属性\n\n 动作：方法；\n\n}\n\n```java\n//学生类\npublic class Student{\n\t//属性【描述对象的状态信息】\n\t//属性一般是通过变量的形式完成定义的（int String boolean）\n\t//在类体中，方法体之外定义的变量被称为“成员变量”\n  \n\t//学号\n\tint no;\n\t//姓名\n\tString name;\n\t//年龄\n  int age;\n\t\n\t//方法\n  //方法买哦书的是对象的动作信息\n  \n  //唱歌\n  \n  //跳舞\n  \n}\n```\n\n##### java两种数据类型\n\n1. 基本数据类型\n\n   short\n\n   long\n\n   int\n\n   boolean\n\n   String\n\n   char\n\n2. 引用数据类型\n\n   String.class SUN公司定义\n\n   System.class SUN公司定义\n\n   Student.class 我定义\n\n   MingShen.class 我定义\n\n   ....\n\n   **java中所有的类都为引用数据类型**\n\n#### 对象的创建和使用 \n\n```java\npublic class OOtest01{\t\n  public static void main(String[] args){\n    //int 是基本数据类型\n    //i 是变量名\n    //10 是一个int类型的字面值\n    int i = 10;\n    \n    //通过一个类可以实例化N个对象\n\t\t//实例化对象语法 new 类名（）；\n\t\t//new运算符作用是创建对象，在JVM中\n    //new运算符的作用是创建对象，在JVM堆内存中开辟新的内存空间\n    //方法区内存：再类加载的时候，clss字节码代码片段被加载到内存空间当中\n    //栈内存（局部变量）：方法代码片段执行的时候，会给该方法分配内存空间，在栈内存中压栈\n    //堆内存：new studeng（）；\n    \n    //Student 是引用数据类型\n    //s 是变量名\n    //new Student是一个学生对象\n    Student s = new Student();\n    \n  }\n}\n```\n\n**当程序执行到new时的内存图如下**\n\n![image-20210527190012042](/image/image-20210527190012042.png)\n\n\n\nNon, age, sex, name, addr都是**实例变量**\n\nstudent这个new出来的对象的**内存地址**给了s，s时**局部变量**，s为**引用**\n\n什么是对象？new运算符在堆内存中开辟的内存空间称为对象\n\n什么是引用？引用是一个变量，只不过这个变量中保存了另一个java对象的内存地址\n\njava语言当中程序员只能通过“引用”去访问对内存当中对象内部的实例变量\n\n\n\n访问实例变量的内存数据\n\n读取数据：引用.变量名  \n\n修改数据：引用.变量名 = 值\n\n```java\n\tint StuNo = s.no;\n\tint StuAge = s.Age；//读取\n  s.no = 10;\n  s.name = \"MingShen\";\n  s.age = 10;//会把堆内存的内存值改了\n  Student stu = new Student();//再次new对象 stu是引用\n```\n\n![image-20210527193017688](/image/image-20210527193017688.png)\n\n局部变量在栈内存中储存\n\n成员变量中的实例变量在堆内存的java对象内部储存\n\n实例变量是一个对象一份，100个对象有100份\n\n```java\nSystem.out.printIn(stu.age);//10\nSystem.out.printIn(student.no);//报错\n```\n\n报错因为no这个实例变量不能直接采用“类名”的方式访问\n\n因为no是实例变量，对象级别的变量，变量储存在Java对象内部，必须先有对象通过对象才能访问no这个实例变量，不能直接通过“类名”\n\n\n\n成员变量没有手动赋值，系统赋默认值\n\n| 数据类型                  |               |\n| ------------------------- | ------------- |\n| byte， short， int， long | 0             |\n| float，double             | 0.0           |\n| char                      | \\u000         |\n| 引用数据类型              | null （空值） |\n|                           |               |\n|                           |               |\n\n\n\n```java\npublic class Address{\n  String city;\n  String street;\n  String zipcode;\n}\n\n```\n\n```java\npublic class User{\n  //属性【以下都是成员变量之实例变量】\n  int no;//int基本数据类型，no是实例变量\n  String name;//String引用数据类型，name是引用满是实例变量\n  Address addr;//Address引用数据类型，addr是引用\n}\n```\n\n```java\npublic class OOTest02\n{\n  public static void main(String[] args){\n    //创建User对象\n    //u是局部变量\n    //u是一个引用 \n    //u保存内存地址指向堆内存的User对象\n    User u = new User()；//（从右往前）\n    u.no = 110;\n    u.name = \"jack\";//字符串比较特殊不用new，jack是一个Java对象，属于String对象\n    u.addr = new Address();//等号右边先执行，Address对象三个none、none、none\n    \n    //main方法只有一个引用u\n    //一切只能通过u来访问\n    System.out.println(u.name + \"居住在\" + u.addr.city);\n  }\n}\n```\n\n\n\n![image-20210527194926715](/image/image-20210527194926715.png)\n\n![image-20210527195317973](/image/image-20210527195317973.png)\n\n**找出所有引用**\n\n![image-20210527195451792](/image/image-20210527195451792.png)\n\n空引用访问“实例”相关数据一定会造成空指针异常 NullPointerException\n\n实例相关数据表示访问时必须有对象参与\n\n### 类怎么定义\n\n[修饰符列表]class 类名{\n\n  属性；\n\n  方法；\n\n}\n\n现实世界当中超市中的商品，发现这所有的商品都要有一些共同的特征，例如，每一个商品都有编号，每一个商品都有单价，所以定义以下的类，来代表所有商品。\n\n```java\npublic class Product{//为什么要写class？因为要做超市的管理系统，超市有商品，商品有共同的特征，想到了编号，单价，所以利用基本数据类型（int double），定义了两个变量。\n\t//编号【数字，整数】\n  int productNo;\n  //productNo是基本数据类型\n  //单价【数字，小数】\n  double price;\n  //price 是基本数据类型\n  \n  Student s= null;\n}\nProduct pro = new Product{};//实例变量需要new出来才能引用，引用方式如下\npro.price = 0x1123123;//访问 可以（读一读）（改一改）\n```\n\n**product是实例变量，下面对他进行访问**\n\n```java\npublic class ProductTest{\n  public static void main(string[] args){\n    //创建对象，商品对象\n    //iphoneProMax局部变量\n    //iphoneProMax引用\n    //iphoneProMax变量中保存内存地址指向堆内存当中的商品对象\n    Product iphoneProMax = new Product();\n    //访问实例变量的语法： 引用.变量名\n    System.out.printIn(\"商品编号：\"+iphoneProMax.productNo);\n    iphoneProMax.price = 8000.0；\n    System.out.println(\"商品单价：\"+iphoneProMax.price);\n  }\n\n```\n\n\n\n```java\n/*\n\t要求定义一个汽车类\n\t\t*品牌：字符串\n\t\t*颜色：字符串\n\t\t*号牌：字符串\n\t\t*购买总价：浮点型数据\n*/\npublic class Car{\n  //属性【成员变量之：实例变量】\n  //总价\n  基本数据类型\n  double price;\n  //品牌\n  引用数据类型\n  String brand;\n  //颜色\n  //引用数据类型\n  String color;\n  //号牌\n  //引用数据类型\n  String No;\n}\n```\n\n```java\n/*\n\t房屋类(不太行)\n*/\npublic class house{\n  double proportion;\n  String owner;//想知道户主的身份信息，但是不能在下一行定义实例变量ID，会误解为房子的ID\n   \n}\n\n```\n\n```java\n/*\n\t房屋类（行）\n*/\npublic class house{\n  double proportion;\n  Person owner ;//new是个地址（其中就是联系电话、就是地址、就是各种信息）\n}\npublic class Person{\n  //名字\n  String name;\n  //身份证号\n  String id;\n  //性别\n  boolean sex;\n  //年龄\n  int age;\n  //妻子\n  Wife wife；\n}\n```\n\n### 封装\n\n1. 对外提供简单的操作入口，照相机原理很复杂，但是操作很简单\n2. 提高安全性\n3. 以后程序可以重服使用\n4. 封装后才形成真正的对象，“独立体”\n\n```java\npublic class User\n  public static void main()\n```\n\n#### 封装的步骤\n\n1. 属性私有化，是用private进行修饰，private表示私有，修饰后的所有数据只能在本类中访问。\n\n2. 对外提供简单的入口 \n\n   对外提供两个方法（get，set）\n\n#### 背会\n\nsette and getter方法没有static关键字\n\n有static关键字修饰的方法怎么调用：类 名.方法名（实参）；\n\n没有static关键字修饰的方法：引用.方法名（实参）\n\n```java\npublic class User{\n  private int age;\n  public void setAge(int a){\n  if(a < 0 || a >150 ){\n    System.out.println(\"对不起，您给的年龄不合法\")\n    return;\n  }\n  age = a;\n\t}\n \tpublic int getAge(){\n  return age;\n}\n}\n\n```\n\n封装之后\n\n```java\npublic class UserTest{\n  public static void main(String[] srgs){\n    User user = new User();\n    user.setAge(10);\n    System.out.println(user.getAge());\n  }\n}\n```\n\n#### 构造方法\n\n1. 构造方法又称构造函数，返回值类型不需要指定，加上void int 就变成普通方法了\n\n2. 构造方法的作用：通过方法的调用创建对象。\n\n3. 构造方法的方法名必须和类名保持一致\n\n4. 每个构造方法实际上执行结束之后都有返回值，但是这个return不需要写，返回值就是类本身\n\n5. [修饰符列表]构造方法方法名（形参数）\n\n   {方法体}；\n\n     } \n\n```java\npublic class ConstructorTest01{\n    public static void main(String[] args){\n        //创建User对象\n        //调用User类的构造方法来完成对象的创建\n        //以下程序创建了4个对象，只要构造函数调用就会查u你感觉爱你对象，并且在“堆内存”开辟内存空间\n\n        User u2 = new User(10);\n        User u3 = new User(\"gujm\");\n        ConstructorTest01.dosome();\n        dosome();\n        ConstructorTest01 t = new ConstructorTest01();\n        t.doOther();\n    }\n    //调用带有static的方法：类名\n    public static void dosome(){\n        System.out.println(\"do some!\");\n    }\n    //调用没有static的方法：引用\n    //doOther方法在ConstructorTest01类中，所以需要创建ConstructorTest01对象\n    //创建ConstructorTest01对象之后，调用无参数构造方法\n    public void  doOther(){\n        System.out.println(\"Do other!\");\n    }\n}\n```\n\n```java\npublic class User{\n\t\t\n    public User(int i){\n        System.out.println(\"带有int类型构造器\");\n    }\n    public User(String name){\n        System.out.println(\"带有String类型构造器\");\n    }\n}\n\n```\n\n构造方法作用：创造对象，给实例对象赋值\n\n```java\npublic class ConstructorTest01{\n    public static void main(String[] args) {\n        Account act1 = new Account();\n        act1.setActno(\"111\");\n        System.out.println(act1.getActno());\n        Account act2 = new Account(\"10\");\n        System.out.println(act2.getActno());\n        System.out.println(act1.getBalance());\n    }\n}\n```\n\n```java\npublic class Account {\n    private String actno;//实例变量，创建对象之后才会有实例变量，实例方法在构造方法过程中完成赋值\n    private double balance;\n    public String getActno() {\n        return actno;\n    }\n\n    public void setActno(String actno) {\n        this.actno = actno;\n    }\n\n    public double getBalance() {\n        return balance;\n    }\n\n    public void setBalance(double balance) {\n        this.balance = balance;\n    }\n    public Account(){\n        System.out.println(\"空参数方法\");\n    };\n    public Account(String s){\n        actno = s;\n    }\n\n}\n```\n\n### 参数传递\n\n传的永远是变量保存的值\n\n```java\npublic class ConstructorTest01{\n    public static void main(String[] args) {\n        User u = new User(20);\n      //User User = 0x1234\n      //传递u给add方法的时候，实际上传递的是u变量中保存的值，只不过这个值是一个java对象的内存地址\n        add(u);\n        System.out.println(u.age);\n    }\n    public static void add(User u){\n        u.age++;\n        System.out.println(\"add-->\" + u.age);\n    }\n    static class User{\n        int age;\n        public User(int i){\n            age = i;\n        }\n    }\n}\n```\n\n![image-20210620092032503](/image/image-20210620092032503.png)\n\n第二个例子\n\n```java\nUser u =0x1234;\nUser u1= u;//u传递给了u1，实际上是吧0x1234这个值赋值给了u1，u和u1实际上是两个不同的局部变量\n//但是他们的两个变量指向堆内存中同一个java对象\n```\n\n### this \n\n this 是一个 关键字，翻译为：这个，用在方法中\n\nthis是一个引用，this是一个变量，this变量中保存内存地址指向了自身，this储存子啊JVM堆内存java对象内部\n\n创建100个java对象，每个对象都有this，也就是说有100个不同的this\n\n**this代表当前正在做（执行实例方法）这个动作的对象**\n\n不能用在static方法中\n\n在static方法中不能“直接”访问实例变量 实例方法\n\n因为实例都需要对象存在\n\n而static中没有this，也就是说，当前对象是不存在的\n\n自然无法访问当前对象的实例方法\n\n **用来区分实例变量和局部变量时 this不能省** \n\n ```java\n\n ```\n\nthis（）这种语法只能放在构造方法第一行\n\n### static \n\n应该采用类名的方式访问，即使new了对象访问static方法，其本质也用的是类名，与引用指向的对象无关，哪怕（t = null）也不会出现空指针异常 \n\n ```java\npublic class Chinese{\n  private String id;\n  private String name;\n  //国籍每个对象由于都是Chinese类的实例化，所以每个中国人国籍都是Chinese\n  //实例对象在堆内存\n  //String country;//所以没必要定义为实例变量,没必要让每一个对象都占内存，改为下一行\n  static String country = \"中国\";//类级别特征，变量前加static，静态变量不需要创造对象，内存就开辟了，在方法区内存 \n}\n ```\n\n![image-20210624165417791](/image/image-20210624165417791.png)\n\n#### 什么时候成员变量申明为静态变量？\n\n所有的对象都有这个属性，并且所有对象的这个属性值一样\n\n#### 什么时候成员变量申明为静态变量？\n\n所有对象都有这个属性，不同对象值不同或属性值随对象值改变\n\n#### static使用方式\n\n静态变量在类加载的时候u初始化，内存在方法区开辟，访问时不需创造对象，直接**类名.变量名**\n\n\n\n#### 使用static定义“静态代码块”\n\n1.语法格式：\n\n​\tstatic {\n\n \t\t\tjava语句;\n\n​\t}\n\n2.静态代码在类加载时执行，并且只执行一次\n\n3.静态代码块在一个类中可以编写多个，从上往下\n\n4.静态代码块的作用？什么时候用\n\n​\t静态代码时java为程序员准备的一个特殊时刻，在类加载时刻，若需要此刻还在一段特殊程序，可以直接放到静态代码中\n\n#### 静态方法\n\n描述一个动作，所有对象执行这个动作最终产生的影响一样，不再属于某一个对象动作\n\n大多数“工具类”的方法都是静态方法，方便使用\n\n### 继承\n\n继承的基本作用：代码复用，但是继承最重要的作用时：有了继承才有了以后方法的覆盖和多态机制\n\n[修饰符列表]class 类名 extends 父类名{\n\n​\t类体 = 属性 + 方法\n\n}\n\njava语言的继承制支持单继承，一个类不能同时继承很多类，只能继承一个类。\n\nB类继承A类，A称为父类，基类，超类，superclass\n\n​\t\t\t\t\t\tB称为子类，派生类，subclass\n\n私有不支持继承，构造方法不支持继承\n\n### 方法覆盖\n\n又称方法重写override/Overwrite\n\n父类中的方法满足不了子类中的业务需求，有必要重写方法\n\n就是重新写一遍**完全一样复制**方法，方法区中代码自己改，方法名不变，返回类型不变，参数列表不变，抛出异常不能更低，不能更少，访问权限不能更低可以更高\n\nanimal.move();  cat extend animal;\n\n私有方法不能继承不能覆盖\n\n构造方法不能继承不能覆盖\n\n静态方法不存在覆盖（多态后）\n\n\n\n### 多态\n\nanimal/ bird /cat \n\ncat和bird没有任何继承关系\n\n面向对象三大特征：封装 继承 多态\n\n多态中涉及到的几个概念\n\n- 向上转型（upcasting）\n\n  子类型 --> 父类型\n\n  自动类型转换\n\n- 向下转型（downcasting）\n\n  父类型 --> 子类型\n\n  强制类型转换\n\n![image-20210625084016091](/image/image-20210625084016091.png)\n\n```java\npublic class Animal {\n    public void move(){\n        System.out.println(\"动物在行走\");\n    }\n}\n```\n\n```java\n public class Cat extends Animal{\n    public void move(){\n        System.out.println(\"猫在走猫步\");\n    }\n    public void catchMouse(){\n        System.out.println(\"猫抓老鼠\");\n    }\n}\n```\n\n```java\npublic class Bird extends Animal{\n    public void move(){\n        System.out.println(\"鸟在飞翔\");\n    }\n}\n```\n\n```java\npublic class ConstructorTest01{\n    public static void main(String[] args) {\n        Animal a = new Animal();\n        a.move();\n\n        Cat b = new Cat();\n        b.move();\n        b.catchMouse();\n\n        Bird c = new Bird();\n        c.move();\n\n        //使用多态\n\n        /*\n        Cat is an Animal\n        父类型引用指向子类型对象\n        new Cat()创建的对象类型为Cat，a2这个引用的数据类型是Animal，可见他们进行了类型转换\n        子类型转换成了父类型，称为向上转型，自动类型转换\n        */\n        Animal a2 = new Cat();\n   /*    java两个阶段 编译阶段· 运行阶段\n\n编译无法通过程序无法运行\n\n编译阶段编译器检查a2这个引用的数据类型为Animal.class,字节码中有move方法，所以编译通过了，这个过程我们称为静态绑定，编译阶段绑定\n\n在程序运行阶段，JVM堆内存当中真实创建的对象是Cat对象啊，那么下面程序在运行阶段一定调用Cat对象的move()方法，此时发生程序动态绑定\n        */\n        a2.move();\n      /*\n      \ta2.catchMouse();\n      \t编译阶段就出错了\n      */\n      Cat c2 = (Cat)a2;\n      c2.catchMouse();\n      \n      //以下程序编译没问题\n      //但是运行会出现异常，因为JVM堆内存中真正存在的对象是Bird类型，Bird对象无法转换为Cat对象，因为两种类型之间不存在任何继承关系，此时出现了著名的异常\n      //java.lang.ClassCastException\n      //类型转换异常，向下转型时会发生  \n      Animal a3 = new Bird();\n      cat c3 = (Cat)a3;\n      /*\n      以上异常只有在强制类型转换时才会发生，这么说向下转型存在隐患\n      向上转型只要编译通过一定能运行，\n      向下转型，运行可能错误java.lang.ClassCastException\n      */\n    }\n}\n```\n\n#### 什么时候需要向下转型\n\n当调用的属性和方法是在子类型中特有的，父类型中不存在\n\n#### 避免向下转型ClassCastException异常\n\n（引用instanceof 数据类型名）\n\n（a instanceof Animal）\n\ntrue表示：\n\n​\t\t\t\ta引用指向的对象是Animal\n\nfalse。。。\n\n```java\nif(a3 instanceof Bird){\n  Bird b2 = (Bird)a3;\n  b2.fly;\n}\nelse if(a3 instanceof Cat){\n  Cat c3 = (Cat)a3;\n  C2.catchMouse();\n}\n```\n\n耦合度低 扩展力强\n\n### final\n\n1最终的、不可变得\n\n2final修饰的类无法**被继承**\n\n3final修饰的方法不能被**覆盖**\n\n4变量赋值后不能**再赋值**\n\n5实例变量加final需要手动赋值 final int age = 0； \n\n6final 修饰的对象无法改变指向别的对象\n\n#### 常量定义语法格式\n\n```java\npublic static final 类型 常量名 = 值；\n//常量名必须大写 单词之间下划线连接\npublic static final String GUO_JI = \"中国\";\npublic static final double PI = 3.14159;\n```\n\n### package && import\n\n在java源程序第一行编写package语句\n\npackage 包名;\n\n包名命名规范：\n\n公司域名倒序 +项目名oa +模块名 +功能名;\n\ncom.bjpowernode.oa.user.service;\n\n包名必须全部小写，也是标识符\n\n一个包对应一个目录\n\nimport com.bjpowernode.oa.user.service；\n\nimport语句用来倒入其他类，同一个包下的类不需要导入\n\nimport 类名;\n\nimport 包名.*;\n\nJava.lang.* 不需要手动引入，系统自动\n\nimport java.util.*\n\n4\n\n### 访问控制权限\n\n> ​\t\tpublic\t\t\t\t\t   表示公开的\n>\n> ​\t\tprotected\t\t\t\t同包下可以访问，子类可以访问\n>\n> ​\t\t缺省\t\t\t\t\t\t  同包\n>\n> ​\t\tprivate\t\t\t\t\t 表示私有，只能在本类访问\n\n\n\n缺省和protected出了包之后就\n\n### super\n\nsuper关键字：我们可以通过super关键字来实现对父类成员的访问，用来引用当前对象的父类。x\n\n#### 构造器\n\n子类是不继承父类的构造器（构造方法或者构造函数）的，它只是调用（隐式或显式）。如果父类的构造器带有参数，则必须在子类的构造器中显式地通过 **super** 关键字调用父类的构造器并配以适当的参数列表。\n\n如果父类构造器没有参数，则在子类的构造器中不需要使用 **super** 关键字调用父类构造器，系统会自动调用父类的无参构造器\n\n```java\nclass SuperClass {\n  private int n;\n  SuperClass(){\n    System.out.println(\"SuperClass()\");\n  }\n  SuperClass(int n) {\n    System.out.println(\"SuperClass(int n)\");\n    this.n = n;\n  }\n}\n// SubClass 类继承\nclass SubClass extends SuperClass{\n  private int n;\n  \n  SubClass(){ // 自动调用父类的无参数构造器\n    System.out.println(\"SubClass\");\n  }  \n  \n  public SubClass(int n){ \n    super(300);  // 调用父类中带有参数的构造器\n    System.out.println(\"SubClass(int n):\"+n);\n    this.n = n;\n  }\n}\n// SubClass2 类继承\nclass SubClass2 extends SuperClass{\n  private int n;\n  \n  SubClass2(){\n    super(300);  // 调用父类中带有参数的构造器\n    System.out.println(\"SubClass2\");\n  }  \n  \n  public SubClass2(int n){ // 自动调用父类的无参数构造器\n    System.out.println(\"SubClass2(int n):\"+n);\n    this.n = n;\n  }\n}\npublic class TestSuperSub{\n  public static void main (String args[]){\n    System.out.println(\"------SubClass 类继承------\");\n    SubClass sc1 = new SubClass();\n    SubClass sc2 = new SubClass(100); \n    System.out.println(\"------SubClass2 类继承------\");\n    SubClass2 sc3 = new SubClass2();\n    SubClass2 sc4 = new SubClass2(200); \n  }\n}\n输出结果为：\n\n------SubClass 类继承------\nSuperClass()\nSubClass\nSuperClass(int n)\nSubClass(int n):100\n------SubClass2 类继承------\nSuperClass(int n)\nSubClass2\nSuperClass()\nSubClass2(int n):200\n```\n\n```java\ndo {\n            str = br.readLine();\n            System.out.println(str);\n        } while (!str.equals(\"end\"));\n    }\n```\n\n除了static内部类,内部类中不允许static静态变量\n\n### 值传递\n\n![image-20210727142922916](/image/image-20210727142922916.png)\n\n ![image-20210727144149656](/image/image-20210727144149656.png)\n\n```java\n/**\n * @author Gujm\n * @date 2021/7/27 8:14 下午\n */\npublic class BankTest{\n    public static void main(String[] args) {\n        Bank bank = new Bank();\n        bank.addCustomer(\"G\",\"jm\");\n        bank.getCustomer(0).setAccount(new Account(2000));\n        bank.getCustomer(0).getAccount().withdraw(500);\n        double balance = bank.getCustomer(0).getAccount().getBalance();\n        System.out.println(bank.getCustomer(0).getFirstName()+\"账户余额为\"+balance);\n    }\n}\n class Bank {\n    private Customer[] customers;\n    private int numberOfCustomers;//客户个数\n    public Bank(){\n        customers = new Customer[10];\n    }\n    //添加客户\n    public void addCustomer(String f, String l){\n        Customer cust = new Customer(f,l);\n        customers[numberOfCustomers++] = cust;\n    }\n    //获取客户个数\n    public int getNumberOfCustomers(){\n        return numberOfCustomers;\n    }\n    //获取制定位置的客户\n    public Customer getCustomer(int index){\n        if(index >= 0 && index < numberOfCustomers){\n        return customers[index];\n        }else{\n            return null;\n        }\n    }\n}\n class Account{\n    private double balance;\n    public Account(double init_balance){\n        this.balance = init_balance;\n    }\n    public double getBalance() {\n        return balance;\n    }\n    public void deposit(double amt){\n        if(amt > 0){\n            balance += amt;\n            System.out.println(\"存钱成功\");\n        }\n    }\n    public void withdraw(double amt){\n        if (balance >= amt){\n            balance -= amt;\n            System.out.println(\"取钱成功\");\n        }\n        else {\n            System.out.println(\"余额不足\");\n        }\n    }\n}\n class Customer{\n    private String firstName;\n    private String lastName;\n    private Account account;\n    public Customer(String f, String l){\n        this.firstName = f;\n        this.lastName = l;\n    }\n     public String getFirstName() {\n         return firstName;\n     }\n\n     public String getLastName() {\n         return lastName;\n     }\n     public void setAccount(Account account) {\n         this.account = account;\n     }\n     public Account getAccount() {\n         return account;\n     }\n}\n```\n\n### equals()\n\nString、Date 、 File、Io包装都重写了equals()方法, 只比较实体内容是否相等.\n\n### 基本数据类型包装类\n\n```java\nString str1 = \"123\";\n\nint num2 = Integer.parseInt(str1);\n\nSystem.out.println(num2+1);\n\nString str2 = \"true1\";\n\nBoolean b1 = Boolean.parseBoolean(str2);\n\nsout(b1);\n```\n\n### 多线程\n\n```java\npackage java3;\n\n/**\n * @author Gujm\n * @date 2021/8/21 2:15 下午\n */\nclass Clerk {\n    private int productCount = 0;\n\n    //生产\n    public synchronized void produceProduct() {\n        if (productCount < 20) {\n            productCount++;\n            System.out.println(Thread.currentThread().getName() + \"开始生产第\" + productCount);\n        }else{\n            //等待\n            try {\n                wait();\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    //消费\n    public synchronized void consumeProduct() {\n        if (productCount > 0){\n            System.out.println(Thread.currentThread().getName() + \"开始消费第\" + productCount);\n            productCount--;\n        }else {\n            //等待\n            try {\n                wait();\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n\nclass Producer extends Thread {\n    private Clerk clerk;\n\n    public Producer(Clerk clerk) {\n        this.clerk = clerk;\n    }\n\n    @Override\n    public void run() {\n        System.out.println(getName() + \"开始生产。。\");\n        while (true) {\n            try {\n                Thread.sleep(10);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n            clerk.produceProduct();\n        }\n    }\n}\n\nclass Customer extends Thread {\n    private Clerk clerk;\n\n    public Customer(Clerk clerk) {\n        this.clerk = clerk;\n    }\n\n    @Override\n    public void run() {\n        System.out.println(getName() + \"开始消费。。\");\n        while (true) {\n            try {\n                Thread.sleep(20);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n            clerk.consumeProduct();\n        }\n    }\n}\n\npublic class ProductTest {\n    public static void main(String[] args) {\n        Clerk clerk = new Clerk();\n        Producer p1 = new Producer(clerk);\n        p1.setName(\"生产者1\");\n        Customer c1 = new Customer(clerk);\n        c1.setName(\"消费者1\");\n        Customer c2 = new Customer(clerk);\n        c2.setName(\"消费者2\");\n        p1.start();\n        c1.start();\n        c2.start();\n    }\n}\n```\n\n### 常用类\n\n#### String \n\n### ArrayList常用方法\n\n``` java\n增:add(Object obj)\n\n删:remove(int index) remove(Object obj)\n\n改:set(int index, Object ele)\n\n查:get(int index)\n\n插:add(int index, Object ele)\n\n遍历:1\n\nIterator迭代器方式\n\nIterator iterator = list.iterator();\n\nwhile(iterator.hasNext()){\n\n​\t\tSystem.out.println(\"****\");\n\n}\n\n遍历:2\n\n增强for循环\n\nfor(Object obj : list){\n\n​\t\tSystem.out.println(obj);\n\n}\n\nSystem.out.println(\"***\");\n\n\n\n遍历:3\n\n普通for循环\n\nfor(int i = 0; i < list.size(); i++){\n\n​\t\tSystem.out.println(list.get(i));  \n\n}\n\n\n\n没听\n```\n\n![image-20210905000354527](/image/image-20210905000354527.png)\n\n","slug":"java菜鸟记","published":1,"updated":"2023-04-20T03:56:34.512Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clgz2pff0000ldl5zb8ai82k7","content":"<h2 id=\"java\"><a href=\"#java\" class=\"headerlink\" title=\"java\"></a>java</h2><p> 三元运算符可以嵌套</p>\n<h3 id=\"位运算符\"><a href=\"#位运算符\" class=\"headerlink\" title=\"位运算符\"></a>位运算符</h3><p>操作的是整形的数据</p>\n<p>&lt;&lt;:在一定范围内,每向左移一位,相当于 *2</p>\n<blockquote>\n<p>最高效计算2*8. –&gt; 2 &lt;&lt; 3. //  8 &lt;&lt; 1;</p>\n</blockquote>\n<h3 id=\"数组\"><a href=\"#数组\" class=\"headerlink\" title=\"数组\"></a>数组</h3><p>​    equal</p>\n<p>fill</p>\n<p>sort</p>\n<p>toString</p>\n<p>binarySearch</p>\n<h3 id=\"构造器-constructor\"><a href=\"#构造器-constructor\" class=\"headerlink\" title=\"构造器(constructor)\"></a>构造器(constructor)</h3><p>如果没有显示的定义累的构造器的话 系统默认提供一个空参构造器/</p>\n<h3 id=\"方法调用时的内存分配\"><a href=\"#方法调用时的内存分配\" class=\"headerlink\" title=\"方法调用时的内存分配\"></a>方法调用时的内存分配</h3><h4 id=\"内存何时分配\"><a href=\"#内存何时分配\" class=\"headerlink\" title=\"内存何时分配\"></a>内存何时分配</h4><p>方法只有被调用时，在JVM中会给该方法分配“运行所属“内存空间。</p>\n<h4 id=\"JVM内存划分的三块主要空间\"><a href=\"#JVM内存划分的三块主要空间\" class=\"headerlink\" title=\"JVM内存划分的三块主要空间\"></a>JVM内存划分的三块主要空间</h4><ul>\n<li><strong>方法区内存</strong>（代码片段）</li>\n<li>堆内存</li>\n<li>栈内存(分配方法运行的所属内存空间)</li>\n</ul>\n<h4 id=\"数据结构——“栈”\"><a href=\"#数据结构——“栈”\" class=\"headerlink\" title=\"数据结构——“栈”\"></a>数据结构——“栈”</h4><ul>\n<li><p>栈针永远指向栈顶元素</p>\n</li>\n<li><p>异常 需要注意的问题 需 要按照类型的要求输入,很具相应的方法,吐过输入的数据类型月要皮球的数据类型不匹配时没汇报一导致程序</p>\n</li>\n<li><p>栈顶元素处于活跃，其他元素静止</p>\n</li>\n<li><p>术语</p>\n<ul>\n<li>入栈/压栈/push</li>\n<li>弹栈/出栈/pop</li>\n</ul>\n</li>\n<li><p><strong>先进后出 后进先出</strong></p>\n<p>main进-&gt;m1进-&gt;m2进-&gt;m2出-&gt;m1出-&gt;main出</p>\n</li>\n</ul>\n<h4 id=\"方法代码片段的存储\"><a href=\"#方法代码片段的存储\" class=\"headerlink\" title=\"方法代码片段的存储\"></a>方法代码片段的存储</h4><ol>\n<li>方法代码片段属于.class字节码文件的一部分，字节码文件在（classLoader加载器寻找HelloWorld.class）类加载的时候，将其放到了方法去中。所以JVM中的三块主要的内存空间中<strong>方法区内存</strong>最先有数据，存放了代码片段。</li>\n<li>代码片段虽然在方法区内存当中只有一份，但是可以被重复调用。每次调用这个方法的时候需要给该方法分配<strong>独立的活动场所</strong>，在栈内存中分配。</li>\n<li>方法调用，给方法分配内存，压栈；方法结束之后，释放分配内存，弹栈</li>\n</ol>\n<h3 id=\"类与对象\"><a href=\"#类与对象\" class=\"headerlink\" title=\"类与对象\"></a>类与对象</h3><p>类描述对象的共同特征</p>\n<p><strong>类描述的是 状态和动作</strong>（属性+方法）</p>\n<h4 id=\"类的定义\"><a href=\"#类的定义\" class=\"headerlink\" title=\"类的定义\"></a>类的定义</h4><p>类{</p>\n<p> 状态：属性</p>\n<p> 动作：方法；</p>\n<p>}</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//学生类</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Student</span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">//属性【描述对象的状态信息】</span></span><br><span class=\"line\">\t<span class=\"comment\">//属性一般是通过变量的形式完成定义的（int String boolean）</span></span><br><span class=\"line\">\t<span class=\"comment\">//在类体中，方法体之外定义的变量被称为“成员变量”</span></span><br><span class=\"line\">  </span><br><span class=\"line\">\t<span class=\"comment\">//学号</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> no;</span><br><span class=\"line\">\t<span class=\"comment\">//姓名</span></span><br><span class=\"line\">\tString name;</span><br><span class=\"line\">\t<span class=\"comment\">//年龄</span></span><br><span class=\"line\">  <span class=\"type\">int</span> age;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">//方法</span></span><br><span class=\"line\">  <span class=\"comment\">//方法买哦书的是对象的动作信息</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">//唱歌</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">//跳舞</span></span><br><span class=\"line\">  </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"java两种数据类型\"><a href=\"#java两种数据类型\" class=\"headerlink\" title=\"java两种数据类型\"></a>java两种数据类型</h5><ol>\n<li><p>基本数据类型</p>\n<p>short</p>\n<p>long</p>\n<p>int</p>\n<p>boolean</p>\n<p>String</p>\n<p>char</p>\n</li>\n<li><p>引用数据类型</p>\n<p>String.class SUN公司定义</p>\n<p>System.class SUN公司定义</p>\n<p>Student.class 我定义</p>\n<p>MingShen.class 我定义</p>\n<p>….</p>\n<p><strong>java中所有的类都为引用数据类型</strong></p>\n</li>\n</ol>\n<h4 id=\"对象的创建和使用\"><a href=\"#对象的创建和使用\" class=\"headerlink\" title=\"对象的创建和使用\"></a>对象的创建和使用</h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">OOtest01</span>&#123;\t</span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//int 是基本数据类型</span></span><br><span class=\"line\">    <span class=\"comment\">//i 是变量名</span></span><br><span class=\"line\">    <span class=\"comment\">//10 是一个int类型的字面值</span></span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">10</span>;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">//通过一个类可以实例化N个对象</span></span><br><span class=\"line\">\t\t<span class=\"comment\">//实例化对象语法 new 类名（）；</span></span><br><span class=\"line\">\t\t<span class=\"comment\">//new运算符作用是创建对象，在JVM中</span></span><br><span class=\"line\">    <span class=\"comment\">//new运算符的作用是创建对象，在JVM堆内存中开辟新的内存空间</span></span><br><span class=\"line\">    <span class=\"comment\">//方法区内存：再类加载的时候，clss字节码代码片段被加载到内存空间当中</span></span><br><span class=\"line\">    <span class=\"comment\">//栈内存（局部变量）：方法代码片段执行的时候，会给该方法分配内存空间，在栈内存中压栈</span></span><br><span class=\"line\">    <span class=\"comment\">//堆内存：new studeng（）；</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">//Student 是引用数据类型</span></span><br><span class=\"line\">    <span class=\"comment\">//s 是变量名</span></span><br><span class=\"line\">    <span class=\"comment\">//new Student是一个学生对象</span></span><br><span class=\"line\">    <span class=\"type\">Student</span> <span class=\"variable\">s</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Student</span>();</span><br><span class=\"line\">    </span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>当程序执行到new时的内存图如下</strong></p>\n<p><img src=\"/image/image-20210527190012042.png\" alt=\"image-20210527190012042\"></p>\n<p>Non, age, sex, name, addr都是<strong>实例变量</strong></p>\n<p>student这个new出来的对象的<strong>内存地址</strong>给了s，s时<strong>局部变量</strong>，s为<strong>引用</strong></p>\n<p>什么是对象？new运算符在堆内存中开辟的内存空间称为对象</p>\n<p>什么是引用？引用是一个变量，只不过这个变量中保存了另一个java对象的内存地址</p>\n<p>java语言当中程序员只能通过“引用”去访问对内存当中对象内部的实例变量</p>\n<p>访问实例变量的内存数据</p>\n<p>读取数据：引用.变量名  </p>\n<p>修改数据：引用.变量名 = 值</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">int</span> <span class=\"variable\">StuNo</span> <span class=\"operator\">=</span> s.no;</span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"variable\">StuAge</span> <span class=\"operator\">=</span> s.Age；<span class=\"comment\">//读取</span></span><br><span class=\"line\"> s.no = <span class=\"number\">10</span>;</span><br><span class=\"line\"> s.name = <span class=\"string\">&quot;MingShen&quot;</span>;</span><br><span class=\"line\"> s.age = <span class=\"number\">10</span>;<span class=\"comment\">//会把堆内存的内存值改了</span></span><br><span class=\"line\"> <span class=\"type\">Student</span> <span class=\"variable\">stu</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Student</span>();<span class=\"comment\">//再次new对象 stu是引用</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/image/image-20210527193017688.png\" alt=\"image-20210527193017688\"></p>\n<p>局部变量在栈内存中储存</p>\n<p>成员变量中的实例变量在堆内存的java对象内部储存</p>\n<p>实例变量是一个对象一份，100个对象有100份</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">System.out.printIn(stu.age);<span class=\"comment\">//10</span></span><br><span class=\"line\">System.out.printIn(student.no);<span class=\"comment\">//报错</span></span><br></pre></td></tr></table></figure>\n\n<p>报错因为no这个实例变量不能直接采用“类名”的方式访问</p>\n<p>因为no是实例变量，对象级别的变量，变量储存在Java对象内部，必须先有对象通过对象才能访问no这个实例变量，不能直接通过“类名”</p>\n<p>成员变量没有手动赋值，系统赋默认值</p>\n<table>\n<thead>\n<tr>\n<th>数据类型</th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>byte， short， int， long</td>\n<td>0</td>\n</tr>\n<tr>\n<td>float，double</td>\n<td>0.0</td>\n</tr>\n<tr>\n<td>char</td>\n<td>\\u000</td>\n</tr>\n<tr>\n<td>引用数据类型</td>\n<td>null （空值）</td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n</tr>\n</tbody></table>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Address</span>&#123;</span><br><span class=\"line\">  String city;</span><br><span class=\"line\">  String street;</span><br><span class=\"line\">  String zipcode;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">User</span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">//属性【以下都是成员变量之实例变量】</span></span><br><span class=\"line\">  <span class=\"type\">int</span> no;<span class=\"comment\">//int基本数据类型，no是实例变量</span></span><br><span class=\"line\">  String name;<span class=\"comment\">//String引用数据类型，name是引用满是实例变量</span></span><br><span class=\"line\">  Address addr;<span class=\"comment\">//Address引用数据类型，addr是引用</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">OOTest02</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//创建User对象</span></span><br><span class=\"line\">    <span class=\"comment\">//u是局部变量</span></span><br><span class=\"line\">    <span class=\"comment\">//u是一个引用 </span></span><br><span class=\"line\">    <span class=\"comment\">//u保存内存地址指向堆内存的User对象</span></span><br><span class=\"line\">    <span class=\"type\">User</span> <span class=\"variable\">u</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">User</span>()；<span class=\"comment\">//（从右往前）</span></span><br><span class=\"line\">    u.no = <span class=\"number\">110</span>;</span><br><span class=\"line\">    u.name = <span class=\"string\">&quot;jack&quot;</span>;<span class=\"comment\">//字符串比较特殊不用new，jack是一个Java对象，属于String对象</span></span><br><span class=\"line\">    u.addr = <span class=\"keyword\">new</span> <span class=\"title class_\">Address</span>();<span class=\"comment\">//等号右边先执行，Address对象三个none、none、none</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">//main方法只有一个引用u</span></span><br><span class=\"line\">    <span class=\"comment\">//一切只能通过u来访问</span></span><br><span class=\"line\">    System.out.println(u.name + <span class=\"string\">&quot;居住在&quot;</span> + u.addr.city);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<p><img src=\"/image/image-20210527194926715.png\" alt=\"image-20210527194926715\"></p>\n<p><img src=\"/image/image-20210527195317973.png\" alt=\"image-20210527195317973\"></p>\n<p><strong>找出所有引用</strong></p>\n<p><img src=\"/image/image-20210527195451792.png\" alt=\"image-20210527195451792\"></p>\n<p>空引用访问“实例”相关数据一定会造成空指针异常 NullPointerException</p>\n<p>实例相关数据表示访问时必须有对象参与</p>\n<h3 id=\"类怎么定义\"><a href=\"#类怎么定义\" class=\"headerlink\" title=\"类怎么定义\"></a>类怎么定义</h3><p>[修饰符列表]class 类名{</p>\n<p>  属性；</p>\n<p>  方法；</p>\n<p>}</p>\n<p>现实世界当中超市中的商品，发现这所有的商品都要有一些共同的特征，例如，每一个商品都有编号，每一个商品都有单价，所以定义以下的类，来代表所有商品。</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Product</span>&#123;<span class=\"comment\">//为什么要写class？因为要做超市的管理系统，超市有商品，商品有共同的特征，想到了编号，单价，所以利用基本数据类型（int double），定义了两个变量。</span></span><br><span class=\"line\">\t<span class=\"comment\">//编号【数字，整数】</span></span><br><span class=\"line\">  <span class=\"type\">int</span> productNo;</span><br><span class=\"line\">  <span class=\"comment\">//productNo是基本数据类型</span></span><br><span class=\"line\">  <span class=\"comment\">//单价【数字，小数】</span></span><br><span class=\"line\">  <span class=\"type\">double</span> price;</span><br><span class=\"line\">  <span class=\"comment\">//price 是基本数据类型</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  Student s= <span class=\"literal\">null</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"type\">Product</span> <span class=\"variable\">pro</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Product</span>&#123;&#125;;<span class=\"comment\">//实例变量需要new出来才能引用，引用方式如下</span></span><br><span class=\"line\">pro.price = <span class=\"number\">0x1123123</span>;<span class=\"comment\">//访问 可以（读一读）（改一改）</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>product是实例变量，下面对他进行访问</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">ProductTest</span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(string[] args)</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//创建对象，商品对象</span></span><br><span class=\"line\">    <span class=\"comment\">//iphoneProMax局部变量</span></span><br><span class=\"line\">    <span class=\"comment\">//iphoneProMax引用</span></span><br><span class=\"line\">    <span class=\"comment\">//iphoneProMax变量中保存内存地址指向堆内存当中的商品对象</span></span><br><span class=\"line\">    <span class=\"type\">Product</span> <span class=\"variable\">iphoneProMax</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Product</span>();</span><br><span class=\"line\">    <span class=\"comment\">//访问实例变量的语法： 引用.变量名</span></span><br><span class=\"line\">    System.out.printIn(<span class=\"string\">&quot;商品编号：&quot;</span>+iphoneProMax.productNo);</span><br><span class=\"line\">    iphoneProMax.price = <span class=\"number\">8000.0</span>；</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;商品单价：&quot;</span>+iphoneProMax.price);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n\n\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">\t要求定义一个汽车类</span></span><br><span class=\"line\"><span class=\"comment\">\t\t*品牌：字符串</span></span><br><span class=\"line\"><span class=\"comment\">\t\t*颜色：字符串</span></span><br><span class=\"line\"><span class=\"comment\">\t\t*号牌：字符串</span></span><br><span class=\"line\"><span class=\"comment\">\t\t*购买总价：浮点型数据</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Car</span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">//属性【成员变量之：实例变量】</span></span><br><span class=\"line\">  <span class=\"comment\">//总价</span></span><br><span class=\"line\">  基本数据类型</span><br><span class=\"line\">  <span class=\"type\">double</span> price;</span><br><span class=\"line\">  <span class=\"comment\">//品牌</span></span><br><span class=\"line\">  引用数据类型</span><br><span class=\"line\">  String brand;</span><br><span class=\"line\">  <span class=\"comment\">//颜色</span></span><br><span class=\"line\">  <span class=\"comment\">//引用数据类型</span></span><br><span class=\"line\">  String color;</span><br><span class=\"line\">  <span class=\"comment\">//号牌</span></span><br><span class=\"line\">  <span class=\"comment\">//引用数据类型</span></span><br><span class=\"line\">  String No;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">\t房屋类(不太行)</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">house</span>&#123;</span><br><span class=\"line\">  <span class=\"type\">double</span> proportion;</span><br><span class=\"line\">  String owner;<span class=\"comment\">//想知道户主的身份信息，但是不能在下一行定义实例变量ID，会误解为房子的ID</span></span><br><span class=\"line\">   </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">\t房屋类（行）</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">house</span>&#123;</span><br><span class=\"line\">  <span class=\"type\">double</span> proportion;</span><br><span class=\"line\">  Person owner ;<span class=\"comment\">//new是个地址（其中就是联系电话、就是地址、就是各种信息）</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Person</span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">//名字</span></span><br><span class=\"line\">  String name;</span><br><span class=\"line\">  <span class=\"comment\">//身份证号</span></span><br><span class=\"line\">  String id;</span><br><span class=\"line\">  <span class=\"comment\">//性别</span></span><br><span class=\"line\">  <span class=\"type\">boolean</span> sex;</span><br><span class=\"line\">  <span class=\"comment\">//年龄</span></span><br><span class=\"line\">  <span class=\"type\">int</span> age;</span><br><span class=\"line\">  <span class=\"comment\">//妻子</span></span><br><span class=\"line\">  Wife wife；</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"封装\"><a href=\"#封装\" class=\"headerlink\" title=\"封装\"></a>封装</h3><ol>\n<li>对外提供简单的操作入口，照相机原理很复杂，但是操作很简单</li>\n<li>提高安全性</li>\n<li>以后程序可以重服使用</li>\n<li>封装后才形成真正的对象，“独立体”</li>\n</ol>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">User</span></span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">()</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"封装的步骤\"><a href=\"#封装的步骤\" class=\"headerlink\" title=\"封装的步骤\"></a>封装的步骤</h4><ol>\n<li><p>属性私有化，是用private进行修饰，private表示私有，修饰后的所有数据只能在本类中访问。</p>\n</li>\n<li><p>对外提供简单的入口 </p>\n<p>对外提供两个方法（get，set）</p>\n</li>\n</ol>\n<h4 id=\"背会\"><a href=\"#背会\" class=\"headerlink\" title=\"背会\"></a>背会</h4><p>sette and getter方法没有static关键字</p>\n<p>有static关键字修饰的方法怎么调用：类 名.方法名（实参）；</p>\n<p>没有static关键字修饰的方法：引用.方法名（实参）</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">User</span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"type\">int</span> age;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">setAge</span><span class=\"params\">(<span class=\"type\">int</span> a)</span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span>(a &lt; <span class=\"number\">0</span> || a &gt;<span class=\"number\">150</span> )&#123;</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;对不起，您给的年龄不合法&quot;</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  age = a;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"> \t<span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">getAge</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> age;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>封装之后</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">UserTest</span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] srgs)</span>&#123;</span><br><span class=\"line\">    <span class=\"type\">User</span> <span class=\"variable\">user</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">User</span>();</span><br><span class=\"line\">    user.setAge(<span class=\"number\">10</span>);</span><br><span class=\"line\">    System.out.println(user.getAge());</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"构造方法\"><a href=\"#构造方法\" class=\"headerlink\" title=\"构造方法\"></a>构造方法</h4><ol>\n<li><p>构造方法又称构造函数，返回值类型不需要指定，加上void int 就变成普通方法了</p>\n</li>\n<li><p>构造方法的作用：通过方法的调用创建对象。</p>\n</li>\n<li><p>构造方法的方法名必须和类名保持一致</p>\n</li>\n<li><p>每个构造方法实际上执行结束之后都有返回值，但是这个return不需要写，返回值就是类本身</p>\n</li>\n<li><p>[修饰符列表]构造方法方法名（形参数）</p>\n<p>{方法体}；</p>\n<p>  } </p>\n</li>\n</ol>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">ConstructorTest01</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">//创建User对象</span></span><br><span class=\"line\">        <span class=\"comment\">//调用User类的构造方法来完成对象的创建</span></span><br><span class=\"line\">        <span class=\"comment\">//以下程序创建了4个对象，只要构造函数调用就会查u你感觉爱你对象，并且在“堆内存”开辟内存空间</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"type\">User</span> <span class=\"variable\">u2</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">User</span>(<span class=\"number\">10</span>);</span><br><span class=\"line\">        <span class=\"type\">User</span> <span class=\"variable\">u3</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">User</span>(<span class=\"string\">&quot;gujm&quot;</span>);</span><br><span class=\"line\">        ConstructorTest01.dosome();</span><br><span class=\"line\">        dosome();</span><br><span class=\"line\">        <span class=\"type\">ConstructorTest01</span> <span class=\"variable\">t</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">ConstructorTest01</span>();</span><br><span class=\"line\">        t.doOther();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//调用带有static的方法：类名</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">dosome</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;do some!&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//调用没有static的方法：引用</span></span><br><span class=\"line\">    <span class=\"comment\">//doOther方法在ConstructorTest01类中，所以需要创建ConstructorTest01对象</span></span><br><span class=\"line\">    <span class=\"comment\">//创建ConstructorTest01对象之后，调用无参数构造方法</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span>  <span class=\"title function_\">doOther</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;Do other!&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">User</span>&#123;</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">User</span><span class=\"params\">(<span class=\"type\">int</span> i)</span>&#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;带有int类型构造器&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">User</span><span class=\"params\">(String name)</span>&#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;带有String类型构造器&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>构造方法作用：创造对象，给实例对象赋值</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">ConstructorTest01</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">Account</span> <span class=\"variable\">act1</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Account</span>();</span><br><span class=\"line\">        act1.setActno(<span class=\"string\">&quot;111&quot;</span>);</span><br><span class=\"line\">        System.out.println(act1.getActno());</span><br><span class=\"line\">        <span class=\"type\">Account</span> <span class=\"variable\">act2</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Account</span>(<span class=\"string\">&quot;10&quot;</span>);</span><br><span class=\"line\">        System.out.println(act2.getActno());</span><br><span class=\"line\">        System.out.println(act1.getBalance());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Account</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String actno;<span class=\"comment\">//实例变量，创建对象之后才会有实例变量，实例方法在构造方法过程中完成赋值</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"type\">double</span> balance;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> String <span class=\"title function_\">getActno</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> actno;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">setActno</span><span class=\"params\">(String actno)</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.actno = actno;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">double</span> <span class=\"title function_\">getBalance</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> balance;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">setBalance</span><span class=\"params\">(<span class=\"type\">double</span> balance)</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.balance = balance;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">Account</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;空参数方法&quot;</span>);</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">Account</span><span class=\"params\">(String s)</span>&#123;</span><br><span class=\"line\">        actno = s;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"参数传递\"><a href=\"#参数传递\" class=\"headerlink\" title=\"参数传递\"></a>参数传递</h3><p>传的永远是变量保存的值</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">ConstructorTest01</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">User</span> <span class=\"variable\">u</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">User</span>(<span class=\"number\">20</span>);</span><br><span class=\"line\">      <span class=\"comment\">//User User = 0x1234</span></span><br><span class=\"line\">      <span class=\"comment\">//传递u给add方法的时候，实际上传递的是u变量中保存的值，只不过这个值是一个java对象的内存地址</span></span><br><span class=\"line\">        add(u);</span><br><span class=\"line\">        System.out.println(u.age);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">add</span><span class=\"params\">(User u)</span>&#123;</span><br><span class=\"line\">        u.age++;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;add--&gt;&quot;</span> + u.age);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">static</span> <span class=\"keyword\">class</span> <span class=\"title class_\">User</span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> age;</span><br><span class=\"line\">        <span class=\"keyword\">public</span> <span class=\"title function_\">User</span><span class=\"params\">(<span class=\"type\">int</span> i)</span>&#123;</span><br><span class=\"line\">            age = i;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/image/image-20210620092032503.png\" alt=\"image-20210620092032503\"></p>\n<p>第二个例子</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">User</span> <span class=\"variable\">u</span> <span class=\"operator\">=</span><span class=\"number\">0x1234</span>;</span><br><span class=\"line\">User u1= u;<span class=\"comment\">//u传递给了u1，实际上是吧0x1234这个值赋值给了u1，u和u1实际上是两个不同的局部变量</span></span><br><span class=\"line\"><span class=\"comment\">//但是他们的两个变量指向堆内存中同一个java对象</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"this\"><a href=\"#this\" class=\"headerlink\" title=\"this\"></a>this</h3><p> this 是一个 关键字，翻译为：这个，用在方法中</p>\n<p>this是一个引用，this是一个变量，this变量中保存内存地址指向了自身，this储存子啊JVM堆内存java对象内部</p>\n<p>创建100个java对象，每个对象都有this，也就是说有100个不同的this</p>\n<p><strong>this代表当前正在做（执行实例方法）这个动作的对象</strong></p>\n<p>不能用在static方法中</p>\n<p>在static方法中不能“直接”访问实例变量 实例方法</p>\n<p>因为实例都需要对象存在</p>\n<p>而static中没有this，也就是说，当前对象是不存在的</p>\n<p>自然无法访问当前对象的实例方法</p>\n<p> <strong>用来区分实例变量和局部变量时 this不能省</strong> </p>\n <figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>this（）这种语法只能放在构造方法第一行</p>\n<h3 id=\"static\"><a href=\"#static\" class=\"headerlink\" title=\"static\"></a>static</h3><p>应该采用类名的方式访问，即使new了对象访问static方法，其本质也用的是类名，与引用指向的对象无关，哪怕（t = null）也不会出现空指针异常 </p>\n <figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Chinese</span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> String id;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> String name;</span><br><span class=\"line\">  <span class=\"comment\">//国籍每个对象由于都是Chinese类的实例化，所以每个中国人国籍都是Chinese</span></span><br><span class=\"line\">  <span class=\"comment\">//实例对象在堆内存</span></span><br><span class=\"line\">  <span class=\"comment\">//String country;//所以没必要定义为实例变量,没必要让每一个对象都占内存，改为下一行</span></span><br><span class=\"line\">  <span class=\"keyword\">static</span> <span class=\"type\">String</span> <span class=\"variable\">country</span> <span class=\"operator\">=</span> <span class=\"string\">&quot;中国&quot;</span>;<span class=\"comment\">//类级别特征，变量前加static，静态变量不需要创造对象，内存就开辟了，在方法区内存 </span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/image/image-20210624165417791.png\" alt=\"image-20210624165417791\"></p>\n<h4 id=\"什么时候成员变量申明为静态变量？\"><a href=\"#什么时候成员变量申明为静态变量？\" class=\"headerlink\" title=\"什么时候成员变量申明为静态变量？\"></a>什么时候成员变量申明为静态变量？</h4><p>所有的对象都有这个属性，并且所有对象的这个属性值一样</p>\n<h4 id=\"什么时候成员变量申明为静态变量？-1\"><a href=\"#什么时候成员变量申明为静态变量？-1\" class=\"headerlink\" title=\"什么时候成员变量申明为静态变量？\"></a>什么时候成员变量申明为静态变量？</h4><p>所有对象都有这个属性，不同对象值不同或属性值随对象值改变</p>\n<h4 id=\"static使用方式\"><a href=\"#static使用方式\" class=\"headerlink\" title=\"static使用方式\"></a>static使用方式</h4><p>静态变量在类加载的时候u初始化，内存在方法区开辟，访问时不需创造对象，直接<strong>类名.变量名</strong></p>\n<h4 id=\"使用static定义“静态代码块”\"><a href=\"#使用static定义“静态代码块”\" class=\"headerlink\" title=\"使用static定义“静态代码块”\"></a>使用static定义“静态代码块”</h4><p>1.语法格式：</p>\n<p>​    static {</p>\n<pre><code>         java语句;\n</code></pre>\n<p>​    }</p>\n<p>2.静态代码在类加载时执行，并且只执行一次</p>\n<p>3.静态代码块在一个类中可以编写多个，从上往下</p>\n<p>4.静态代码块的作用？什么时候用</p>\n<p>​    静态代码时java为程序员准备的一个特殊时刻，在类加载时刻，若需要此刻还在一段特殊程序，可以直接放到静态代码中</p>\n<h4 id=\"静态方法\"><a href=\"#静态方法\" class=\"headerlink\" title=\"静态方法\"></a>静态方法</h4><p>描述一个动作，所有对象执行这个动作最终产生的影响一样，不再属于某一个对象动作</p>\n<p>大多数“工具类”的方法都是静态方法，方便使用</p>\n<h3 id=\"继承\"><a href=\"#继承\" class=\"headerlink\" title=\"继承\"></a>继承</h3><p>继承的基本作用：代码复用，但是继承最重要的作用时：有了继承才有了以后方法的覆盖和多态机制</p>\n<p>[修饰符列表]class 类名 extends 父类名{</p>\n<p>​    类体 = 属性 + 方法</p>\n<p>}</p>\n<p>java语言的继承制支持单继承，一个类不能同时继承很多类，只能继承一个类。</p>\n<p>B类继承A类，A称为父类，基类，超类，superclass</p>\n<p>​                        B称为子类，派生类，subclass</p>\n<p>私有不支持继承，构造方法不支持继承</p>\n<h3 id=\"方法覆盖\"><a href=\"#方法覆盖\" class=\"headerlink\" title=\"方法覆盖\"></a>方法覆盖</h3><p>又称方法重写override/Overwrite</p>\n<p>父类中的方法满足不了子类中的业务需求，有必要重写方法</p>\n<p>就是重新写一遍<strong>完全一样复制</strong>方法，方法区中代码自己改，方法名不变，返回类型不变，参数列表不变，抛出异常不能更低，不能更少，访问权限不能更低可以更高</p>\n<p>animal.move();  cat extend animal;</p>\n<p>私有方法不能继承不能覆盖</p>\n<p>构造方法不能继承不能覆盖</p>\n<p>静态方法不存在覆盖（多态后）</p>\n<h3 id=\"多态\"><a href=\"#多态\" class=\"headerlink\" title=\"多态\"></a>多态</h3><p>animal/ bird /cat </p>\n<p>cat和bird没有任何继承关系</p>\n<p>面向对象三大特征：封装 继承 多态</p>\n<p>多态中涉及到的几个概念</p>\n<ul>\n<li><p>向上转型（upcasting）</p>\n<p>子类型 –&gt; 父类型</p>\n<p>自动类型转换</p>\n</li>\n<li><p>向下转型（downcasting）</p>\n<p>父类型 –&gt; 子类型</p>\n<p>强制类型转换</p>\n</li>\n</ul>\n<p><img src=\"/image/image-20210625084016091.png\" alt=\"image-20210625084016091\"></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Animal</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">move</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;动物在行走&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> <span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Cat</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">Animal</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">move</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;猫在走猫步&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">catchMouse</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;猫抓老鼠&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Bird</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">Animal</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">move</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;鸟在飞翔&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">ConstructorTest01</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">Animal</span> <span class=\"variable\">a</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Animal</span>();</span><br><span class=\"line\">        a.move();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"type\">Cat</span> <span class=\"variable\">b</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Cat</span>();</span><br><span class=\"line\">        b.move();</span><br><span class=\"line\">        b.catchMouse();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"type\">Bird</span> <span class=\"variable\">c</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Bird</span>();</span><br><span class=\"line\">        c.move();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">//使用多态</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">        Cat is an Animal</span></span><br><span class=\"line\"><span class=\"comment\">        父类型引用指向子类型对象</span></span><br><span class=\"line\"><span class=\"comment\">        new Cat()创建的对象类型为Cat，a2这个引用的数据类型是Animal，可见他们进行了类型转换</span></span><br><span class=\"line\"><span class=\"comment\">        子类型转换成了父类型，称为向上转型，自动类型转换</span></span><br><span class=\"line\"><span class=\"comment\">        */</span></span><br><span class=\"line\">        <span class=\"type\">Animal</span> <span class=\"variable\">a2</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Cat</span>();</span><br><span class=\"line\">   <span class=\"comment\">/*    java两个阶段 编译阶段· 运行阶段</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">编译无法通过程序无法运行</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">编译阶段编译器检查a2这个引用的数据类型为Animal.class,字节码中有move方法，所以编译通过了，这个过程我们称为静态绑定，编译阶段绑定</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">在程序运行阶段，JVM堆内存当中真实创建的对象是Cat对象啊，那么下面程序在运行阶段一定调用Cat对象的move()方法，此时发生程序动态绑定</span></span><br><span class=\"line\"><span class=\"comment\">        */</span></span><br><span class=\"line\">        a2.move();</span><br><span class=\"line\">      <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">      \ta2.catchMouse();</span></span><br><span class=\"line\"><span class=\"comment\">      \t编译阶段就出错了</span></span><br><span class=\"line\"><span class=\"comment\">      */</span></span><br><span class=\"line\">      <span class=\"type\">Cat</span> <span class=\"variable\">c2</span> <span class=\"operator\">=</span> (Cat)a2;</span><br><span class=\"line\">      c2.catchMouse();</span><br><span class=\"line\">      </span><br><span class=\"line\">      <span class=\"comment\">//以下程序编译没问题</span></span><br><span class=\"line\">      <span class=\"comment\">//但是运行会出现异常，因为JVM堆内存中真正存在的对象是Bird类型，Bird对象无法转换为Cat对象，因为两种类型之间不存在任何继承关系，此时出现了著名的异常</span></span><br><span class=\"line\">      <span class=\"comment\">//java.lang.ClassCastException</span></span><br><span class=\"line\">      <span class=\"comment\">//类型转换异常，向下转型时会发生  </span></span><br><span class=\"line\">      <span class=\"type\">Animal</span> <span class=\"variable\">a3</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Bird</span>();</span><br><span class=\"line\">      <span class=\"type\">cat</span> <span class=\"variable\">c3</span> <span class=\"operator\">=</span> (Cat)a3;</span><br><span class=\"line\">      <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">      以上异常只有在强制类型转换时才会发生，这么说向下转型存在隐患</span></span><br><span class=\"line\"><span class=\"comment\">      向上转型只要编译通过一定能运行，</span></span><br><span class=\"line\"><span class=\"comment\">      向下转型，运行可能错误java.lang.ClassCastException</span></span><br><span class=\"line\"><span class=\"comment\">      */</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"什么时候需要向下转型\"><a href=\"#什么时候需要向下转型\" class=\"headerlink\" title=\"什么时候需要向下转型\"></a>什么时候需要向下转型</h4><p>当调用的属性和方法是在子类型中特有的，父类型中不存在</p>\n<h4 id=\"避免向下转型ClassCastException异常\"><a href=\"#避免向下转型ClassCastException异常\" class=\"headerlink\" title=\"避免向下转型ClassCastException异常\"></a>避免向下转型ClassCastException异常</h4><p>（引用instanceof 数据类型名）</p>\n<p>（a instanceof Animal）</p>\n<p>true表示：</p>\n<p>​                a引用指向的对象是Animal</p>\n<p>false。。。</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span>(a3 <span class=\"keyword\">instanceof</span> Bird)&#123;</span><br><span class=\"line\">  <span class=\"type\">Bird</span> <span class=\"variable\">b2</span> <span class=\"operator\">=</span> (Bird)a3;</span><br><span class=\"line\">  b2.fly;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(a3 <span class=\"keyword\">instanceof</span> Cat)&#123;</span><br><span class=\"line\">  <span class=\"type\">Cat</span> <span class=\"variable\">c3</span> <span class=\"operator\">=</span> (Cat)a3;</span><br><span class=\"line\">  C2.catchMouse();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>耦合度低 扩展力强</p>\n<h3 id=\"final\"><a href=\"#final\" class=\"headerlink\" title=\"final\"></a>final</h3><p>1最终的、不可变得</p>\n<p>2final修饰的类无法<strong>被继承</strong></p>\n<p>3final修饰的方法不能被<strong>覆盖</strong></p>\n<p>4变量赋值后不能<strong>再赋值</strong></p>\n<p>5实例变量加final需要手动赋值 final int age = 0； </p>\n<p>6final 修饰的对象无法改变指向别的对象</p>\n<h4 id=\"常量定义语法格式\"><a href=\"#常量定义语法格式\" class=\"headerlink\" title=\"常量定义语法格式\"></a>常量定义语法格式</h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> 类型 常量名 = 值；</span><br><span class=\"line\"><span class=\"comment\">//常量名必须大写 单词之间下划线连接</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"type\">String</span> <span class=\"variable\">GUO_JI</span> <span class=\"operator\">=</span> <span class=\"string\">&quot;中国&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"type\">double</span> <span class=\"variable\">PI</span> <span class=\"operator\">=</span> <span class=\"number\">3.14159</span>;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"package-amp-amp-import\"><a href=\"#package-amp-amp-import\" class=\"headerlink\" title=\"package &amp;&amp; import\"></a>package &amp;&amp; import</h3><p>在java源程序第一行编写package语句</p>\n<p>package 包名;</p>\n<p>包名命名规范：</p>\n<p>公司域名倒序 +项目名oa +模块名 +功能名;</p>\n<p>com.bjpowernode.oa.user.service;</p>\n<p>包名必须全部小写，也是标识符</p>\n<p>一个包对应一个目录</p>\n<p>import com.bjpowernode.oa.user.service；</p>\n<p>import语句用来倒入其他类，同一个包下的类不需要导入</p>\n<p>import 类名;</p>\n<p>import 包名.*;</p>\n<p>Java.lang.* 不需要手动引入，系统自动</p>\n<p>import java.util.*</p>\n<p>4</p>\n<h3 id=\"访问控制权限\"><a href=\"#访问控制权限\" class=\"headerlink\" title=\"访问控制权限\"></a>访问控制权限</h3><blockquote>\n<p>​        public                       表示公开的</p>\n<p>​        protected                同包下可以访问，子类可以访问</p>\n<p>​        缺省                          同包</p>\n<p>​        private                     表示私有，只能在本类访问</p>\n</blockquote>\n<p>缺省和protected出了包之后就</p>\n<h3 id=\"super\"><a href=\"#super\" class=\"headerlink\" title=\"super\"></a>super</h3><p>super关键字：我们可以通过super关键字来实现对父类成员的访问，用来引用当前对象的父类。x</p>\n<h4 id=\"构造器\"><a href=\"#构造器\" class=\"headerlink\" title=\"构造器\"></a>构造器</h4><p>子类是不继承父类的构造器（构造方法或者构造函数）的，它只是调用（隐式或显式）。如果父类的构造器带有参数，则必须在子类的构造器中显式地通过 <strong>super</strong> 关键字调用父类的构造器并配以适当的参数列表。</p>\n<p>如果父类构造器没有参数，则在子类的构造器中不需要使用 <strong>super</strong> 关键字调用父类构造器，系统会自动调用父类的无参构造器</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">SuperClass</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"type\">int</span> n;</span><br><span class=\"line\">  SuperClass()&#123;</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;SuperClass()&quot;</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  SuperClass(<span class=\"type\">int</span> n) &#123;</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;SuperClass(int n)&quot;</span>);</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.n = n;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// SubClass 类继承</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">SubClass</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">SuperClass</span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"type\">int</span> n;</span><br><span class=\"line\">  </span><br><span class=\"line\">  SubClass()&#123; <span class=\"comment\">// 自动调用父类的无参数构造器</span></span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;SubClass&quot;</span>);</span><br><span class=\"line\">  &#125;  </span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"title function_\">SubClass</span><span class=\"params\">(<span class=\"type\">int</span> n)</span>&#123; </span><br><span class=\"line\">    <span class=\"built_in\">super</span>(<span class=\"number\">300</span>);  <span class=\"comment\">// 调用父类中带有参数的构造器</span></span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;SubClass(int n):&quot;</span>+n);</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.n = n;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// SubClass2 类继承</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">SubClass2</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">SuperClass</span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"type\">int</span> n;</span><br><span class=\"line\">  </span><br><span class=\"line\">  SubClass2()&#123;</span><br><span class=\"line\">    <span class=\"built_in\">super</span>(<span class=\"number\">300</span>);  <span class=\"comment\">// 调用父类中带有参数的构造器</span></span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;SubClass2&quot;</span>);</span><br><span class=\"line\">  &#125;  </span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"title function_\">SubClass2</span><span class=\"params\">(<span class=\"type\">int</span> n)</span>&#123; <span class=\"comment\">// 自动调用父类的无参数构造器</span></span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;SubClass2(int n):&quot;</span>+n);</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.n = n;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">TestSuperSub</span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span> <span class=\"params\">(String args[])</span>&#123;</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;------SubClass 类继承------&quot;</span>);</span><br><span class=\"line\">    <span class=\"type\">SubClass</span> <span class=\"variable\">sc1</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">SubClass</span>();</span><br><span class=\"line\">    <span class=\"type\">SubClass</span> <span class=\"variable\">sc2</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">SubClass</span>(<span class=\"number\">100</span>); </span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;------SubClass2 类继承------&quot;</span>);</span><br><span class=\"line\">    <span class=\"type\">SubClass2</span> <span class=\"variable\">sc3</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">SubClass2</span>();</span><br><span class=\"line\">    <span class=\"type\">SubClass2</span> <span class=\"variable\">sc4</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">SubClass2</span>(<span class=\"number\">200</span>); </span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">输出结果为：</span><br><span class=\"line\"></span><br><span class=\"line\">------SubClass 类继承------</span><br><span class=\"line\">SuperClass()</span><br><span class=\"line\">SubClass</span><br><span class=\"line\"><span class=\"title function_\">SuperClass</span><span class=\"params\">(<span class=\"type\">int</span> n)</span></span><br><span class=\"line\">SubClass(<span class=\"type\">int</span> n):<span class=\"number\">100</span></span><br><span class=\"line\">------SubClass2 类继承------</span><br><span class=\"line\">SuperClass(<span class=\"type\">int</span> n)</span><br><span class=\"line\">SubClass2</span><br><span class=\"line\"><span class=\"title function_\">SuperClass</span><span class=\"params\">()</span></span><br><span class=\"line\">SubClass2(<span class=\"type\">int</span> n):<span class=\"number\">200</span></span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">do</span> &#123;</span><br><span class=\"line\">            str = br.readLine();</span><br><span class=\"line\">            System.out.println(str);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">while</span> (!str.equals(<span class=\"string\">&quot;end&quot;</span>));</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n\n<p>除了static内部类,内部类中不允许static静态变量</p>\n<h3 id=\"值传递\"><a href=\"#值传递\" class=\"headerlink\" title=\"值传递\"></a>值传递</h3><p><img src=\"/image/image-20210727142922916.png\" alt=\"image-20210727142922916\"></p>\n<p> <img src=\"/image/image-20210727144149656.png\" alt=\"image-20210727144149656\"></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@author</span> Gujm</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@date</span> 2021/7/27 8:14 下午</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">BankTest</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">Bank</span> <span class=\"variable\">bank</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Bank</span>();</span><br><span class=\"line\">        bank.addCustomer(<span class=\"string\">&quot;G&quot;</span>,<span class=\"string\">&quot;jm&quot;</span>);</span><br><span class=\"line\">        bank.getCustomer(<span class=\"number\">0</span>).setAccount(<span class=\"keyword\">new</span> <span class=\"title class_\">Account</span>(<span class=\"number\">2000</span>));</span><br><span class=\"line\">        bank.getCustomer(<span class=\"number\">0</span>).getAccount().withdraw(<span class=\"number\">500</span>);</span><br><span class=\"line\">        <span class=\"type\">double</span> <span class=\"variable\">balance</span> <span class=\"operator\">=</span> bank.getCustomer(<span class=\"number\">0</span>).getAccount().getBalance();</span><br><span class=\"line\">        System.out.println(bank.getCustomer(<span class=\"number\">0</span>).getFirstName()+<span class=\"string\">&quot;账户余额为&quot;</span>+balance);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"> <span class=\"keyword\">class</span> <span class=\"title class_\">Bank</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Customer[] customers;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"type\">int</span> numberOfCustomers;<span class=\"comment\">//客户个数</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">Bank</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        customers = <span class=\"keyword\">new</span> <span class=\"title class_\">Customer</span>[<span class=\"number\">10</span>];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//添加客户</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">addCustomer</span><span class=\"params\">(String f, String l)</span>&#123;</span><br><span class=\"line\">        <span class=\"type\">Customer</span> <span class=\"variable\">cust</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Customer</span>(f,l);</span><br><span class=\"line\">        customers[numberOfCustomers++] = cust;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//获取客户个数</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">getNumberOfCustomers</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> numberOfCustomers;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//获取制定位置的客户</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> Customer <span class=\"title function_\">getCustomer</span><span class=\"params\">(<span class=\"type\">int</span> index)</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(index &gt;= <span class=\"number\">0</span> &amp;&amp; index &lt; numberOfCustomers)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> customers[index];</span><br><span class=\"line\">        &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"> <span class=\"keyword\">class</span> <span class=\"title class_\">Account</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"type\">double</span> balance;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">Account</span><span class=\"params\">(<span class=\"type\">double</span> init_balance)</span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.balance = init_balance;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">double</span> <span class=\"title function_\">getBalance</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> balance;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">deposit</span><span class=\"params\">(<span class=\"type\">double</span> amt)</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(amt &gt; <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">            balance += amt;</span><br><span class=\"line\">            System.out.println(<span class=\"string\">&quot;存钱成功&quot;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">withdraw</span><span class=\"params\">(<span class=\"type\">double</span> amt)</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (balance &gt;= amt)&#123;</span><br><span class=\"line\">            balance -= amt;</span><br><span class=\"line\">            System.out.println(<span class=\"string\">&quot;取钱成功&quot;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            System.out.println(<span class=\"string\">&quot;余额不足&quot;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"> <span class=\"keyword\">class</span> <span class=\"title class_\">Customer</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String firstName;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String lastName;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Account account;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">Customer</span><span class=\"params\">(String f, String l)</span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.firstName = f;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.lastName = l;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">     <span class=\"keyword\">public</span> String <span class=\"title function_\">getFirstName</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">         <span class=\"keyword\">return</span> firstName;</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">     <span class=\"keyword\">public</span> String <span class=\"title function_\">getLastName</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">         <span class=\"keyword\">return</span> lastName;</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">     <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">setAccount</span><span class=\"params\">(Account account)</span> &#123;</span><br><span class=\"line\">         <span class=\"built_in\">this</span>.account = account;</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">     <span class=\"keyword\">public</span> Account <span class=\"title function_\">getAccount</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">         <span class=\"keyword\">return</span> account;</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"equals\"><a href=\"#equals\" class=\"headerlink\" title=\"equals()\"></a>equals()</h3><p>String、Date 、 File、Io包装都重写了equals()方法, 只比较实体内容是否相等.</p>\n<h3 id=\"基本数据类型包装类\"><a href=\"#基本数据类型包装类\" class=\"headerlink\" title=\"基本数据类型包装类\"></a>基本数据类型包装类</h3><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">String</span> <span class=\"variable\">str1</span> <span class=\"operator\">=</span> <span class=\"string\">&quot;123&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"variable\">num2</span> <span class=\"operator\">=</span> Integer.parseInt(str1);</span><br><span class=\"line\"></span><br><span class=\"line\">System.out.println(num2+<span class=\"number\">1</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">String</span> <span class=\"variable\">str2</span> <span class=\"operator\">=</span> <span class=\"string\">&quot;true1&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">Boolean</span> <span class=\"variable\">b1</span> <span class=\"operator\">=</span> Boolean.parseBoolean(str2);</span><br><span class=\"line\"></span><br><span class=\"line\">sout(b1);</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"多线程\"><a href=\"#多线程\" class=\"headerlink\" title=\"多线程\"></a>多线程</h3><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> java3;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@author</span> Gujm</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@date</span> 2021/8/21 2:15 下午</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Clerk</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"type\">int</span> <span class=\"variable\">productCount</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//生产</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">synchronized</span> <span class=\"keyword\">void</span> <span class=\"title function_\">produceProduct</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (productCount &lt; <span class=\"number\">20</span>) &#123;</span><br><span class=\"line\">            productCount++;</span><br><span class=\"line\">            System.out.println(Thread.currentThread().getName() + <span class=\"string\">&quot;开始生产第&quot;</span> + productCount);</span><br><span class=\"line\">        &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">            <span class=\"comment\">//等待</span></span><br><span class=\"line\">            <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">                wait();</span><br><span class=\"line\">            &#125; <span class=\"keyword\">catch</span> (InterruptedException e) &#123;</span><br><span class=\"line\">                e.printStackTrace();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//消费</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">synchronized</span> <span class=\"keyword\">void</span> <span class=\"title function_\">consumeProduct</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (productCount &gt; <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">            System.out.println(Thread.currentThread().getName() + <span class=\"string\">&quot;开始消费第&quot;</span> + productCount);</span><br><span class=\"line\">            productCount--;</span><br><span class=\"line\">        &#125;<span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"comment\">//等待</span></span><br><span class=\"line\">            <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">                wait();</span><br><span class=\"line\">            &#125; <span class=\"keyword\">catch</span> (InterruptedException e) &#123;</span><br><span class=\"line\">                e.printStackTrace();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Producer</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">Thread</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Clerk clerk;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">Producer</span><span class=\"params\">(Clerk clerk)</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.clerk = clerk;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">run</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        System.out.println(getName() + <span class=\"string\">&quot;开始生产。。&quot;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (<span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">                Thread.sleep(<span class=\"number\">10</span>);</span><br><span class=\"line\">            &#125; <span class=\"keyword\">catch</span> (InterruptedException e) &#123;</span><br><span class=\"line\">                e.printStackTrace();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            clerk.produceProduct();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Customer</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">Thread</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Clerk clerk;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">Customer</span><span class=\"params\">(Clerk clerk)</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.clerk = clerk;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">run</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        System.out.println(getName() + <span class=\"string\">&quot;开始消费。。&quot;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (<span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">                Thread.sleep(<span class=\"number\">20</span>);</span><br><span class=\"line\">            &#125; <span class=\"keyword\">catch</span> (InterruptedException e) &#123;</span><br><span class=\"line\">                e.printStackTrace();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            clerk.consumeProduct();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">ProductTest</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">Clerk</span> <span class=\"variable\">clerk</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Clerk</span>();</span><br><span class=\"line\">        <span class=\"type\">Producer</span> <span class=\"variable\">p1</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Producer</span>(clerk);</span><br><span class=\"line\">        p1.setName(<span class=\"string\">&quot;生产者1&quot;</span>);</span><br><span class=\"line\">        <span class=\"type\">Customer</span> <span class=\"variable\">c1</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Customer</span>(clerk);</span><br><span class=\"line\">        c1.setName(<span class=\"string\">&quot;消费者1&quot;</span>);</span><br><span class=\"line\">        <span class=\"type\">Customer</span> <span class=\"variable\">c2</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Customer</span>(clerk);</span><br><span class=\"line\">        c2.setName(<span class=\"string\">&quot;消费者2&quot;</span>);</span><br><span class=\"line\">        p1.start();</span><br><span class=\"line\">        c1.start();</span><br><span class=\"line\">        c2.start();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"常用类\"><a href=\"#常用类\" class=\"headerlink\" title=\"常用类\"></a>常用类</h3><h4 id=\"String\"><a href=\"#String\" class=\"headerlink\" title=\"String\"></a>String</h4><h3 id=\"ArrayList常用方法\"><a href=\"#ArrayList常用方法\" class=\"headerlink\" title=\"ArrayList常用方法\"></a>ArrayList常用方法</h3><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">增:add(Object obj)</span><br><span class=\"line\"></span><br><span class=\"line\">删:remove(<span class=\"type\">int</span> index) remove(Object obj)</span><br><span class=\"line\"></span><br><span class=\"line\">改:set(<span class=\"type\">int</span> index, Object ele)</span><br><span class=\"line\"></span><br><span class=\"line\">查:get(<span class=\"type\">int</span> index)</span><br><span class=\"line\"></span><br><span class=\"line\">插:add(<span class=\"type\">int</span> index, Object ele)</span><br><span class=\"line\"></span><br><span class=\"line\">遍历:<span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\">Iterator迭代器方式</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">Iterator</span> <span class=\"variable\">iterator</span> <span class=\"operator\">=</span> list.iterator();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">while</span>(iterator.hasNext())&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">​\t\tSystem.out.println(<span class=\"string\">&quot;****&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">遍历:<span class=\"number\">2</span></span><br><span class=\"line\"></span><br><span class=\"line\">增强<span class=\"keyword\">for</span>循环</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span>(Object obj : list)&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">​\t\tSystem.out.println(obj);</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">System.out.println(<span class=\"string\">&quot;***&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">遍历:<span class=\"number\">3</span></span><br><span class=\"line\"></span><br><span class=\"line\">普通<span class=\"keyword\">for</span>循环</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; list.size(); i++)&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">​\t\tSystem.out.println(list.get(i));  </span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">没听</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/image/image-20210905000354527.png\" alt=\"image-20210905000354527\"></p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"java\"><a href=\"#java\" class=\"headerlink\" title=\"java\"></a>java</h2><p> 三元运算符可以嵌套</p>\n<h3 id=\"位运算符\"><a href=\"#位运算符\" class=\"headerlink\" title=\"位运算符\"></a>位运算符</h3><p>操作的是整形的数据</p>\n<p>&lt;&lt;:在一定范围内,每向左移一位,相当于 *2</p>\n<blockquote>\n<p>最高效计算2*8. –&gt; 2 &lt;&lt; 3. //  8 &lt;&lt; 1;</p>\n</blockquote>\n<h3 id=\"数组\"><a href=\"#数组\" class=\"headerlink\" title=\"数组\"></a>数组</h3><p>​    equal</p>\n<p>fill</p>\n<p>sort</p>\n<p>toString</p>\n<p>binarySearch</p>\n<h3 id=\"构造器-constructor\"><a href=\"#构造器-constructor\" class=\"headerlink\" title=\"构造器(constructor)\"></a>构造器(constructor)</h3><p>如果没有显示的定义累的构造器的话 系统默认提供一个空参构造器/</p>\n<h3 id=\"方法调用时的内存分配\"><a href=\"#方法调用时的内存分配\" class=\"headerlink\" title=\"方法调用时的内存分配\"></a>方法调用时的内存分配</h3><h4 id=\"内存何时分配\"><a href=\"#内存何时分配\" class=\"headerlink\" title=\"内存何时分配\"></a>内存何时分配</h4><p>方法只有被调用时，在JVM中会给该方法分配“运行所属“内存空间。</p>\n<h4 id=\"JVM内存划分的三块主要空间\"><a href=\"#JVM内存划分的三块主要空间\" class=\"headerlink\" title=\"JVM内存划分的三块主要空间\"></a>JVM内存划分的三块主要空间</h4><ul>\n<li><strong>方法区内存</strong>（代码片段）</li>\n<li>堆内存</li>\n<li>栈内存(分配方法运行的所属内存空间)</li>\n</ul>\n<h4 id=\"数据结构——“栈”\"><a href=\"#数据结构——“栈”\" class=\"headerlink\" title=\"数据结构——“栈”\"></a>数据结构——“栈”</h4><ul>\n<li><p>栈针永远指向栈顶元素</p>\n</li>\n<li><p>异常 需要注意的问题 需 要按照类型的要求输入,很具相应的方法,吐过输入的数据类型月要皮球的数据类型不匹配时没汇报一导致程序</p>\n</li>\n<li><p>栈顶元素处于活跃，其他元素静止</p>\n</li>\n<li><p>术语</p>\n<ul>\n<li>入栈/压栈/push</li>\n<li>弹栈/出栈/pop</li>\n</ul>\n</li>\n<li><p><strong>先进后出 后进先出</strong></p>\n<p>main进-&gt;m1进-&gt;m2进-&gt;m2出-&gt;m1出-&gt;main出</p>\n</li>\n</ul>\n<h4 id=\"方法代码片段的存储\"><a href=\"#方法代码片段的存储\" class=\"headerlink\" title=\"方法代码片段的存储\"></a>方法代码片段的存储</h4><ol>\n<li>方法代码片段属于.class字节码文件的一部分，字节码文件在（classLoader加载器寻找HelloWorld.class）类加载的时候，将其放到了方法去中。所以JVM中的三块主要的内存空间中<strong>方法区内存</strong>最先有数据，存放了代码片段。</li>\n<li>代码片段虽然在方法区内存当中只有一份，但是可以被重复调用。每次调用这个方法的时候需要给该方法分配<strong>独立的活动场所</strong>，在栈内存中分配。</li>\n<li>方法调用，给方法分配内存，压栈；方法结束之后，释放分配内存，弹栈</li>\n</ol>\n<h3 id=\"类与对象\"><a href=\"#类与对象\" class=\"headerlink\" title=\"类与对象\"></a>类与对象</h3><p>类描述对象的共同特征</p>\n<p><strong>类描述的是 状态和动作</strong>（属性+方法）</p>\n<h4 id=\"类的定义\"><a href=\"#类的定义\" class=\"headerlink\" title=\"类的定义\"></a>类的定义</h4><p>类{</p>\n<p> 状态：属性</p>\n<p> 动作：方法；</p>\n<p>}</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//学生类</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Student</span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">//属性【描述对象的状态信息】</span></span><br><span class=\"line\">\t<span class=\"comment\">//属性一般是通过变量的形式完成定义的（int String boolean）</span></span><br><span class=\"line\">\t<span class=\"comment\">//在类体中，方法体之外定义的变量被称为“成员变量”</span></span><br><span class=\"line\">  </span><br><span class=\"line\">\t<span class=\"comment\">//学号</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> no;</span><br><span class=\"line\">\t<span class=\"comment\">//姓名</span></span><br><span class=\"line\">\tString name;</span><br><span class=\"line\">\t<span class=\"comment\">//年龄</span></span><br><span class=\"line\">  <span class=\"type\">int</span> age;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">//方法</span></span><br><span class=\"line\">  <span class=\"comment\">//方法买哦书的是对象的动作信息</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">//唱歌</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">//跳舞</span></span><br><span class=\"line\">  </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"java两种数据类型\"><a href=\"#java两种数据类型\" class=\"headerlink\" title=\"java两种数据类型\"></a>java两种数据类型</h5><ol>\n<li><p>基本数据类型</p>\n<p>short</p>\n<p>long</p>\n<p>int</p>\n<p>boolean</p>\n<p>String</p>\n<p>char</p>\n</li>\n<li><p>引用数据类型</p>\n<p>String.class SUN公司定义</p>\n<p>System.class SUN公司定义</p>\n<p>Student.class 我定义</p>\n<p>MingShen.class 我定义</p>\n<p>….</p>\n<p><strong>java中所有的类都为引用数据类型</strong></p>\n</li>\n</ol>\n<h4 id=\"对象的创建和使用\"><a href=\"#对象的创建和使用\" class=\"headerlink\" title=\"对象的创建和使用\"></a>对象的创建和使用</h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">OOtest01</span>&#123;\t</span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//int 是基本数据类型</span></span><br><span class=\"line\">    <span class=\"comment\">//i 是变量名</span></span><br><span class=\"line\">    <span class=\"comment\">//10 是一个int类型的字面值</span></span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">10</span>;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">//通过一个类可以实例化N个对象</span></span><br><span class=\"line\">\t\t<span class=\"comment\">//实例化对象语法 new 类名（）；</span></span><br><span class=\"line\">\t\t<span class=\"comment\">//new运算符作用是创建对象，在JVM中</span></span><br><span class=\"line\">    <span class=\"comment\">//new运算符的作用是创建对象，在JVM堆内存中开辟新的内存空间</span></span><br><span class=\"line\">    <span class=\"comment\">//方法区内存：再类加载的时候，clss字节码代码片段被加载到内存空间当中</span></span><br><span class=\"line\">    <span class=\"comment\">//栈内存（局部变量）：方法代码片段执行的时候，会给该方法分配内存空间，在栈内存中压栈</span></span><br><span class=\"line\">    <span class=\"comment\">//堆内存：new studeng（）；</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">//Student 是引用数据类型</span></span><br><span class=\"line\">    <span class=\"comment\">//s 是变量名</span></span><br><span class=\"line\">    <span class=\"comment\">//new Student是一个学生对象</span></span><br><span class=\"line\">    <span class=\"type\">Student</span> <span class=\"variable\">s</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Student</span>();</span><br><span class=\"line\">    </span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>当程序执行到new时的内存图如下</strong></p>\n<p><img src=\"/image/image-20210527190012042.png\" alt=\"image-20210527190012042\"></p>\n<p>Non, age, sex, name, addr都是<strong>实例变量</strong></p>\n<p>student这个new出来的对象的<strong>内存地址</strong>给了s，s时<strong>局部变量</strong>，s为<strong>引用</strong></p>\n<p>什么是对象？new运算符在堆内存中开辟的内存空间称为对象</p>\n<p>什么是引用？引用是一个变量，只不过这个变量中保存了另一个java对象的内存地址</p>\n<p>java语言当中程序员只能通过“引用”去访问对内存当中对象内部的实例变量</p>\n<p>访问实例变量的内存数据</p>\n<p>读取数据：引用.变量名  </p>\n<p>修改数据：引用.变量名 = 值</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">int</span> <span class=\"variable\">StuNo</span> <span class=\"operator\">=</span> s.no;</span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"variable\">StuAge</span> <span class=\"operator\">=</span> s.Age；<span class=\"comment\">//读取</span></span><br><span class=\"line\"> s.no = <span class=\"number\">10</span>;</span><br><span class=\"line\"> s.name = <span class=\"string\">&quot;MingShen&quot;</span>;</span><br><span class=\"line\"> s.age = <span class=\"number\">10</span>;<span class=\"comment\">//会把堆内存的内存值改了</span></span><br><span class=\"line\"> <span class=\"type\">Student</span> <span class=\"variable\">stu</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Student</span>();<span class=\"comment\">//再次new对象 stu是引用</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/image/image-20210527193017688.png\" alt=\"image-20210527193017688\"></p>\n<p>局部变量在栈内存中储存</p>\n<p>成员变量中的实例变量在堆内存的java对象内部储存</p>\n<p>实例变量是一个对象一份，100个对象有100份</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">System.out.printIn(stu.age);<span class=\"comment\">//10</span></span><br><span class=\"line\">System.out.printIn(student.no);<span class=\"comment\">//报错</span></span><br></pre></td></tr></table></figure>\n\n<p>报错因为no这个实例变量不能直接采用“类名”的方式访问</p>\n<p>因为no是实例变量，对象级别的变量，变量储存在Java对象内部，必须先有对象通过对象才能访问no这个实例变量，不能直接通过“类名”</p>\n<p>成员变量没有手动赋值，系统赋默认值</p>\n<table>\n<thead>\n<tr>\n<th>数据类型</th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>byte， short， int， long</td>\n<td>0</td>\n</tr>\n<tr>\n<td>float，double</td>\n<td>0.0</td>\n</tr>\n<tr>\n<td>char</td>\n<td>\\u000</td>\n</tr>\n<tr>\n<td>引用数据类型</td>\n<td>null （空值）</td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n</tr>\n</tbody></table>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Address</span>&#123;</span><br><span class=\"line\">  String city;</span><br><span class=\"line\">  String street;</span><br><span class=\"line\">  String zipcode;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">User</span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">//属性【以下都是成员变量之实例变量】</span></span><br><span class=\"line\">  <span class=\"type\">int</span> no;<span class=\"comment\">//int基本数据类型，no是实例变量</span></span><br><span class=\"line\">  String name;<span class=\"comment\">//String引用数据类型，name是引用满是实例变量</span></span><br><span class=\"line\">  Address addr;<span class=\"comment\">//Address引用数据类型，addr是引用</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">OOTest02</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//创建User对象</span></span><br><span class=\"line\">    <span class=\"comment\">//u是局部变量</span></span><br><span class=\"line\">    <span class=\"comment\">//u是一个引用 </span></span><br><span class=\"line\">    <span class=\"comment\">//u保存内存地址指向堆内存的User对象</span></span><br><span class=\"line\">    <span class=\"type\">User</span> <span class=\"variable\">u</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">User</span>()；<span class=\"comment\">//（从右往前）</span></span><br><span class=\"line\">    u.no = <span class=\"number\">110</span>;</span><br><span class=\"line\">    u.name = <span class=\"string\">&quot;jack&quot;</span>;<span class=\"comment\">//字符串比较特殊不用new，jack是一个Java对象，属于String对象</span></span><br><span class=\"line\">    u.addr = <span class=\"keyword\">new</span> <span class=\"title class_\">Address</span>();<span class=\"comment\">//等号右边先执行，Address对象三个none、none、none</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">//main方法只有一个引用u</span></span><br><span class=\"line\">    <span class=\"comment\">//一切只能通过u来访问</span></span><br><span class=\"line\">    System.out.println(u.name + <span class=\"string\">&quot;居住在&quot;</span> + u.addr.city);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<p><img src=\"/image/image-20210527194926715.png\" alt=\"image-20210527194926715\"></p>\n<p><img src=\"/image/image-20210527195317973.png\" alt=\"image-20210527195317973\"></p>\n<p><strong>找出所有引用</strong></p>\n<p><img src=\"/image/image-20210527195451792.png\" alt=\"image-20210527195451792\"></p>\n<p>空引用访问“实例”相关数据一定会造成空指针异常 NullPointerException</p>\n<p>实例相关数据表示访问时必须有对象参与</p>\n<h3 id=\"类怎么定义\"><a href=\"#类怎么定义\" class=\"headerlink\" title=\"类怎么定义\"></a>类怎么定义</h3><p>[修饰符列表]class 类名{</p>\n<p>  属性；</p>\n<p>  方法；</p>\n<p>}</p>\n<p>现实世界当中超市中的商品，发现这所有的商品都要有一些共同的特征，例如，每一个商品都有编号，每一个商品都有单价，所以定义以下的类，来代表所有商品。</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Product</span>&#123;<span class=\"comment\">//为什么要写class？因为要做超市的管理系统，超市有商品，商品有共同的特征，想到了编号，单价，所以利用基本数据类型（int double），定义了两个变量。</span></span><br><span class=\"line\">\t<span class=\"comment\">//编号【数字，整数】</span></span><br><span class=\"line\">  <span class=\"type\">int</span> productNo;</span><br><span class=\"line\">  <span class=\"comment\">//productNo是基本数据类型</span></span><br><span class=\"line\">  <span class=\"comment\">//单价【数字，小数】</span></span><br><span class=\"line\">  <span class=\"type\">double</span> price;</span><br><span class=\"line\">  <span class=\"comment\">//price 是基本数据类型</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  Student s= <span class=\"literal\">null</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"type\">Product</span> <span class=\"variable\">pro</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Product</span>&#123;&#125;;<span class=\"comment\">//实例变量需要new出来才能引用，引用方式如下</span></span><br><span class=\"line\">pro.price = <span class=\"number\">0x1123123</span>;<span class=\"comment\">//访问 可以（读一读）（改一改）</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>product是实例变量，下面对他进行访问</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">ProductTest</span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(string[] args)</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//创建对象，商品对象</span></span><br><span class=\"line\">    <span class=\"comment\">//iphoneProMax局部变量</span></span><br><span class=\"line\">    <span class=\"comment\">//iphoneProMax引用</span></span><br><span class=\"line\">    <span class=\"comment\">//iphoneProMax变量中保存内存地址指向堆内存当中的商品对象</span></span><br><span class=\"line\">    <span class=\"type\">Product</span> <span class=\"variable\">iphoneProMax</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Product</span>();</span><br><span class=\"line\">    <span class=\"comment\">//访问实例变量的语法： 引用.变量名</span></span><br><span class=\"line\">    System.out.printIn(<span class=\"string\">&quot;商品编号：&quot;</span>+iphoneProMax.productNo);</span><br><span class=\"line\">    iphoneProMax.price = <span class=\"number\">8000.0</span>；</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;商品单价：&quot;</span>+iphoneProMax.price);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n\n\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">\t要求定义一个汽车类</span></span><br><span class=\"line\"><span class=\"comment\">\t\t*品牌：字符串</span></span><br><span class=\"line\"><span class=\"comment\">\t\t*颜色：字符串</span></span><br><span class=\"line\"><span class=\"comment\">\t\t*号牌：字符串</span></span><br><span class=\"line\"><span class=\"comment\">\t\t*购买总价：浮点型数据</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Car</span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">//属性【成员变量之：实例变量】</span></span><br><span class=\"line\">  <span class=\"comment\">//总价</span></span><br><span class=\"line\">  基本数据类型</span><br><span class=\"line\">  <span class=\"type\">double</span> price;</span><br><span class=\"line\">  <span class=\"comment\">//品牌</span></span><br><span class=\"line\">  引用数据类型</span><br><span class=\"line\">  String brand;</span><br><span class=\"line\">  <span class=\"comment\">//颜色</span></span><br><span class=\"line\">  <span class=\"comment\">//引用数据类型</span></span><br><span class=\"line\">  String color;</span><br><span class=\"line\">  <span class=\"comment\">//号牌</span></span><br><span class=\"line\">  <span class=\"comment\">//引用数据类型</span></span><br><span class=\"line\">  String No;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">\t房屋类(不太行)</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">house</span>&#123;</span><br><span class=\"line\">  <span class=\"type\">double</span> proportion;</span><br><span class=\"line\">  String owner;<span class=\"comment\">//想知道户主的身份信息，但是不能在下一行定义实例变量ID，会误解为房子的ID</span></span><br><span class=\"line\">   </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">\t房屋类（行）</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">house</span>&#123;</span><br><span class=\"line\">  <span class=\"type\">double</span> proportion;</span><br><span class=\"line\">  Person owner ;<span class=\"comment\">//new是个地址（其中就是联系电话、就是地址、就是各种信息）</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Person</span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">//名字</span></span><br><span class=\"line\">  String name;</span><br><span class=\"line\">  <span class=\"comment\">//身份证号</span></span><br><span class=\"line\">  String id;</span><br><span class=\"line\">  <span class=\"comment\">//性别</span></span><br><span class=\"line\">  <span class=\"type\">boolean</span> sex;</span><br><span class=\"line\">  <span class=\"comment\">//年龄</span></span><br><span class=\"line\">  <span class=\"type\">int</span> age;</span><br><span class=\"line\">  <span class=\"comment\">//妻子</span></span><br><span class=\"line\">  Wife wife；</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"封装\"><a href=\"#封装\" class=\"headerlink\" title=\"封装\"></a>封装</h3><ol>\n<li>对外提供简单的操作入口，照相机原理很复杂，但是操作很简单</li>\n<li>提高安全性</li>\n<li>以后程序可以重服使用</li>\n<li>封装后才形成真正的对象，“独立体”</li>\n</ol>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">User</span></span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">()</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"封装的步骤\"><a href=\"#封装的步骤\" class=\"headerlink\" title=\"封装的步骤\"></a>封装的步骤</h4><ol>\n<li><p>属性私有化，是用private进行修饰，private表示私有，修饰后的所有数据只能在本类中访问。</p>\n</li>\n<li><p>对外提供简单的入口 </p>\n<p>对外提供两个方法（get，set）</p>\n</li>\n</ol>\n<h4 id=\"背会\"><a href=\"#背会\" class=\"headerlink\" title=\"背会\"></a>背会</h4><p>sette and getter方法没有static关键字</p>\n<p>有static关键字修饰的方法怎么调用：类 名.方法名（实参）；</p>\n<p>没有static关键字修饰的方法：引用.方法名（实参）</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">User</span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"type\">int</span> age;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">setAge</span><span class=\"params\">(<span class=\"type\">int</span> a)</span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span>(a &lt; <span class=\"number\">0</span> || a &gt;<span class=\"number\">150</span> )&#123;</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;对不起，您给的年龄不合法&quot;</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  age = a;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"> \t<span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">getAge</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> age;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>封装之后</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">UserTest</span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] srgs)</span>&#123;</span><br><span class=\"line\">    <span class=\"type\">User</span> <span class=\"variable\">user</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">User</span>();</span><br><span class=\"line\">    user.setAge(<span class=\"number\">10</span>);</span><br><span class=\"line\">    System.out.println(user.getAge());</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"构造方法\"><a href=\"#构造方法\" class=\"headerlink\" title=\"构造方法\"></a>构造方法</h4><ol>\n<li><p>构造方法又称构造函数，返回值类型不需要指定，加上void int 就变成普通方法了</p>\n</li>\n<li><p>构造方法的作用：通过方法的调用创建对象。</p>\n</li>\n<li><p>构造方法的方法名必须和类名保持一致</p>\n</li>\n<li><p>每个构造方法实际上执行结束之后都有返回值，但是这个return不需要写，返回值就是类本身</p>\n</li>\n<li><p>[修饰符列表]构造方法方法名（形参数）</p>\n<p>{方法体}；</p>\n<p>  } </p>\n</li>\n</ol>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">ConstructorTest01</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">//创建User对象</span></span><br><span class=\"line\">        <span class=\"comment\">//调用User类的构造方法来完成对象的创建</span></span><br><span class=\"line\">        <span class=\"comment\">//以下程序创建了4个对象，只要构造函数调用就会查u你感觉爱你对象，并且在“堆内存”开辟内存空间</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"type\">User</span> <span class=\"variable\">u2</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">User</span>(<span class=\"number\">10</span>);</span><br><span class=\"line\">        <span class=\"type\">User</span> <span class=\"variable\">u3</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">User</span>(<span class=\"string\">&quot;gujm&quot;</span>);</span><br><span class=\"line\">        ConstructorTest01.dosome();</span><br><span class=\"line\">        dosome();</span><br><span class=\"line\">        <span class=\"type\">ConstructorTest01</span> <span class=\"variable\">t</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">ConstructorTest01</span>();</span><br><span class=\"line\">        t.doOther();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//调用带有static的方法：类名</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">dosome</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;do some!&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//调用没有static的方法：引用</span></span><br><span class=\"line\">    <span class=\"comment\">//doOther方法在ConstructorTest01类中，所以需要创建ConstructorTest01对象</span></span><br><span class=\"line\">    <span class=\"comment\">//创建ConstructorTest01对象之后，调用无参数构造方法</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span>  <span class=\"title function_\">doOther</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;Do other!&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">User</span>&#123;</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">User</span><span class=\"params\">(<span class=\"type\">int</span> i)</span>&#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;带有int类型构造器&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">User</span><span class=\"params\">(String name)</span>&#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;带有String类型构造器&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>构造方法作用：创造对象，给实例对象赋值</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">ConstructorTest01</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">Account</span> <span class=\"variable\">act1</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Account</span>();</span><br><span class=\"line\">        act1.setActno(<span class=\"string\">&quot;111&quot;</span>);</span><br><span class=\"line\">        System.out.println(act1.getActno());</span><br><span class=\"line\">        <span class=\"type\">Account</span> <span class=\"variable\">act2</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Account</span>(<span class=\"string\">&quot;10&quot;</span>);</span><br><span class=\"line\">        System.out.println(act2.getActno());</span><br><span class=\"line\">        System.out.println(act1.getBalance());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Account</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String actno;<span class=\"comment\">//实例变量，创建对象之后才会有实例变量，实例方法在构造方法过程中完成赋值</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"type\">double</span> balance;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> String <span class=\"title function_\">getActno</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> actno;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">setActno</span><span class=\"params\">(String actno)</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.actno = actno;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">double</span> <span class=\"title function_\">getBalance</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> balance;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">setBalance</span><span class=\"params\">(<span class=\"type\">double</span> balance)</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.balance = balance;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">Account</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;空参数方法&quot;</span>);</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">Account</span><span class=\"params\">(String s)</span>&#123;</span><br><span class=\"line\">        actno = s;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"参数传递\"><a href=\"#参数传递\" class=\"headerlink\" title=\"参数传递\"></a>参数传递</h3><p>传的永远是变量保存的值</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">ConstructorTest01</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">User</span> <span class=\"variable\">u</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">User</span>(<span class=\"number\">20</span>);</span><br><span class=\"line\">      <span class=\"comment\">//User User = 0x1234</span></span><br><span class=\"line\">      <span class=\"comment\">//传递u给add方法的时候，实际上传递的是u变量中保存的值，只不过这个值是一个java对象的内存地址</span></span><br><span class=\"line\">        add(u);</span><br><span class=\"line\">        System.out.println(u.age);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">add</span><span class=\"params\">(User u)</span>&#123;</span><br><span class=\"line\">        u.age++;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;add--&gt;&quot;</span> + u.age);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">static</span> <span class=\"keyword\">class</span> <span class=\"title class_\">User</span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> age;</span><br><span class=\"line\">        <span class=\"keyword\">public</span> <span class=\"title function_\">User</span><span class=\"params\">(<span class=\"type\">int</span> i)</span>&#123;</span><br><span class=\"line\">            age = i;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/image/image-20210620092032503.png\" alt=\"image-20210620092032503\"></p>\n<p>第二个例子</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">User</span> <span class=\"variable\">u</span> <span class=\"operator\">=</span><span class=\"number\">0x1234</span>;</span><br><span class=\"line\">User u1= u;<span class=\"comment\">//u传递给了u1，实际上是吧0x1234这个值赋值给了u1，u和u1实际上是两个不同的局部变量</span></span><br><span class=\"line\"><span class=\"comment\">//但是他们的两个变量指向堆内存中同一个java对象</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"this\"><a href=\"#this\" class=\"headerlink\" title=\"this\"></a>this</h3><p> this 是一个 关键字，翻译为：这个，用在方法中</p>\n<p>this是一个引用，this是一个变量，this变量中保存内存地址指向了自身，this储存子啊JVM堆内存java对象内部</p>\n<p>创建100个java对象，每个对象都有this，也就是说有100个不同的this</p>\n<p><strong>this代表当前正在做（执行实例方法）这个动作的对象</strong></p>\n<p>不能用在static方法中</p>\n<p>在static方法中不能“直接”访问实例变量 实例方法</p>\n<p>因为实例都需要对象存在</p>\n<p>而static中没有this，也就是说，当前对象是不存在的</p>\n<p>自然无法访问当前对象的实例方法</p>\n<p> <strong>用来区分实例变量和局部变量时 this不能省</strong> </p>\n <figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>this（）这种语法只能放在构造方法第一行</p>\n<h3 id=\"static\"><a href=\"#static\" class=\"headerlink\" title=\"static\"></a>static</h3><p>应该采用类名的方式访问，即使new了对象访问static方法，其本质也用的是类名，与引用指向的对象无关，哪怕（t = null）也不会出现空指针异常 </p>\n <figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Chinese</span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> String id;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> String name;</span><br><span class=\"line\">  <span class=\"comment\">//国籍每个对象由于都是Chinese类的实例化，所以每个中国人国籍都是Chinese</span></span><br><span class=\"line\">  <span class=\"comment\">//实例对象在堆内存</span></span><br><span class=\"line\">  <span class=\"comment\">//String country;//所以没必要定义为实例变量,没必要让每一个对象都占内存，改为下一行</span></span><br><span class=\"line\">  <span class=\"keyword\">static</span> <span class=\"type\">String</span> <span class=\"variable\">country</span> <span class=\"operator\">=</span> <span class=\"string\">&quot;中国&quot;</span>;<span class=\"comment\">//类级别特征，变量前加static，静态变量不需要创造对象，内存就开辟了，在方法区内存 </span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/image/image-20210624165417791.png\" alt=\"image-20210624165417791\"></p>\n<h4 id=\"什么时候成员变量申明为静态变量？\"><a href=\"#什么时候成员变量申明为静态变量？\" class=\"headerlink\" title=\"什么时候成员变量申明为静态变量？\"></a>什么时候成员变量申明为静态变量？</h4><p>所有的对象都有这个属性，并且所有对象的这个属性值一样</p>\n<h4 id=\"什么时候成员变量申明为静态变量？-1\"><a href=\"#什么时候成员变量申明为静态变量？-1\" class=\"headerlink\" title=\"什么时候成员变量申明为静态变量？\"></a>什么时候成员变量申明为静态变量？</h4><p>所有对象都有这个属性，不同对象值不同或属性值随对象值改变</p>\n<h4 id=\"static使用方式\"><a href=\"#static使用方式\" class=\"headerlink\" title=\"static使用方式\"></a>static使用方式</h4><p>静态变量在类加载的时候u初始化，内存在方法区开辟，访问时不需创造对象，直接<strong>类名.变量名</strong></p>\n<h4 id=\"使用static定义“静态代码块”\"><a href=\"#使用static定义“静态代码块”\" class=\"headerlink\" title=\"使用static定义“静态代码块”\"></a>使用static定义“静态代码块”</h4><p>1.语法格式：</p>\n<p>​    static {</p>\n<pre><code>         java语句;\n</code></pre>\n<p>​    }</p>\n<p>2.静态代码在类加载时执行，并且只执行一次</p>\n<p>3.静态代码块在一个类中可以编写多个，从上往下</p>\n<p>4.静态代码块的作用？什么时候用</p>\n<p>​    静态代码时java为程序员准备的一个特殊时刻，在类加载时刻，若需要此刻还在一段特殊程序，可以直接放到静态代码中</p>\n<h4 id=\"静态方法\"><a href=\"#静态方法\" class=\"headerlink\" title=\"静态方法\"></a>静态方法</h4><p>描述一个动作，所有对象执行这个动作最终产生的影响一样，不再属于某一个对象动作</p>\n<p>大多数“工具类”的方法都是静态方法，方便使用</p>\n<h3 id=\"继承\"><a href=\"#继承\" class=\"headerlink\" title=\"继承\"></a>继承</h3><p>继承的基本作用：代码复用，但是继承最重要的作用时：有了继承才有了以后方法的覆盖和多态机制</p>\n<p>[修饰符列表]class 类名 extends 父类名{</p>\n<p>​    类体 = 属性 + 方法</p>\n<p>}</p>\n<p>java语言的继承制支持单继承，一个类不能同时继承很多类，只能继承一个类。</p>\n<p>B类继承A类，A称为父类，基类，超类，superclass</p>\n<p>​                        B称为子类，派生类，subclass</p>\n<p>私有不支持继承，构造方法不支持继承</p>\n<h3 id=\"方法覆盖\"><a href=\"#方法覆盖\" class=\"headerlink\" title=\"方法覆盖\"></a>方法覆盖</h3><p>又称方法重写override/Overwrite</p>\n<p>父类中的方法满足不了子类中的业务需求，有必要重写方法</p>\n<p>就是重新写一遍<strong>完全一样复制</strong>方法，方法区中代码自己改，方法名不变，返回类型不变，参数列表不变，抛出异常不能更低，不能更少，访问权限不能更低可以更高</p>\n<p>animal.move();  cat extend animal;</p>\n<p>私有方法不能继承不能覆盖</p>\n<p>构造方法不能继承不能覆盖</p>\n<p>静态方法不存在覆盖（多态后）</p>\n<h3 id=\"多态\"><a href=\"#多态\" class=\"headerlink\" title=\"多态\"></a>多态</h3><p>animal/ bird /cat </p>\n<p>cat和bird没有任何继承关系</p>\n<p>面向对象三大特征：封装 继承 多态</p>\n<p>多态中涉及到的几个概念</p>\n<ul>\n<li><p>向上转型（upcasting）</p>\n<p>子类型 –&gt; 父类型</p>\n<p>自动类型转换</p>\n</li>\n<li><p>向下转型（downcasting）</p>\n<p>父类型 –&gt; 子类型</p>\n<p>强制类型转换</p>\n</li>\n</ul>\n<p><img src=\"/image/image-20210625084016091.png\" alt=\"image-20210625084016091\"></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Animal</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">move</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;动物在行走&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> <span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Cat</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">Animal</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">move</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;猫在走猫步&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">catchMouse</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;猫抓老鼠&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Bird</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">Animal</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">move</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;鸟在飞翔&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">ConstructorTest01</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">Animal</span> <span class=\"variable\">a</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Animal</span>();</span><br><span class=\"line\">        a.move();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"type\">Cat</span> <span class=\"variable\">b</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Cat</span>();</span><br><span class=\"line\">        b.move();</span><br><span class=\"line\">        b.catchMouse();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"type\">Bird</span> <span class=\"variable\">c</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Bird</span>();</span><br><span class=\"line\">        c.move();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">//使用多态</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">        Cat is an Animal</span></span><br><span class=\"line\"><span class=\"comment\">        父类型引用指向子类型对象</span></span><br><span class=\"line\"><span class=\"comment\">        new Cat()创建的对象类型为Cat，a2这个引用的数据类型是Animal，可见他们进行了类型转换</span></span><br><span class=\"line\"><span class=\"comment\">        子类型转换成了父类型，称为向上转型，自动类型转换</span></span><br><span class=\"line\"><span class=\"comment\">        */</span></span><br><span class=\"line\">        <span class=\"type\">Animal</span> <span class=\"variable\">a2</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Cat</span>();</span><br><span class=\"line\">   <span class=\"comment\">/*    java两个阶段 编译阶段· 运行阶段</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">编译无法通过程序无法运行</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">编译阶段编译器检查a2这个引用的数据类型为Animal.class,字节码中有move方法，所以编译通过了，这个过程我们称为静态绑定，编译阶段绑定</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">在程序运行阶段，JVM堆内存当中真实创建的对象是Cat对象啊，那么下面程序在运行阶段一定调用Cat对象的move()方法，此时发生程序动态绑定</span></span><br><span class=\"line\"><span class=\"comment\">        */</span></span><br><span class=\"line\">        a2.move();</span><br><span class=\"line\">      <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">      \ta2.catchMouse();</span></span><br><span class=\"line\"><span class=\"comment\">      \t编译阶段就出错了</span></span><br><span class=\"line\"><span class=\"comment\">      */</span></span><br><span class=\"line\">      <span class=\"type\">Cat</span> <span class=\"variable\">c2</span> <span class=\"operator\">=</span> (Cat)a2;</span><br><span class=\"line\">      c2.catchMouse();</span><br><span class=\"line\">      </span><br><span class=\"line\">      <span class=\"comment\">//以下程序编译没问题</span></span><br><span class=\"line\">      <span class=\"comment\">//但是运行会出现异常，因为JVM堆内存中真正存在的对象是Bird类型，Bird对象无法转换为Cat对象，因为两种类型之间不存在任何继承关系，此时出现了著名的异常</span></span><br><span class=\"line\">      <span class=\"comment\">//java.lang.ClassCastException</span></span><br><span class=\"line\">      <span class=\"comment\">//类型转换异常，向下转型时会发生  </span></span><br><span class=\"line\">      <span class=\"type\">Animal</span> <span class=\"variable\">a3</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Bird</span>();</span><br><span class=\"line\">      <span class=\"type\">cat</span> <span class=\"variable\">c3</span> <span class=\"operator\">=</span> (Cat)a3;</span><br><span class=\"line\">      <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">      以上异常只有在强制类型转换时才会发生，这么说向下转型存在隐患</span></span><br><span class=\"line\"><span class=\"comment\">      向上转型只要编译通过一定能运行，</span></span><br><span class=\"line\"><span class=\"comment\">      向下转型，运行可能错误java.lang.ClassCastException</span></span><br><span class=\"line\"><span class=\"comment\">      */</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"什么时候需要向下转型\"><a href=\"#什么时候需要向下转型\" class=\"headerlink\" title=\"什么时候需要向下转型\"></a>什么时候需要向下转型</h4><p>当调用的属性和方法是在子类型中特有的，父类型中不存在</p>\n<h4 id=\"避免向下转型ClassCastException异常\"><a href=\"#避免向下转型ClassCastException异常\" class=\"headerlink\" title=\"避免向下转型ClassCastException异常\"></a>避免向下转型ClassCastException异常</h4><p>（引用instanceof 数据类型名）</p>\n<p>（a instanceof Animal）</p>\n<p>true表示：</p>\n<p>​                a引用指向的对象是Animal</p>\n<p>false。。。</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span>(a3 <span class=\"keyword\">instanceof</span> Bird)&#123;</span><br><span class=\"line\">  <span class=\"type\">Bird</span> <span class=\"variable\">b2</span> <span class=\"operator\">=</span> (Bird)a3;</span><br><span class=\"line\">  b2.fly;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(a3 <span class=\"keyword\">instanceof</span> Cat)&#123;</span><br><span class=\"line\">  <span class=\"type\">Cat</span> <span class=\"variable\">c3</span> <span class=\"operator\">=</span> (Cat)a3;</span><br><span class=\"line\">  C2.catchMouse();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>耦合度低 扩展力强</p>\n<h3 id=\"final\"><a href=\"#final\" class=\"headerlink\" title=\"final\"></a>final</h3><p>1最终的、不可变得</p>\n<p>2final修饰的类无法<strong>被继承</strong></p>\n<p>3final修饰的方法不能被<strong>覆盖</strong></p>\n<p>4变量赋值后不能<strong>再赋值</strong></p>\n<p>5实例变量加final需要手动赋值 final int age = 0； </p>\n<p>6final 修饰的对象无法改变指向别的对象</p>\n<h4 id=\"常量定义语法格式\"><a href=\"#常量定义语法格式\" class=\"headerlink\" title=\"常量定义语法格式\"></a>常量定义语法格式</h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> 类型 常量名 = 值；</span><br><span class=\"line\"><span class=\"comment\">//常量名必须大写 单词之间下划线连接</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"type\">String</span> <span class=\"variable\">GUO_JI</span> <span class=\"operator\">=</span> <span class=\"string\">&quot;中国&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"type\">double</span> <span class=\"variable\">PI</span> <span class=\"operator\">=</span> <span class=\"number\">3.14159</span>;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"package-amp-amp-import\"><a href=\"#package-amp-amp-import\" class=\"headerlink\" title=\"package &amp;&amp; import\"></a>package &amp;&amp; import</h3><p>在java源程序第一行编写package语句</p>\n<p>package 包名;</p>\n<p>包名命名规范：</p>\n<p>公司域名倒序 +项目名oa +模块名 +功能名;</p>\n<p>com.bjpowernode.oa.user.service;</p>\n<p>包名必须全部小写，也是标识符</p>\n<p>一个包对应一个目录</p>\n<p>import com.bjpowernode.oa.user.service；</p>\n<p>import语句用来倒入其他类，同一个包下的类不需要导入</p>\n<p>import 类名;</p>\n<p>import 包名.*;</p>\n<p>Java.lang.* 不需要手动引入，系统自动</p>\n<p>import java.util.*</p>\n<p>4</p>\n<h3 id=\"访问控制权限\"><a href=\"#访问控制权限\" class=\"headerlink\" title=\"访问控制权限\"></a>访问控制权限</h3><blockquote>\n<p>​        public                       表示公开的</p>\n<p>​        protected                同包下可以访问，子类可以访问</p>\n<p>​        缺省                          同包</p>\n<p>​        private                     表示私有，只能在本类访问</p>\n</blockquote>\n<p>缺省和protected出了包之后就</p>\n<h3 id=\"super\"><a href=\"#super\" class=\"headerlink\" title=\"super\"></a>super</h3><p>super关键字：我们可以通过super关键字来实现对父类成员的访问，用来引用当前对象的父类。x</p>\n<h4 id=\"构造器\"><a href=\"#构造器\" class=\"headerlink\" title=\"构造器\"></a>构造器</h4><p>子类是不继承父类的构造器（构造方法或者构造函数）的，它只是调用（隐式或显式）。如果父类的构造器带有参数，则必须在子类的构造器中显式地通过 <strong>super</strong> 关键字调用父类的构造器并配以适当的参数列表。</p>\n<p>如果父类构造器没有参数，则在子类的构造器中不需要使用 <strong>super</strong> 关键字调用父类构造器，系统会自动调用父类的无参构造器</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">SuperClass</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"type\">int</span> n;</span><br><span class=\"line\">  SuperClass()&#123;</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;SuperClass()&quot;</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  SuperClass(<span class=\"type\">int</span> n) &#123;</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;SuperClass(int n)&quot;</span>);</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.n = n;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// SubClass 类继承</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">SubClass</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">SuperClass</span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"type\">int</span> n;</span><br><span class=\"line\">  </span><br><span class=\"line\">  SubClass()&#123; <span class=\"comment\">// 自动调用父类的无参数构造器</span></span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;SubClass&quot;</span>);</span><br><span class=\"line\">  &#125;  </span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"title function_\">SubClass</span><span class=\"params\">(<span class=\"type\">int</span> n)</span>&#123; </span><br><span class=\"line\">    <span class=\"built_in\">super</span>(<span class=\"number\">300</span>);  <span class=\"comment\">// 调用父类中带有参数的构造器</span></span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;SubClass(int n):&quot;</span>+n);</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.n = n;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// SubClass2 类继承</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">SubClass2</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">SuperClass</span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"type\">int</span> n;</span><br><span class=\"line\">  </span><br><span class=\"line\">  SubClass2()&#123;</span><br><span class=\"line\">    <span class=\"built_in\">super</span>(<span class=\"number\">300</span>);  <span class=\"comment\">// 调用父类中带有参数的构造器</span></span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;SubClass2&quot;</span>);</span><br><span class=\"line\">  &#125;  </span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"title function_\">SubClass2</span><span class=\"params\">(<span class=\"type\">int</span> n)</span>&#123; <span class=\"comment\">// 自动调用父类的无参数构造器</span></span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;SubClass2(int n):&quot;</span>+n);</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.n = n;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">TestSuperSub</span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span> <span class=\"params\">(String args[])</span>&#123;</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;------SubClass 类继承------&quot;</span>);</span><br><span class=\"line\">    <span class=\"type\">SubClass</span> <span class=\"variable\">sc1</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">SubClass</span>();</span><br><span class=\"line\">    <span class=\"type\">SubClass</span> <span class=\"variable\">sc2</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">SubClass</span>(<span class=\"number\">100</span>); </span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;------SubClass2 类继承------&quot;</span>);</span><br><span class=\"line\">    <span class=\"type\">SubClass2</span> <span class=\"variable\">sc3</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">SubClass2</span>();</span><br><span class=\"line\">    <span class=\"type\">SubClass2</span> <span class=\"variable\">sc4</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">SubClass2</span>(<span class=\"number\">200</span>); </span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">输出结果为：</span><br><span class=\"line\"></span><br><span class=\"line\">------SubClass 类继承------</span><br><span class=\"line\">SuperClass()</span><br><span class=\"line\">SubClass</span><br><span class=\"line\"><span class=\"title function_\">SuperClass</span><span class=\"params\">(<span class=\"type\">int</span> n)</span></span><br><span class=\"line\">SubClass(<span class=\"type\">int</span> n):<span class=\"number\">100</span></span><br><span class=\"line\">------SubClass2 类继承------</span><br><span class=\"line\">SuperClass(<span class=\"type\">int</span> n)</span><br><span class=\"line\">SubClass2</span><br><span class=\"line\"><span class=\"title function_\">SuperClass</span><span class=\"params\">()</span></span><br><span class=\"line\">SubClass2(<span class=\"type\">int</span> n):<span class=\"number\">200</span></span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">do</span> &#123;</span><br><span class=\"line\">            str = br.readLine();</span><br><span class=\"line\">            System.out.println(str);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">while</span> (!str.equals(<span class=\"string\">&quot;end&quot;</span>));</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n\n<p>除了static内部类,内部类中不允许static静态变量</p>\n<h3 id=\"值传递\"><a href=\"#值传递\" class=\"headerlink\" title=\"值传递\"></a>值传递</h3><p><img src=\"/image/image-20210727142922916.png\" alt=\"image-20210727142922916\"></p>\n<p> <img src=\"/image/image-20210727144149656.png\" alt=\"image-20210727144149656\"></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@author</span> Gujm</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@date</span> 2021/7/27 8:14 下午</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">BankTest</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">Bank</span> <span class=\"variable\">bank</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Bank</span>();</span><br><span class=\"line\">        bank.addCustomer(<span class=\"string\">&quot;G&quot;</span>,<span class=\"string\">&quot;jm&quot;</span>);</span><br><span class=\"line\">        bank.getCustomer(<span class=\"number\">0</span>).setAccount(<span class=\"keyword\">new</span> <span class=\"title class_\">Account</span>(<span class=\"number\">2000</span>));</span><br><span class=\"line\">        bank.getCustomer(<span class=\"number\">0</span>).getAccount().withdraw(<span class=\"number\">500</span>);</span><br><span class=\"line\">        <span class=\"type\">double</span> <span class=\"variable\">balance</span> <span class=\"operator\">=</span> bank.getCustomer(<span class=\"number\">0</span>).getAccount().getBalance();</span><br><span class=\"line\">        System.out.println(bank.getCustomer(<span class=\"number\">0</span>).getFirstName()+<span class=\"string\">&quot;账户余额为&quot;</span>+balance);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"> <span class=\"keyword\">class</span> <span class=\"title class_\">Bank</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Customer[] customers;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"type\">int</span> numberOfCustomers;<span class=\"comment\">//客户个数</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">Bank</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        customers = <span class=\"keyword\">new</span> <span class=\"title class_\">Customer</span>[<span class=\"number\">10</span>];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//添加客户</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">addCustomer</span><span class=\"params\">(String f, String l)</span>&#123;</span><br><span class=\"line\">        <span class=\"type\">Customer</span> <span class=\"variable\">cust</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Customer</span>(f,l);</span><br><span class=\"line\">        customers[numberOfCustomers++] = cust;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//获取客户个数</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">getNumberOfCustomers</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> numberOfCustomers;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//获取制定位置的客户</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> Customer <span class=\"title function_\">getCustomer</span><span class=\"params\">(<span class=\"type\">int</span> index)</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(index &gt;= <span class=\"number\">0</span> &amp;&amp; index &lt; numberOfCustomers)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> customers[index];</span><br><span class=\"line\">        &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"> <span class=\"keyword\">class</span> <span class=\"title class_\">Account</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"type\">double</span> balance;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">Account</span><span class=\"params\">(<span class=\"type\">double</span> init_balance)</span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.balance = init_balance;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">double</span> <span class=\"title function_\">getBalance</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> balance;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">deposit</span><span class=\"params\">(<span class=\"type\">double</span> amt)</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(amt &gt; <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">            balance += amt;</span><br><span class=\"line\">            System.out.println(<span class=\"string\">&quot;存钱成功&quot;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">withdraw</span><span class=\"params\">(<span class=\"type\">double</span> amt)</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (balance &gt;= amt)&#123;</span><br><span class=\"line\">            balance -= amt;</span><br><span class=\"line\">            System.out.println(<span class=\"string\">&quot;取钱成功&quot;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            System.out.println(<span class=\"string\">&quot;余额不足&quot;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"> <span class=\"keyword\">class</span> <span class=\"title class_\">Customer</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String firstName;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String lastName;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Account account;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">Customer</span><span class=\"params\">(String f, String l)</span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.firstName = f;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.lastName = l;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">     <span class=\"keyword\">public</span> String <span class=\"title function_\">getFirstName</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">         <span class=\"keyword\">return</span> firstName;</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">     <span class=\"keyword\">public</span> String <span class=\"title function_\">getLastName</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">         <span class=\"keyword\">return</span> lastName;</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">     <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">setAccount</span><span class=\"params\">(Account account)</span> &#123;</span><br><span class=\"line\">         <span class=\"built_in\">this</span>.account = account;</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">     <span class=\"keyword\">public</span> Account <span class=\"title function_\">getAccount</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">         <span class=\"keyword\">return</span> account;</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"equals\"><a href=\"#equals\" class=\"headerlink\" title=\"equals()\"></a>equals()</h3><p>String、Date 、 File、Io包装都重写了equals()方法, 只比较实体内容是否相等.</p>\n<h3 id=\"基本数据类型包装类\"><a href=\"#基本数据类型包装类\" class=\"headerlink\" title=\"基本数据类型包装类\"></a>基本数据类型包装类</h3><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">String</span> <span class=\"variable\">str1</span> <span class=\"operator\">=</span> <span class=\"string\">&quot;123&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"variable\">num2</span> <span class=\"operator\">=</span> Integer.parseInt(str1);</span><br><span class=\"line\"></span><br><span class=\"line\">System.out.println(num2+<span class=\"number\">1</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">String</span> <span class=\"variable\">str2</span> <span class=\"operator\">=</span> <span class=\"string\">&quot;true1&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">Boolean</span> <span class=\"variable\">b1</span> <span class=\"operator\">=</span> Boolean.parseBoolean(str2);</span><br><span class=\"line\"></span><br><span class=\"line\">sout(b1);</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"多线程\"><a href=\"#多线程\" class=\"headerlink\" title=\"多线程\"></a>多线程</h3><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> java3;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@author</span> Gujm</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@date</span> 2021/8/21 2:15 下午</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Clerk</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"type\">int</span> <span class=\"variable\">productCount</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//生产</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">synchronized</span> <span class=\"keyword\">void</span> <span class=\"title function_\">produceProduct</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (productCount &lt; <span class=\"number\">20</span>) &#123;</span><br><span class=\"line\">            productCount++;</span><br><span class=\"line\">            System.out.println(Thread.currentThread().getName() + <span class=\"string\">&quot;开始生产第&quot;</span> + productCount);</span><br><span class=\"line\">        &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">            <span class=\"comment\">//等待</span></span><br><span class=\"line\">            <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">                wait();</span><br><span class=\"line\">            &#125; <span class=\"keyword\">catch</span> (InterruptedException e) &#123;</span><br><span class=\"line\">                e.printStackTrace();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//消费</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">synchronized</span> <span class=\"keyword\">void</span> <span class=\"title function_\">consumeProduct</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (productCount &gt; <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">            System.out.println(Thread.currentThread().getName() + <span class=\"string\">&quot;开始消费第&quot;</span> + productCount);</span><br><span class=\"line\">            productCount--;</span><br><span class=\"line\">        &#125;<span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"comment\">//等待</span></span><br><span class=\"line\">            <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">                wait();</span><br><span class=\"line\">            &#125; <span class=\"keyword\">catch</span> (InterruptedException e) &#123;</span><br><span class=\"line\">                e.printStackTrace();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Producer</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">Thread</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Clerk clerk;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">Producer</span><span class=\"params\">(Clerk clerk)</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.clerk = clerk;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">run</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        System.out.println(getName() + <span class=\"string\">&quot;开始生产。。&quot;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (<span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">                Thread.sleep(<span class=\"number\">10</span>);</span><br><span class=\"line\">            &#125; <span class=\"keyword\">catch</span> (InterruptedException e) &#123;</span><br><span class=\"line\">                e.printStackTrace();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            clerk.produceProduct();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Customer</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">Thread</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Clerk clerk;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">Customer</span><span class=\"params\">(Clerk clerk)</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.clerk = clerk;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">run</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        System.out.println(getName() + <span class=\"string\">&quot;开始消费。。&quot;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (<span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">                Thread.sleep(<span class=\"number\">20</span>);</span><br><span class=\"line\">            &#125; <span class=\"keyword\">catch</span> (InterruptedException e) &#123;</span><br><span class=\"line\">                e.printStackTrace();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            clerk.consumeProduct();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">ProductTest</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">Clerk</span> <span class=\"variable\">clerk</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Clerk</span>();</span><br><span class=\"line\">        <span class=\"type\">Producer</span> <span class=\"variable\">p1</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Producer</span>(clerk);</span><br><span class=\"line\">        p1.setName(<span class=\"string\">&quot;生产者1&quot;</span>);</span><br><span class=\"line\">        <span class=\"type\">Customer</span> <span class=\"variable\">c1</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Customer</span>(clerk);</span><br><span class=\"line\">        c1.setName(<span class=\"string\">&quot;消费者1&quot;</span>);</span><br><span class=\"line\">        <span class=\"type\">Customer</span> <span class=\"variable\">c2</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Customer</span>(clerk);</span><br><span class=\"line\">        c2.setName(<span class=\"string\">&quot;消费者2&quot;</span>);</span><br><span class=\"line\">        p1.start();</span><br><span class=\"line\">        c1.start();</span><br><span class=\"line\">        c2.start();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"常用类\"><a href=\"#常用类\" class=\"headerlink\" title=\"常用类\"></a>常用类</h3><h4 id=\"String\"><a href=\"#String\" class=\"headerlink\" title=\"String\"></a>String</h4><h3 id=\"ArrayList常用方法\"><a href=\"#ArrayList常用方法\" class=\"headerlink\" title=\"ArrayList常用方法\"></a>ArrayList常用方法</h3><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">增:add(Object obj)</span><br><span class=\"line\"></span><br><span class=\"line\">删:remove(<span class=\"type\">int</span> index) remove(Object obj)</span><br><span class=\"line\"></span><br><span class=\"line\">改:set(<span class=\"type\">int</span> index, Object ele)</span><br><span class=\"line\"></span><br><span class=\"line\">查:get(<span class=\"type\">int</span> index)</span><br><span class=\"line\"></span><br><span class=\"line\">插:add(<span class=\"type\">int</span> index, Object ele)</span><br><span class=\"line\"></span><br><span class=\"line\">遍历:<span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\">Iterator迭代器方式</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">Iterator</span> <span class=\"variable\">iterator</span> <span class=\"operator\">=</span> list.iterator();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">while</span>(iterator.hasNext())&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">​\t\tSystem.out.println(<span class=\"string\">&quot;****&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">遍历:<span class=\"number\">2</span></span><br><span class=\"line\"></span><br><span class=\"line\">增强<span class=\"keyword\">for</span>循环</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span>(Object obj : list)&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">​\t\tSystem.out.println(obj);</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">System.out.println(<span class=\"string\">&quot;***&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">遍历:<span class=\"number\">3</span></span><br><span class=\"line\"></span><br><span class=\"line\">普通<span class=\"keyword\">for</span>循环</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; list.size(); i++)&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">​\t\tSystem.out.println(list.get(i));  </span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">没听</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/image/image-20210905000354527.png\" alt=\"image-20210905000354527\"></p>\n"},{"title":"python批量提取整理单词","date":"2023-03-29T13:18:34.000Z","_content":"\n> **提取单词**\n\n本篇代码笔记介绍了如何从文件中提取单词并按字典序排序。通过使用 Python 的 re 模块和一些字符串处理函数，可以将文件中的单词提取出来，然后去重、排序，最终得到一个按字典序排序的单词列表。本文提供了一个完整的代码示例，可以直接使用或参考。\n<!-- more -->\n```python\nimport re\ndef extract_words_and_sort_from_file(file_path):\n    # 打开并读取文件内容\n    with open(file_path, 'r', encoding='utf-8') as file:\n        content = file.read()\n        words = re.findall(r'^\\s*([a-zA-Z, ]+)$', content, flags=re.MULTILINE)\n        words = ''.join(words)\n        # 将逗号替换为空格，方便后续提取单词\n        words = words.replace(',', ' ')\n        words = re.findall(r'\\b[a-zA-Z]+\\b', words)\n        words = [word.lower() for word in words]\n        # 对单词列表去重并排序\n        words = sorted(set(words))\n        word_count = len(words)\n        # 将单词列表连接为一个字符串\n        return ', '.join(words), word_count\n\nfile_path = '../英语/顽固词汇.md'\nresult, word_count = extract_words_and_sort_from_file(file_path)\nprint(\"Sorted words:\", result)\nprint(\"Word count:\", word_count)\n```\n","source":"_posts/python工具-提取单词.md","raw":"---\ntitle: python批量提取整理单词\ndate: 2023-03-29 21:18:34\ntags:\n- 考研英语\n- python\n- 正则表达式\ncategories: \n- 笔记\n---\n\n> **提取单词**\n\n本篇代码笔记介绍了如何从文件中提取单词并按字典序排序。通过使用 Python 的 re 模块和一些字符串处理函数，可以将文件中的单词提取出来，然后去重、排序，最终得到一个按字典序排序的单词列表。本文提供了一个完整的代码示例，可以直接使用或参考。\n<!-- more -->\n```python\nimport re\ndef extract_words_and_sort_from_file(file_path):\n    # 打开并读取文件内容\n    with open(file_path, 'r', encoding='utf-8') as file:\n        content = file.read()\n        words = re.findall(r'^\\s*([a-zA-Z, ]+)$', content, flags=re.MULTILINE)\n        words = ''.join(words)\n        # 将逗号替换为空格，方便后续提取单词\n        words = words.replace(',', ' ')\n        words = re.findall(r'\\b[a-zA-Z]+\\b', words)\n        words = [word.lower() for word in words]\n        # 对单词列表去重并排序\n        words = sorted(set(words))\n        word_count = len(words)\n        # 将单词列表连接为一个字符串\n        return ', '.join(words), word_count\n\nfile_path = '../英语/顽固词汇.md'\nresult, word_count = extract_words_and_sort_from_file(file_path)\nprint(\"Sorted words:\", result)\nprint(\"Word count:\", word_count)\n```\n","slug":"python工具-提取单词","published":1,"updated":"2023-04-19T10:49:56.276Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clgz2pff1000mdl5zebad49y8","content":"<blockquote>\n<p><strong>提取单词</strong></p>\n</blockquote>\n<p>本篇代码笔记介绍了如何从文件中提取单词并按字典序排序。通过使用 Python 的 re 模块和一些字符串处理函数，可以将文件中的单词提取出来，然后去重、排序，最终得到一个按字典序排序的单词列表。本文提供了一个完整的代码示例，可以直接使用或参考。</p>\n<span id=\"more\"></span>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> re</span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">extract_words_and_sort_from_file</span>(<span class=\"params\">file_path</span>):</span><br><span class=\"line\">    <span class=\"comment\"># 打开并读取文件内容</span></span><br><span class=\"line\">    <span class=\"keyword\">with</span> <span class=\"built_in\">open</span>(file_path, <span class=\"string\">&#x27;r&#x27;</span>, encoding=<span class=\"string\">&#x27;utf-8&#x27;</span>) <span class=\"keyword\">as</span> file:</span><br><span class=\"line\">        content = file.read()</span><br><span class=\"line\">        words = re.findall(<span class=\"string\">r&#x27;^\\s*([a-zA-Z, ]+)$&#x27;</span>, content, flags=re.MULTILINE)</span><br><span class=\"line\">        words = <span class=\"string\">&#x27;&#x27;</span>.join(words)</span><br><span class=\"line\">        <span class=\"comment\"># 将逗号替换为空格，方便后续提取单词</span></span><br><span class=\"line\">        words = words.replace(<span class=\"string\">&#x27;,&#x27;</span>, <span class=\"string\">&#x27; &#x27;</span>)</span><br><span class=\"line\">        words = re.findall(<span class=\"string\">r&#x27;\\b[a-zA-Z]+\\b&#x27;</span>, words)</span><br><span class=\"line\">        words = [word.lower() <span class=\"keyword\">for</span> word <span class=\"keyword\">in</span> words]</span><br><span class=\"line\">        <span class=\"comment\"># 对单词列表去重并排序</span></span><br><span class=\"line\">        words = <span class=\"built_in\">sorted</span>(<span class=\"built_in\">set</span>(words))</span><br><span class=\"line\">        word_count = <span class=\"built_in\">len</span>(words)</span><br><span class=\"line\">        <span class=\"comment\"># 将单词列表连接为一个字符串</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&#x27;, &#x27;</span>.join(words), word_count</span><br><span class=\"line\"></span><br><span class=\"line\">file_path = <span class=\"string\">&#x27;../英语/顽固词汇.md&#x27;</span></span><br><span class=\"line\">result, word_count = extract_words_and_sort_from_file(file_path)</span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&quot;Sorted words:&quot;</span>, result)</span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&quot;Word count:&quot;</span>, word_count)</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"<blockquote>\n<p><strong>提取单词</strong></p>\n</blockquote>\n<p>本篇代码笔记介绍了如何从文件中提取单词并按字典序排序。通过使用 Python 的 re 模块和一些字符串处理函数，可以将文件中的单词提取出来，然后去重、排序，最终得到一个按字典序排序的单词列表。本文提供了一个完整的代码示例，可以直接使用或参考。</p>","more":"<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> re</span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">extract_words_and_sort_from_file</span>(<span class=\"params\">file_path</span>):</span><br><span class=\"line\">    <span class=\"comment\"># 打开并读取文件内容</span></span><br><span class=\"line\">    <span class=\"keyword\">with</span> <span class=\"built_in\">open</span>(file_path, <span class=\"string\">&#x27;r&#x27;</span>, encoding=<span class=\"string\">&#x27;utf-8&#x27;</span>) <span class=\"keyword\">as</span> file:</span><br><span class=\"line\">        content = file.read()</span><br><span class=\"line\">        words = re.findall(<span class=\"string\">r&#x27;^\\s*([a-zA-Z, ]+)$&#x27;</span>, content, flags=re.MULTILINE)</span><br><span class=\"line\">        words = <span class=\"string\">&#x27;&#x27;</span>.join(words)</span><br><span class=\"line\">        <span class=\"comment\"># 将逗号替换为空格，方便后续提取单词</span></span><br><span class=\"line\">        words = words.replace(<span class=\"string\">&#x27;,&#x27;</span>, <span class=\"string\">&#x27; &#x27;</span>)</span><br><span class=\"line\">        words = re.findall(<span class=\"string\">r&#x27;\\b[a-zA-Z]+\\b&#x27;</span>, words)</span><br><span class=\"line\">        words = [word.lower() <span class=\"keyword\">for</span> word <span class=\"keyword\">in</span> words]</span><br><span class=\"line\">        <span class=\"comment\"># 对单词列表去重并排序</span></span><br><span class=\"line\">        words = <span class=\"built_in\">sorted</span>(<span class=\"built_in\">set</span>(words))</span><br><span class=\"line\">        word_count = <span class=\"built_in\">len</span>(words)</span><br><span class=\"line\">        <span class=\"comment\"># 将单词列表连接为一个字符串</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&#x27;, &#x27;</span>.join(words), word_count</span><br><span class=\"line\"></span><br><span class=\"line\">file_path = <span class=\"string\">&#x27;../英语/顽固词汇.md&#x27;</span></span><br><span class=\"line\">result, word_count = extract_words_and_sort_from_file(file_path)</span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&quot;Sorted words:&quot;</span>, result)</span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&quot;Word count:&quot;</span>, word_count)</span><br></pre></td></tr></table></figure>"},{"title":"中文学习平台管理平台","date":"2023-02-21T05:54:24.000Z","_content":"\n## 项目问题及总结\n\n中文学习平台的后台完成，对其进行总结\n\n<!-- more -->\n\n### 问题一\n\n项目拆分为较多组件，传参问题\n\n**解决**：想到用redux做状态管理，但是还是较为繁琐，讨论后学习并使用了React-Redux库，实现Redux状态与React组件的无缝集成。\n\n### 问题二\n\n如多个reducer的连接，以及持久化问题\n\n**解决**：最后使用combineReducers函数将两个Reducer函数合并为一个reducer，并通过redux-persist将其持久化。\n\n### 问题三\n\n因为加了权限控制，角色大小等限制，在组件渲染和一些小功能中遇到bug。\n\n**解决**：增设条件，过滤\n\n### 问题四\n\n一些异步问题\n\n**解决**：一部分使用了回调函数，一部分引入async和promise解决\n\n### 问题五\n\n点击取消遇到Form组件不能及时改变问题，\n\n <img src=\"/image/img-中文平台3.jpg\" alt=\"img\" style=\"zoom:33%;\" />\n\n**解决**：对onCancle函数绑定修改某状态为时间戳，传递给Form组件，以此更新Form组件。\n\n用户列表等..\n\n![img1](/image/img-中文平台1.jpg)  \n\n![img](/image/img-中文平台2.jpg) \n","source":"_posts/中文学习平台代码.md","raw":"---\ntitle: 中文学习平台管理平台\ndate: 2023-02-21 13:54:24\ntags:\n- 前端\n- React\n- Javascipt\n- 组件化编程\n- combineReducers\n- redux\n- 异步数据获取\n- redux-persist\n- 样式化组件\n- 生命周期\n- 单向数据流\ncategories:\n  - 笔记\n---\n\n## 项目问题及总结\n\n中文学习平台的后台完成，对其进行总结\n\n<!-- more -->\n\n### 问题一\n\n项目拆分为较多组件，传参问题\n\n**解决**：想到用redux做状态管理，但是还是较为繁琐，讨论后学习并使用了React-Redux库，实现Redux状态与React组件的无缝集成。\n\n### 问题二\n\n如多个reducer的连接，以及持久化问题\n\n**解决**：最后使用combineReducers函数将两个Reducer函数合并为一个reducer，并通过redux-persist将其持久化。\n\n### 问题三\n\n因为加了权限控制，角色大小等限制，在组件渲染和一些小功能中遇到bug。\n\n**解决**：增设条件，过滤\n\n### 问题四\n\n一些异步问题\n\n**解决**：一部分使用了回调函数，一部分引入async和promise解决\n\n### 问题五\n\n点击取消遇到Form组件不能及时改变问题，\n\n <img src=\"/image/img-中文平台3.jpg\" alt=\"img\" style=\"zoom:33%;\" />\n\n**解决**：对onCancle函数绑定修改某状态为时间戳，传递给Form组件，以此更新Form组件。\n\n用户列表等..\n\n![img1](/image/img-中文平台1.jpg)  \n\n![img](/image/img-中文平台2.jpg) \n","slug":"中文学习平台代码","published":1,"updated":"2023-04-20T03:03:57.613Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clgz2pff4000qdl5z2rh3d6hh","content":"<h2 id=\"项目问题及总结\"><a href=\"#项目问题及总结\" class=\"headerlink\" title=\"项目问题及总结\"></a>项目问题及总结</h2><p>中文学习平台的后台完成，对其进行总结</p>\n<span id=\"more\"></span>\n\n<h3 id=\"问题一\"><a href=\"#问题一\" class=\"headerlink\" title=\"问题一\"></a>问题一</h3><p>项目拆分为较多组件，传参问题</p>\n<p><strong>解决</strong>：想到用redux做状态管理，但是还是较为繁琐，讨论后学习并使用了React-Redux库，实现Redux状态与React组件的无缝集成。</p>\n<h3 id=\"问题二\"><a href=\"#问题二\" class=\"headerlink\" title=\"问题二\"></a>问题二</h3><p>如多个reducer的连接，以及持久化问题</p>\n<p><strong>解决</strong>：最后使用combineReducers函数将两个Reducer函数合并为一个reducer，并通过redux-persist将其持久化。</p>\n<h3 id=\"问题三\"><a href=\"#问题三\" class=\"headerlink\" title=\"问题三\"></a>问题三</h3><p>因为加了权限控制，角色大小等限制，在组件渲染和一些小功能中遇到bug。</p>\n<p><strong>解决</strong>：增设条件，过滤</p>\n<h3 id=\"问题四\"><a href=\"#问题四\" class=\"headerlink\" title=\"问题四\"></a>问题四</h3><p>一些异步问题</p>\n<p><strong>解决</strong>：一部分使用了回调函数，一部分引入async和promise解决</p>\n<h3 id=\"问题五\"><a href=\"#问题五\" class=\"headerlink\" title=\"问题五\"></a>问题五</h3><p>点击取消遇到Form组件不能及时改变问题，</p>\n <img src=\"/image/img-中文平台3.jpg\" alt=\"img\" style=\"zoom:33%;\" />\n\n<p><strong>解决</strong>：对onCancle函数绑定修改某状态为时间戳，传递给Form组件，以此更新Form组件。</p>\n<p>用户列表等..</p>\n<p><img src=\"/image/img-%E4%B8%AD%E6%96%87%E5%B9%B3%E5%8F%B01.jpg\" alt=\"img1\">  </p>\n<p><img src=\"/image/img-%E4%B8%AD%E6%96%87%E5%B9%B3%E5%8F%B02.jpg\" alt=\"img\"> </p>\n","site":{"data":{}},"excerpt":"<h2 id=\"项目问题及总结\"><a href=\"#项目问题及总结\" class=\"headerlink\" title=\"项目问题及总结\"></a>项目问题及总结</h2><p>中文学习平台的后台完成，对其进行总结</p>","more":"<h3 id=\"问题一\"><a href=\"#问题一\" class=\"headerlink\" title=\"问题一\"></a>问题一</h3><p>项目拆分为较多组件，传参问题</p>\n<p><strong>解决</strong>：想到用redux做状态管理，但是还是较为繁琐，讨论后学习并使用了React-Redux库，实现Redux状态与React组件的无缝集成。</p>\n<h3 id=\"问题二\"><a href=\"#问题二\" class=\"headerlink\" title=\"问题二\"></a>问题二</h3><p>如多个reducer的连接，以及持久化问题</p>\n<p><strong>解决</strong>：最后使用combineReducers函数将两个Reducer函数合并为一个reducer，并通过redux-persist将其持久化。</p>\n<h3 id=\"问题三\"><a href=\"#问题三\" class=\"headerlink\" title=\"问题三\"></a>问题三</h3><p>因为加了权限控制，角色大小等限制，在组件渲染和一些小功能中遇到bug。</p>\n<p><strong>解决</strong>：增设条件，过滤</p>\n<h3 id=\"问题四\"><a href=\"#问题四\" class=\"headerlink\" title=\"问题四\"></a>问题四</h3><p>一些异步问题</p>\n<p><strong>解决</strong>：一部分使用了回调函数，一部分引入async和promise解决</p>\n<h3 id=\"问题五\"><a href=\"#问题五\" class=\"headerlink\" title=\"问题五\"></a>问题五</h3><p>点击取消遇到Form组件不能及时改变问题，</p>\n <img src=\"/image/img-中文平台3.jpg\" alt=\"img\" style=\"zoom:33%;\" />\n\n<p><strong>解决</strong>：对onCancle函数绑定修改某状态为时间戳，传递给Form组件，以此更新Form组件。</p>\n<p>用户列表等..</p>\n<p><img src=\"/image/img-%E4%B8%AD%E6%96%87%E5%B9%B3%E5%8F%B01.jpg\" alt=\"img1\">  </p>\n<p><img src=\"/image/img-%E4%B8%AD%E6%96%87%E5%B9%B3%E5%8F%B02.jpg\" alt=\"img\"> </p>"},{"title":"allzonehealth前端","date":"2023-04-27T11:50:12.000Z","_content":"\n### react开发简洁开发\n\n``` react\nconst onFinish = async (values) => {\n  console.log(values);\n  //对象字典，以便更简洁地构造 userData\n  const userDataBuilders = {\n    mobile: (values) => new URLSearchParams({\n      mobile: values.mobile,\n      code: values.code,\n      password: values.password,\n      autologin: values.remember,\n    }),\n    email: (values) => new URLSearchParams({\n      email: `${values.emailPrefix}${values.emailSuffix}`,\n      code: values.code,\n      password: values.password,\n      autologin: values.remember,\n    }),\n  };\n```\n\n### 跨域问题\n\n记录一次跨域问题，找了1个小时，原来与BaseUrl有关\n\n<!-- more -->\n\n这是放在src下的`setupProxy.js`文件,该路径下会自动识别\n\n```js\nconst { createProxyMiddleware } = require('http-proxy-middleware');\n\nmodule.exports = function (app) {\n  app.use(\n    '/api',\n    createProxyMiddleware({\n      target: 'http://localhost:8888',\n      changeOrigin: true,\n      pathRewrite: {\n        '^/api': '', \n      },\n    })\n  );\n};\n```\n\n那么axios的配置就应该是\n\n```js\naxios.defaults.baseURL = '/api/'\n```\n\n### 邮箱@之前的前缀（不包括@）\n\n```react\n const validateEmail = async (_, value) => {\n   const emailPrefixRegex = /^(?![_.])[a-zA-Z0-9._]+(?<![_.])$/;\n   if (value && emailPrefixRegex.test(value)) {\n      return Promise.resolve(); // 验证通过\n   } else {\n      return Promise.reject('请输入正确的邮箱前缀'); // 验证失败，返回错误信息\n   }\n };\n```\n\n","source":"_posts/全域健康react.md","raw":"---\ntitle: allzonehealth前端\ndate: 2023-04-27 19:50:12\ntags:\n- react\n- 前端\n- 字典\n- 表单格式\n- 正则\n- 跨域\ncategories: \n- 笔记\n---\n\n### react开发简洁开发\n\n``` react\nconst onFinish = async (values) => {\n  console.log(values);\n  //对象字典，以便更简洁地构造 userData\n  const userDataBuilders = {\n    mobile: (values) => new URLSearchParams({\n      mobile: values.mobile,\n      code: values.code,\n      password: values.password,\n      autologin: values.remember,\n    }),\n    email: (values) => new URLSearchParams({\n      email: `${values.emailPrefix}${values.emailSuffix}`,\n      code: values.code,\n      password: values.password,\n      autologin: values.remember,\n    }),\n  };\n```\n\n### 跨域问题\n\n记录一次跨域问题，找了1个小时，原来与BaseUrl有关\n\n<!-- more -->\n\n这是放在src下的`setupProxy.js`文件,该路径下会自动识别\n\n```js\nconst { createProxyMiddleware } = require('http-proxy-middleware');\n\nmodule.exports = function (app) {\n  app.use(\n    '/api',\n    createProxyMiddleware({\n      target: 'http://localhost:8888',\n      changeOrigin: true,\n      pathRewrite: {\n        '^/api': '', \n      },\n    })\n  );\n};\n```\n\n那么axios的配置就应该是\n\n```js\naxios.defaults.baseURL = '/api/'\n```\n\n### 邮箱@之前的前缀（不包括@）\n\n```react\n const validateEmail = async (_, value) => {\n   const emailPrefixRegex = /^(?![_.])[a-zA-Z0-9._]+(?<![_.])$/;\n   if (value && emailPrefixRegex.test(value)) {\n      return Promise.resolve(); // 验证通过\n   } else {\n      return Promise.reject('请输入正确的邮箱前缀'); // 验证失败，返回错误信息\n   }\n };\n```\n\n","slug":"全域健康react","published":1,"updated":"2023-04-27T11:59:49.661Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clgz2pff5000sdl5z464hd60w","content":"<h3 id=\"react开发简洁开发\"><a href=\"#react开发简洁开发\" class=\"headerlink\" title=\"react开发简洁开发\"></a>react开发简洁开发</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const onFinish = async (values) =&gt; &#123;</span><br><span class=\"line\">  console.log(values);</span><br><span class=\"line\">  //对象字典，以便更简洁地构造 userData</span><br><span class=\"line\">  const userDataBuilders = &#123;</span><br><span class=\"line\">    mobile: (values) =&gt; new URLSearchParams(&#123;</span><br><span class=\"line\">      mobile: values.mobile,</span><br><span class=\"line\">      code: values.code,</span><br><span class=\"line\">      password: values.password,</span><br><span class=\"line\">      autologin: values.remember,</span><br><span class=\"line\">    &#125;),</span><br><span class=\"line\">    email: (values) =&gt; new URLSearchParams(&#123;</span><br><span class=\"line\">      email: `$&#123;values.emailPrefix&#125;$&#123;values.emailSuffix&#125;`,</span><br><span class=\"line\">      code: values.code,</span><br><span class=\"line\">      password: values.password,</span><br><span class=\"line\">      autologin: values.remember,</span><br><span class=\"line\">    &#125;),</span><br><span class=\"line\">  &#125;;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"跨域问题\"><a href=\"#跨域问题\" class=\"headerlink\" title=\"跨域问题\"></a>跨域问题</h3><p>记录一次跨域问题，找了1个小时，原来与BaseUrl有关</p>\n<span id=\"more\"></span>\n\n<p>这是放在src下的<code>setupProxy.js</code>文件,该路径下会自动识别</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> &#123; createProxyMiddleware &#125; = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;http-proxy-middleware&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = <span class=\"keyword\">function</span> (<span class=\"params\">app</span>) &#123;</span><br><span class=\"line\">  app.<span class=\"title function_\">use</span>(</span><br><span class=\"line\">    <span class=\"string\">&#x27;/api&#x27;</span>,</span><br><span class=\"line\">    <span class=\"title function_\">createProxyMiddleware</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">target</span>: <span class=\"string\">&#x27;http://localhost:8888&#x27;</span>,</span><br><span class=\"line\">      <span class=\"attr\">changeOrigin</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">      <span class=\"attr\">pathRewrite</span>: &#123;</span><br><span class=\"line\">        <span class=\"string\">&#x27;^/api&#x27;</span>: <span class=\"string\">&#x27;&#x27;</span>, </span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  );</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p>那么axios的配置就应该是</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">axios.<span class=\"property\">defaults</span>.<span class=\"property\">baseURL</span> = <span class=\"string\">&#x27;/api/&#x27;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"邮箱-之前的前缀（不包括-）\"><a href=\"#邮箱-之前的前缀（不包括-）\" class=\"headerlink\" title=\"邮箱@之前的前缀（不包括@）\"></a>邮箱@之前的前缀（不包括@）</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const validateEmail = async (_, value) =&gt; &#123;</span><br><span class=\"line\">  const emailPrefixRegex = /^(?![_.])[a-zA-Z0-9._]+(?&lt;![_.])$/;</span><br><span class=\"line\">  if (value &amp;&amp; emailPrefixRegex.test(value)) &#123;</span><br><span class=\"line\">     return Promise.resolve(); // 验证通过</span><br><span class=\"line\">  &#125; else &#123;</span><br><span class=\"line\">     return Promise.reject(&#x27;请输入正确的邮箱前缀&#x27;); // 验证失败，返回错误信息</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n","site":{"data":{}},"excerpt":"<h3 id=\"react开发简洁开发\"><a href=\"#react开发简洁开发\" class=\"headerlink\" title=\"react开发简洁开发\"></a>react开发简洁开发</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const onFinish = async (values) =&gt; &#123;</span><br><span class=\"line\">  console.log(values);</span><br><span class=\"line\">  //对象字典，以便更简洁地构造 userData</span><br><span class=\"line\">  const userDataBuilders = &#123;</span><br><span class=\"line\">    mobile: (values) =&gt; new URLSearchParams(&#123;</span><br><span class=\"line\">      mobile: values.mobile,</span><br><span class=\"line\">      code: values.code,</span><br><span class=\"line\">      password: values.password,</span><br><span class=\"line\">      autologin: values.remember,</span><br><span class=\"line\">    &#125;),</span><br><span class=\"line\">    email: (values) =&gt; new URLSearchParams(&#123;</span><br><span class=\"line\">      email: `$&#123;values.emailPrefix&#125;$&#123;values.emailSuffix&#125;`,</span><br><span class=\"line\">      code: values.code,</span><br><span class=\"line\">      password: values.password,</span><br><span class=\"line\">      autologin: values.remember,</span><br><span class=\"line\">    &#125;),</span><br><span class=\"line\">  &#125;;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"跨域问题\"><a href=\"#跨域问题\" class=\"headerlink\" title=\"跨域问题\"></a>跨域问题</h3><p>记录一次跨域问题，找了1个小时，原来与BaseUrl有关</p>","more":"<p>这是放在src下的<code>setupProxy.js</code>文件,该路径下会自动识别</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> &#123; createProxyMiddleware &#125; = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;http-proxy-middleware&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = <span class=\"keyword\">function</span> (<span class=\"params\">app</span>) &#123;</span><br><span class=\"line\">  app.<span class=\"title function_\">use</span>(</span><br><span class=\"line\">    <span class=\"string\">&#x27;/api&#x27;</span>,</span><br><span class=\"line\">    <span class=\"title function_\">createProxyMiddleware</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">target</span>: <span class=\"string\">&#x27;http://localhost:8888&#x27;</span>,</span><br><span class=\"line\">      <span class=\"attr\">changeOrigin</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">      <span class=\"attr\">pathRewrite</span>: &#123;</span><br><span class=\"line\">        <span class=\"string\">&#x27;^/api&#x27;</span>: <span class=\"string\">&#x27;&#x27;</span>, </span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  );</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p>那么axios的配置就应该是</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">axios.<span class=\"property\">defaults</span>.<span class=\"property\">baseURL</span> = <span class=\"string\">&#x27;/api/&#x27;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"邮箱-之前的前缀（不包括-）\"><a href=\"#邮箱-之前的前缀（不包括-）\" class=\"headerlink\" title=\"邮箱@之前的前缀（不包括@）\"></a>邮箱@之前的前缀（不包括@）</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const validateEmail = async (_, value) =&gt; &#123;</span><br><span class=\"line\">  const emailPrefixRegex = /^(?![_.])[a-zA-Z0-9._]+(?&lt;![_.])$/;</span><br><span class=\"line\">  if (value &amp;&amp; emailPrefixRegex.test(value)) &#123;</span><br><span class=\"line\">     return Promise.resolve(); // 验证通过</span><br><span class=\"line\">  &#125; else &#123;</span><br><span class=\"line\">     return Promise.reject(&#x27;请输入正确的邮箱前缀&#x27;); // 验证失败，返回错误信息</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>"},{"title":"大三寒假学C++&lc","date":"2022-02-22T05:21:01.000Z","_content":"\n### C++\n\n### 大三上暑假苦苦学c++肝lc，记录一下每天的笔记\n\n<!-- more -->\n\n### 1.1\n\n> 两数之和(1) count = 1;\n\nc++ map\n\n``` c++\n第一种：用insert函数插入pair数据：\nmap<int,string> my_map;\nmy_map.insert(pair<int,string>(1,\"first\"));\nmy_map.insert(pair<int,string>(2,\"second\"));\n\n第二种：用insert函数插入value_type数据：\nmap<int,string> my_map;\nmy_map.insert(map<int,string>::value_type(1,\"first\"));\nmy_map.insert(map<int,string>::value_type(2,\"second\"));\n\nmap<int,string>::iterator it;           //迭代器遍历\nfor(it=my_map.begin();it!=my_map.end();it++)\n    cout<<it->first<<it->second<<endl;\n\n第三种：用数组的方式直接赋值：\nmap<int,string> my_map;\nmy_map[1]=\"first\";\nmy_map[2]=\"second\";\n\nmap<int,string>::iterator it;\nfor(it=my_map.begin();it!=my_map.end();it++)\n    cout<<it->first<<it->second<<endl;\n\n```\n\n### 1.2\n\n``` c++\n#include <algorithm>\nclass Solution {\npublic:\n    vector<int> intersect(vector<int>& nums1, vector<int>& nums2) {\n        map<int,int> m1;\n        map<int,int> m2;\n        vector<int> a;\n        for(int i = 0; i < nums1.size(); i++){\n            m1[nums1[i]]++;\n        }\n        for(int i = 0; i < nums2.size(); i++){\n            m2[nums2[i]]++;\n        }\n        map<int, int>::iterator iter;\n          for (iter = m1.begin(); iter != m1.end(); iter++) {\n            int minT = min<int>(m2[iter->first],iter -> second);\n            if( minT> 0){\n                for(int j = 0; j < minT; j++){\n                    a.push_back(iter -> first);\n                }         \n            }\n        }\n        return a;\n    }\n};\n```\n\n### 1.3\n\n> 最大子数组和 = 2\n>\n> 用两个栈实现队列 = 1\t\n\n\n\n``` c++\nclass Solution {\npublic:\n    int maxSubArray(vector<int>& nums) {\n        int max = nums[0];\n        int lSize = nums.size();\n        for(int i = 1; i < lSize; i++){\n            if(nums[i - 1] > 0){\n                nums[i] += nums[i - 1];\n            }\n            if(nums[i] > max){\n                max = nums[i];\n            }\n        }\n        return max;\n    }\n};\n```\n\n``` c++\nclass CQueue {\n    stack<int> s1,s2;\npublic:\n    CQueue() {\n        \n    }\n    \n    void appendTail(int value) {\n        s1.push(value);\n    }\n    \n    int deleteHead() {\n        if(!s2.empty())\n        {\n            int a=s2.top();\n            s2.pop();\n            return a;\n        }\n        if(s1.empty())  return -1;\n        while(!s1.empty())\n          {\n                s2.push(s1.top());\n                s1.pop();\n                \n          }\n          int b = s2.top();\n          s2.pop();\n          return b;\n    }\n};\n```\n\nStack操作\n\n```c++\nstack<int> q;\t//以int型为例\nint x;\nq.push(x);\t\t//将x压入栈顶\nq.top();\t\t//返回栈顶的元素\nq.pop();\t\t//删除栈顶的元素\nq.size();\t\t//返回栈中元素的个数\nq.empty();\t\t//检查栈是否为空,若为空返回true,否则返回false\n```\n\n### 1.4\n\n```c++\nclass Solution {\npublic:\n    Node* copyRandomList(Node* head) {\n        if(head == nullptr) return nullptr;\n        Node* cur = head;\n        unordered_map<Node*, Node*> map;\n        // 3. 复制各节点，并建立 “原节点 -> 新节点” 的 Map 映射\n        while(cur != nullptr) {\n            map[cur] = new Node(cur->val);\n            cur = cur->next;\n        }\n        cur = head;\n        // 4. 构建新链表的 next 和 random 指向\n        while(cur != nullptr) {\n            map[cur]->next = map[cur->next];\n            map[cur]->random = map[cur->random];\n            cur = cur->next;\n        }\n        // 5. 返回新链表的头节点\n        return map[head];\n    }\n};\n\n```\n\n### 1.16\n\nqueue\n\n```c++\npush() 在队尾插入一个元素\npop() 删除队列第一个元素\nsize() 返回队列中元素个数\nempty() 如果队列空则返回true\nfront() 返回队列中的第一个元素\nback() 返回队列中最后一个元素\n```\n\n### 1.17\n\n二叉树镜像 辅助栈做法未学\n\n### 1.18\n\n斐波那契数列的矩阵幂算法\n\n```c++\nclass Solution {\npublic:\n    const int MOD = 1000000007;\n\n    int fib(int n) {\n        if (n < 2) {\n            return n;\n        }\n        vector<vector<long>> q{{1, 1}, {1, 0}};\n        vector<vector<long>> res = pow(q, n - 1);\n        return res[0][0];\n    }\n\n    vector<vector<long>> pow(vector<vector<long>>& a, int n) {\n        vector<vector<long>> ret{{1, 0}, {0, 1}};\n        while (n > 0) {\n            if (n & 1) {\n                ret = multiply(ret, a);\n            }\n            n >>= 1;\n            a = multiply(a, a);\n        }\n        return ret;\n    }\n\n    vector<vector<long>> multiply(vector<vector<long>>& a, vector<vector<long>>& b) {\n        vector<vector<long>> c{{0, 0}, {0, 0}};\n        for (int i = 0; i < 2; i++) {\n            for (int j = 0; j < 2; j++) {\n                c[i][j] = (a[i][0] * b[0][j] + a[i][1] * b[1][j]) % MOD;\n            }\n        }\n        return c;\n    }\n};\n\n```\n\n### 1.20\n\n循环条件有可能不经意间 因为变量改变 ——寻找bug\n\n```c++\nclass Solution {\npublic:\n    ListNode* mergeTwoLists(ListNode* l1, ListNode* l2) {\n        ListNode *res = new ListNode(0), *p = res;\n        while(l1 && l2 ){\n            l1->val < l2->val ? (p->next = l1,l1 = l1->next) : (p->next = l2, l2 = l2->next);\n            p = p->next;              \n        }\n        p->next = l1 ? l1 : l2;\n        return res->next;\n    }\n};\n```\n\n### 1.23\n\n判断条件最好不要用相加后的结果，应该用target - nums[i] 跟 nums[j]比较，这样保证不会溢出。\n\n同样的例子还有二分查找，(left + right) / 2 可以用left + ((rigth - left) >> 1))代替\n\n### 1.26\n\n回溯时\n\n``` c++\npath.pop_back();\n```\n\n功力\n\n### 1.28\n\n```c++\nvoid quickSort(vector<int>& arr, int l, int r){\n    if(l >= r) return;\n    int i = l, j = r;\n    while(i < j){\n      while(i < j && arr[j] >= arr[l]){j--;};\n      while(i < j && arr[i] <= arr[l]){i++;};\n      swap(arr[i], arr[j]);\n    }\n    swap(arr[i], arr[l]);\n    quickSort(arr, l, i - 1);\n    quickSort(arr, i + 1, r);\n}\n```\n\n","source":"_posts/大三寒假学C++&lc.md","raw":"---\ntitle: 大三寒假学C++&lc\ndate:  2022-02-22 13:21:01 \ntags:\n- C++\n- leetcode\n- 算法\n- 一个月\ncategories: \n- 笔记\n---\n\n### C++\n\n### 大三上暑假苦苦学c++肝lc，记录一下每天的笔记\n\n<!-- more -->\n\n### 1.1\n\n> 两数之和(1) count = 1;\n\nc++ map\n\n``` c++\n第一种：用insert函数插入pair数据：\nmap<int,string> my_map;\nmy_map.insert(pair<int,string>(1,\"first\"));\nmy_map.insert(pair<int,string>(2,\"second\"));\n\n第二种：用insert函数插入value_type数据：\nmap<int,string> my_map;\nmy_map.insert(map<int,string>::value_type(1,\"first\"));\nmy_map.insert(map<int,string>::value_type(2,\"second\"));\n\nmap<int,string>::iterator it;           //迭代器遍历\nfor(it=my_map.begin();it!=my_map.end();it++)\n    cout<<it->first<<it->second<<endl;\n\n第三种：用数组的方式直接赋值：\nmap<int,string> my_map;\nmy_map[1]=\"first\";\nmy_map[2]=\"second\";\n\nmap<int,string>::iterator it;\nfor(it=my_map.begin();it!=my_map.end();it++)\n    cout<<it->first<<it->second<<endl;\n\n```\n\n### 1.2\n\n``` c++\n#include <algorithm>\nclass Solution {\npublic:\n    vector<int> intersect(vector<int>& nums1, vector<int>& nums2) {\n        map<int,int> m1;\n        map<int,int> m2;\n        vector<int> a;\n        for(int i = 0; i < nums1.size(); i++){\n            m1[nums1[i]]++;\n        }\n        for(int i = 0; i < nums2.size(); i++){\n            m2[nums2[i]]++;\n        }\n        map<int, int>::iterator iter;\n          for (iter = m1.begin(); iter != m1.end(); iter++) {\n            int minT = min<int>(m2[iter->first],iter -> second);\n            if( minT> 0){\n                for(int j = 0; j < minT; j++){\n                    a.push_back(iter -> first);\n                }         \n            }\n        }\n        return a;\n    }\n};\n```\n\n### 1.3\n\n> 最大子数组和 = 2\n>\n> 用两个栈实现队列 = 1\t\n\n\n\n``` c++\nclass Solution {\npublic:\n    int maxSubArray(vector<int>& nums) {\n        int max = nums[0];\n        int lSize = nums.size();\n        for(int i = 1; i < lSize; i++){\n            if(nums[i - 1] > 0){\n                nums[i] += nums[i - 1];\n            }\n            if(nums[i] > max){\n                max = nums[i];\n            }\n        }\n        return max;\n    }\n};\n```\n\n``` c++\nclass CQueue {\n    stack<int> s1,s2;\npublic:\n    CQueue() {\n        \n    }\n    \n    void appendTail(int value) {\n        s1.push(value);\n    }\n    \n    int deleteHead() {\n        if(!s2.empty())\n        {\n            int a=s2.top();\n            s2.pop();\n            return a;\n        }\n        if(s1.empty())  return -1;\n        while(!s1.empty())\n          {\n                s2.push(s1.top());\n                s1.pop();\n                \n          }\n          int b = s2.top();\n          s2.pop();\n          return b;\n    }\n};\n```\n\nStack操作\n\n```c++\nstack<int> q;\t//以int型为例\nint x;\nq.push(x);\t\t//将x压入栈顶\nq.top();\t\t//返回栈顶的元素\nq.pop();\t\t//删除栈顶的元素\nq.size();\t\t//返回栈中元素的个数\nq.empty();\t\t//检查栈是否为空,若为空返回true,否则返回false\n```\n\n### 1.4\n\n```c++\nclass Solution {\npublic:\n    Node* copyRandomList(Node* head) {\n        if(head == nullptr) return nullptr;\n        Node* cur = head;\n        unordered_map<Node*, Node*> map;\n        // 3. 复制各节点，并建立 “原节点 -> 新节点” 的 Map 映射\n        while(cur != nullptr) {\n            map[cur] = new Node(cur->val);\n            cur = cur->next;\n        }\n        cur = head;\n        // 4. 构建新链表的 next 和 random 指向\n        while(cur != nullptr) {\n            map[cur]->next = map[cur->next];\n            map[cur]->random = map[cur->random];\n            cur = cur->next;\n        }\n        // 5. 返回新链表的头节点\n        return map[head];\n    }\n};\n\n```\n\n### 1.16\n\nqueue\n\n```c++\npush() 在队尾插入一个元素\npop() 删除队列第一个元素\nsize() 返回队列中元素个数\nempty() 如果队列空则返回true\nfront() 返回队列中的第一个元素\nback() 返回队列中最后一个元素\n```\n\n### 1.17\n\n二叉树镜像 辅助栈做法未学\n\n### 1.18\n\n斐波那契数列的矩阵幂算法\n\n```c++\nclass Solution {\npublic:\n    const int MOD = 1000000007;\n\n    int fib(int n) {\n        if (n < 2) {\n            return n;\n        }\n        vector<vector<long>> q{{1, 1}, {1, 0}};\n        vector<vector<long>> res = pow(q, n - 1);\n        return res[0][0];\n    }\n\n    vector<vector<long>> pow(vector<vector<long>>& a, int n) {\n        vector<vector<long>> ret{{1, 0}, {0, 1}};\n        while (n > 0) {\n            if (n & 1) {\n                ret = multiply(ret, a);\n            }\n            n >>= 1;\n            a = multiply(a, a);\n        }\n        return ret;\n    }\n\n    vector<vector<long>> multiply(vector<vector<long>>& a, vector<vector<long>>& b) {\n        vector<vector<long>> c{{0, 0}, {0, 0}};\n        for (int i = 0; i < 2; i++) {\n            for (int j = 0; j < 2; j++) {\n                c[i][j] = (a[i][0] * b[0][j] + a[i][1] * b[1][j]) % MOD;\n            }\n        }\n        return c;\n    }\n};\n\n```\n\n### 1.20\n\n循环条件有可能不经意间 因为变量改变 ——寻找bug\n\n```c++\nclass Solution {\npublic:\n    ListNode* mergeTwoLists(ListNode* l1, ListNode* l2) {\n        ListNode *res = new ListNode(0), *p = res;\n        while(l1 && l2 ){\n            l1->val < l2->val ? (p->next = l1,l1 = l1->next) : (p->next = l2, l2 = l2->next);\n            p = p->next;              \n        }\n        p->next = l1 ? l1 : l2;\n        return res->next;\n    }\n};\n```\n\n### 1.23\n\n判断条件最好不要用相加后的结果，应该用target - nums[i] 跟 nums[j]比较，这样保证不会溢出。\n\n同样的例子还有二分查找，(left + right) / 2 可以用left + ((rigth - left) >> 1))代替\n\n### 1.26\n\n回溯时\n\n``` c++\npath.pop_back();\n```\n\n功力\n\n### 1.28\n\n```c++\nvoid quickSort(vector<int>& arr, int l, int r){\n    if(l >= r) return;\n    int i = l, j = r;\n    while(i < j){\n      while(i < j && arr[j] >= arr[l]){j--;};\n      while(i < j && arr[i] <= arr[l]){i++;};\n      swap(arr[i], arr[j]);\n    }\n    swap(arr[i], arr[l]);\n    quickSort(arr, l, i - 1);\n    quickSort(arr, i + 1, r);\n}\n```\n\n","slug":"大三寒假学C++&lc","published":1,"updated":"2023-04-20T03:02:23.339Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clgz2pff7000xdl5zhyy30d9u","content":"<h3 id=\"C\"><a href=\"#C\" class=\"headerlink\" title=\"C++\"></a>C++</h3><h3 id=\"大三上暑假苦苦学c-肝lc，记录一下每天的笔记\"><a href=\"#大三上暑假苦苦学c-肝lc，记录一下每天的笔记\" class=\"headerlink\" title=\"大三上暑假苦苦学c++肝lc，记录一下每天的笔记\"></a>大三上暑假苦苦学c++肝lc，记录一下每天的笔记</h3><span id=\"more\"></span>\n\n<h3 id=\"1-1\"><a href=\"#1-1\" class=\"headerlink\" title=\"1.1\"></a>1.1</h3><blockquote>\n<p>两数之和(1) count = 1;</p>\n</blockquote>\n<p>c++ map</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">第一种：用insert函数插入pair数据：</span><br><span class=\"line\">map&lt;<span class=\"type\">int</span>,string&gt; my_map;</span><br><span class=\"line\">my_map.<span class=\"built_in\">insert</span>(<span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,string&gt;(<span class=\"number\">1</span>,<span class=\"string\">&quot;first&quot;</span>));</span><br><span class=\"line\">my_map.<span class=\"built_in\">insert</span>(<span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,string&gt;(<span class=\"number\">2</span>,<span class=\"string\">&quot;second&quot;</span>));</span><br><span class=\"line\"></span><br><span class=\"line\">第二种：用insert函数插入value_type数据：</span><br><span class=\"line\">map&lt;<span class=\"type\">int</span>,string&gt; my_map;</span><br><span class=\"line\">my_map.<span class=\"built_in\">insert</span>(map&lt;<span class=\"type\">int</span>,string&gt;::<span class=\"built_in\">value_type</span>(<span class=\"number\">1</span>,<span class=\"string\">&quot;first&quot;</span>));</span><br><span class=\"line\">my_map.<span class=\"built_in\">insert</span>(map&lt;<span class=\"type\">int</span>,string&gt;::<span class=\"built_in\">value_type</span>(<span class=\"number\">2</span>,<span class=\"string\">&quot;second&quot;</span>));</span><br><span class=\"line\"></span><br><span class=\"line\">map&lt;<span class=\"type\">int</span>,string&gt;::iterator it;           <span class=\"comment\">//迭代器遍历</span></span><br><span class=\"line\"><span class=\"keyword\">for</span>(it=my_map.<span class=\"built_in\">begin</span>();it!=my_map.<span class=\"built_in\">end</span>();it++)</span><br><span class=\"line\">    cout&lt;&lt;it-&gt;first&lt;&lt;it-&gt;second&lt;&lt;endl;</span><br><span class=\"line\"></span><br><span class=\"line\">第三种：用数组的方式直接赋值：</span><br><span class=\"line\">map&lt;<span class=\"type\">int</span>,string&gt; my_map;</span><br><span class=\"line\">my_map[<span class=\"number\">1</span>]=<span class=\"string\">&quot;first&quot;</span>;</span><br><span class=\"line\">my_map[<span class=\"number\">2</span>]=<span class=\"string\">&quot;second&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">map&lt;<span class=\"type\">int</span>,string&gt;::iterator it;</span><br><span class=\"line\"><span class=\"keyword\">for</span>(it=my_map.<span class=\"built_in\">begin</span>();it!=my_map.<span class=\"built_in\">end</span>();it++)</span><br><span class=\"line\">    cout&lt;&lt;it-&gt;first&lt;&lt;it-&gt;second&lt;&lt;endl;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"1-2\"><a href=\"#1-2\" class=\"headerlink\" title=\"1.2\"></a>1.2</h3><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;algorithm&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">intersect</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums1, vector&lt;<span class=\"type\">int</span>&gt;&amp; nums2)</span> </span>&#123;</span><br><span class=\"line\">        map&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; m1;</span><br><span class=\"line\">        map&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; m2;</span><br><span class=\"line\">        vector&lt;<span class=\"type\">int</span>&gt; a;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; nums1.<span class=\"built_in\">size</span>(); i++)&#123;</span><br><span class=\"line\">            m1[nums1[i]]++;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; nums2.<span class=\"built_in\">size</span>(); i++)&#123;</span><br><span class=\"line\">            m2[nums2[i]]++;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        map&lt;<span class=\"type\">int</span>, <span class=\"type\">int</span>&gt;::iterator iter;</span><br><span class=\"line\">          <span class=\"keyword\">for</span> (iter = m1.<span class=\"built_in\">begin</span>(); iter != m1.<span class=\"built_in\">end</span>(); iter++) &#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> minT = <span class=\"built_in\">min</span>&lt;<span class=\"type\">int</span>&gt;(m2[iter-&gt;first],iter -&gt; second);</span><br><span class=\"line\">            <span class=\"keyword\">if</span>( minT&gt; <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j = <span class=\"number\">0</span>; j &lt; minT; j++)&#123;</span><br><span class=\"line\">                    a.<span class=\"built_in\">push_back</span>(iter -&gt; first);</span><br><span class=\"line\">                &#125;         </span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> a;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"1-3\"><a href=\"#1-3\" class=\"headerlink\" title=\"1.3\"></a>1.3</h3><blockquote>\n<p>最大子数组和 = 2</p>\n<p>用两个栈实现队列 = 1    </p>\n</blockquote>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">maxSubArray</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> max = nums[<span class=\"number\">0</span>];</span><br><span class=\"line\">        <span class=\"type\">int</span> lSize = nums.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = <span class=\"number\">1</span>; i &lt; lSize; i++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(nums[i - <span class=\"number\">1</span>] &gt; <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">                nums[i] += nums[i - <span class=\"number\">1</span>];</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(nums[i] &gt; max)&#123;</span><br><span class=\"line\">                max = nums[i];</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> max;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">CQueue</span> &#123;</span><br><span class=\"line\">    stack&lt;<span class=\"type\">int</span>&gt; s1,s2;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"built_in\">CQueue</span>() &#123;</span><br><span class=\"line\">        </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">appendTail</span><span class=\"params\">(<span class=\"type\">int</span> value)</span> </span>&#123;</span><br><span class=\"line\">        s1.<span class=\"built_in\">push</span>(value);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">deleteHead</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(!s2.<span class=\"built_in\">empty</span>())</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> a=s2.<span class=\"built_in\">top</span>();</span><br><span class=\"line\">            s2.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">            <span class=\"keyword\">return</span> a;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(s1.<span class=\"built_in\">empty</span>())  <span class=\"keyword\">return</span> <span class=\"number\">-1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(!s1.<span class=\"built_in\">empty</span>())</span><br><span class=\"line\">          &#123;</span><br><span class=\"line\">                s2.<span class=\"built_in\">push</span>(s1.<span class=\"built_in\">top</span>());</span><br><span class=\"line\">                s1.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                </span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          <span class=\"type\">int</span> b = s2.<span class=\"built_in\">top</span>();</span><br><span class=\"line\">          s2.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">          <span class=\"keyword\">return</span> b;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p>Stack操作</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">stack&lt;<span class=\"type\">int</span>&gt; q;\t<span class=\"comment\">//以int型为例</span></span><br><span class=\"line\"><span class=\"type\">int</span> x;</span><br><span class=\"line\">q.<span class=\"built_in\">push</span>(x);\t\t<span class=\"comment\">//将x压入栈顶</span></span><br><span class=\"line\">q.<span class=\"built_in\">top</span>();\t\t<span class=\"comment\">//返回栈顶的元素</span></span><br><span class=\"line\">q.<span class=\"built_in\">pop</span>();\t\t<span class=\"comment\">//删除栈顶的元素</span></span><br><span class=\"line\">q.<span class=\"built_in\">size</span>();\t\t<span class=\"comment\">//返回栈中元素的个数</span></span><br><span class=\"line\">q.<span class=\"built_in\">empty</span>();\t\t<span class=\"comment\">//检查栈是否为空,若为空返回true,否则返回false</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"1-4\"><a href=\"#1-4\" class=\"headerlink\" title=\"1.4\"></a>1.4</h3><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">Node* <span class=\"title\">copyRandomList</span><span class=\"params\">(Node* head)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(head == <span class=\"literal\">nullptr</span>) <span class=\"keyword\">return</span> <span class=\"literal\">nullptr</span>;</span><br><span class=\"line\">        Node* cur = head;</span><br><span class=\"line\">        unordered_map&lt;Node*, Node*&gt; map;</span><br><span class=\"line\">        <span class=\"comment\">// 3. 复制各节点，并建立 “原节点 -&gt; 新节点” 的 Map 映射</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span>(cur != <span class=\"literal\">nullptr</span>) &#123;</span><br><span class=\"line\">            map[cur] = <span class=\"keyword\">new</span> <span class=\"built_in\">Node</span>(cur-&gt;val);</span><br><span class=\"line\">            cur = cur-&gt;next;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        cur = head;</span><br><span class=\"line\">        <span class=\"comment\">// 4. 构建新链表的 next 和 random 指向</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span>(cur != <span class=\"literal\">nullptr</span>) &#123;</span><br><span class=\"line\">            map[cur]-&gt;next = map[cur-&gt;next];</span><br><span class=\"line\">            map[cur]-&gt;random = map[cur-&gt;random];</span><br><span class=\"line\">            cur = cur-&gt;next;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 5. 返回新链表的头节点</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> map[head];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"1-16\"><a href=\"#1-16\" class=\"headerlink\" title=\"1.16\"></a>1.16</h3><p>queue</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">push</span>() 在队尾插入一个元素</span><br><span class=\"line\"><span class=\"built_in\">pop</span>() 删除队列第一个元素</span><br><span class=\"line\"><span class=\"built_in\">size</span>() 返回队列中元素个数</span><br><span class=\"line\"><span class=\"built_in\">empty</span>() 如果队列空则返回<span class=\"function\"><span class=\"literal\">true</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">front</span><span class=\"params\">()</span> 返回队列中的第一个元素</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">back</span><span class=\"params\">()</span> 返回队列中最后一个元素</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"1-17\"><a href=\"#1-17\" class=\"headerlink\" title=\"1.17\"></a>1.17</h3><p>二叉树镜像 辅助栈做法未学</p>\n<h3 id=\"1-18\"><a href=\"#1-18\" class=\"headerlink\" title=\"1.18\"></a>1.18</h3><p>斐波那契数列的矩阵幂算法</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"type\">const</span> <span class=\"type\">int</span> MOD = <span class=\"number\">1000000007</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">fib</span><span class=\"params\">(<span class=\"type\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (n &lt; <span class=\"number\">2</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> n;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        vector&lt;vector&lt;<span class=\"type\">long</span>&gt;&gt; q&#123;&#123;<span class=\"number\">1</span>, <span class=\"number\">1</span>&#125;, &#123;<span class=\"number\">1</span>, <span class=\"number\">0</span>&#125;&#125;;</span><br><span class=\"line\">        vector&lt;vector&lt;<span class=\"type\">long</span>&gt;&gt; res = <span class=\"built_in\">pow</span>(q, n - <span class=\"number\">1</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res[<span class=\"number\">0</span>][<span class=\"number\">0</span>];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">long</span>&gt;&gt; <span class=\"built_in\">pow</span>(vector&lt;vector&lt;<span class=\"type\">long</span>&gt;&gt;&amp; a, <span class=\"type\">int</span> n) &#123;</span><br><span class=\"line\">        vector&lt;vector&lt;<span class=\"type\">long</span>&gt;&gt; ret&#123;&#123;<span class=\"number\">1</span>, <span class=\"number\">0</span>&#125;, &#123;<span class=\"number\">0</span>, <span class=\"number\">1</span>&#125;&#125;;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (n &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (n &amp; <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">                ret = <span class=\"built_in\">multiply</span>(ret, a);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            n &gt;&gt;= <span class=\"number\">1</span>;</span><br><span class=\"line\">            a = <span class=\"built_in\">multiply</span>(a, a);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ret;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">long</span>&gt;&gt; <span class=\"built_in\">multiply</span>(vector&lt;vector&lt;<span class=\"type\">long</span>&gt;&gt;&amp; a, vector&lt;vector&lt;<span class=\"type\">long</span>&gt;&gt;&amp; b) &#123;</span><br><span class=\"line\">        vector&lt;vector&lt;<span class=\"type\">long</span>&gt;&gt; c&#123;&#123;<span class=\"number\">0</span>, <span class=\"number\">0</span>&#125;, &#123;<span class=\"number\">0</span>, <span class=\"number\">0</span>&#125;&#125;;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">2</span>; i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> j = <span class=\"number\">0</span>; j &lt; <span class=\"number\">2</span>; j++) &#123;</span><br><span class=\"line\">                c[i][j] = (a[i][<span class=\"number\">0</span>] * b[<span class=\"number\">0</span>][j] + a[i][<span class=\"number\">1</span>] * b[<span class=\"number\">1</span>][j]) % MOD;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> c;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"1-20\"><a href=\"#1-20\" class=\"headerlink\" title=\"1.20\"></a>1.20</h3><p>循环条件有可能不经意间 因为变量改变 ——寻找bug</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">ListNode* <span class=\"title\">mergeTwoLists</span><span class=\"params\">(ListNode* l1, ListNode* l2)</span> </span>&#123;</span><br><span class=\"line\">        ListNode *res = <span class=\"keyword\">new</span> <span class=\"built_in\">ListNode</span>(<span class=\"number\">0</span>), *p = res;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(l1 &amp;&amp; l2 )&#123;</span><br><span class=\"line\">            l1-&gt;val &lt; l2-&gt;val ? (p-&gt;next = l1,l1 = l1-&gt;next) : (p-&gt;next = l2, l2 = l2-&gt;next);</span><br><span class=\"line\">            p = p-&gt;next;              </span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        p-&gt;next = l1 ? l1 : l2;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res-&gt;next;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"1-23\"><a href=\"#1-23\" class=\"headerlink\" title=\"1.23\"></a>1.23</h3><p>判断条件最好不要用相加后的结果，应该用target - nums[i] 跟 nums[j]比较，这样保证不会溢出。</p>\n<p>同样的例子还有二分查找，(left + right) / 2 可以用left + ((rigth - left) &gt;&gt; 1))代替</p>\n<h3 id=\"1-26\"><a href=\"#1-26\" class=\"headerlink\" title=\"1.26\"></a>1.26</h3><p>回溯时</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">path.<span class=\"built_in\">pop_back</span>();</span><br></pre></td></tr></table></figure>\n\n<p>功力</p>\n<h3 id=\"1-28\"><a href=\"#1-28\" class=\"headerlink\" title=\"1.28\"></a>1.28</h3><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">quickSort</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; arr, <span class=\"type\">int</span> l, <span class=\"type\">int</span> r)</span></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(l &gt;= r) <span class=\"keyword\">return</span>;</span><br><span class=\"line\">    <span class=\"type\">int</span> i = l, j = r;</span><br><span class=\"line\">    <span class=\"keyword\">while</span>(i &lt; j)&#123;</span><br><span class=\"line\">      <span class=\"keyword\">while</span>(i &lt; j &amp;&amp; arr[j] &gt;= arr[l])&#123;j--;&#125;;</span><br><span class=\"line\">      <span class=\"keyword\">while</span>(i &lt; j &amp;&amp; arr[i] &lt;= arr[l])&#123;i++;&#125;;</span><br><span class=\"line\">      <span class=\"built_in\">swap</span>(arr[i], arr[j]);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"built_in\">swap</span>(arr[i], arr[l]);</span><br><span class=\"line\">    <span class=\"built_in\">quickSort</span>(arr, l, i - <span class=\"number\">1</span>);</span><br><span class=\"line\">    <span class=\"built_in\">quickSort</span>(arr, i + <span class=\"number\">1</span>, r);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n","site":{"data":{}},"excerpt":"<h3 id=\"C\"><a href=\"#C\" class=\"headerlink\" title=\"C++\"></a>C++</h3><h3 id=\"大三上暑假苦苦学c-肝lc，记录一下每天的笔记\"><a href=\"#大三上暑假苦苦学c-肝lc，记录一下每天的笔记\" class=\"headerlink\" title=\"大三上暑假苦苦学c++肝lc，记录一下每天的笔记\"></a>大三上暑假苦苦学c++肝lc，记录一下每天的笔记</h3>","more":"<h3 id=\"1-1\"><a href=\"#1-1\" class=\"headerlink\" title=\"1.1\"></a>1.1</h3><blockquote>\n<p>两数之和(1) count = 1;</p>\n</blockquote>\n<p>c++ map</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">第一种：用insert函数插入pair数据：</span><br><span class=\"line\">map&lt;<span class=\"type\">int</span>,string&gt; my_map;</span><br><span class=\"line\">my_map.<span class=\"built_in\">insert</span>(<span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,string&gt;(<span class=\"number\">1</span>,<span class=\"string\">&quot;first&quot;</span>));</span><br><span class=\"line\">my_map.<span class=\"built_in\">insert</span>(<span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,string&gt;(<span class=\"number\">2</span>,<span class=\"string\">&quot;second&quot;</span>));</span><br><span class=\"line\"></span><br><span class=\"line\">第二种：用insert函数插入value_type数据：</span><br><span class=\"line\">map&lt;<span class=\"type\">int</span>,string&gt; my_map;</span><br><span class=\"line\">my_map.<span class=\"built_in\">insert</span>(map&lt;<span class=\"type\">int</span>,string&gt;::<span class=\"built_in\">value_type</span>(<span class=\"number\">1</span>,<span class=\"string\">&quot;first&quot;</span>));</span><br><span class=\"line\">my_map.<span class=\"built_in\">insert</span>(map&lt;<span class=\"type\">int</span>,string&gt;::<span class=\"built_in\">value_type</span>(<span class=\"number\">2</span>,<span class=\"string\">&quot;second&quot;</span>));</span><br><span class=\"line\"></span><br><span class=\"line\">map&lt;<span class=\"type\">int</span>,string&gt;::iterator it;           <span class=\"comment\">//迭代器遍历</span></span><br><span class=\"line\"><span class=\"keyword\">for</span>(it=my_map.<span class=\"built_in\">begin</span>();it!=my_map.<span class=\"built_in\">end</span>();it++)</span><br><span class=\"line\">    cout&lt;&lt;it-&gt;first&lt;&lt;it-&gt;second&lt;&lt;endl;</span><br><span class=\"line\"></span><br><span class=\"line\">第三种：用数组的方式直接赋值：</span><br><span class=\"line\">map&lt;<span class=\"type\">int</span>,string&gt; my_map;</span><br><span class=\"line\">my_map[<span class=\"number\">1</span>]=<span class=\"string\">&quot;first&quot;</span>;</span><br><span class=\"line\">my_map[<span class=\"number\">2</span>]=<span class=\"string\">&quot;second&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">map&lt;<span class=\"type\">int</span>,string&gt;::iterator it;</span><br><span class=\"line\"><span class=\"keyword\">for</span>(it=my_map.<span class=\"built_in\">begin</span>();it!=my_map.<span class=\"built_in\">end</span>();it++)</span><br><span class=\"line\">    cout&lt;&lt;it-&gt;first&lt;&lt;it-&gt;second&lt;&lt;endl;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"1-2\"><a href=\"#1-2\" class=\"headerlink\" title=\"1.2\"></a>1.2</h3><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;algorithm&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">intersect</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums1, vector&lt;<span class=\"type\">int</span>&gt;&amp; nums2)</span> </span>&#123;</span><br><span class=\"line\">        map&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; m1;</span><br><span class=\"line\">        map&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; m2;</span><br><span class=\"line\">        vector&lt;<span class=\"type\">int</span>&gt; a;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; nums1.<span class=\"built_in\">size</span>(); i++)&#123;</span><br><span class=\"line\">            m1[nums1[i]]++;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; nums2.<span class=\"built_in\">size</span>(); i++)&#123;</span><br><span class=\"line\">            m2[nums2[i]]++;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        map&lt;<span class=\"type\">int</span>, <span class=\"type\">int</span>&gt;::iterator iter;</span><br><span class=\"line\">          <span class=\"keyword\">for</span> (iter = m1.<span class=\"built_in\">begin</span>(); iter != m1.<span class=\"built_in\">end</span>(); iter++) &#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> minT = <span class=\"built_in\">min</span>&lt;<span class=\"type\">int</span>&gt;(m2[iter-&gt;first],iter -&gt; second);</span><br><span class=\"line\">            <span class=\"keyword\">if</span>( minT&gt; <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j = <span class=\"number\">0</span>; j &lt; minT; j++)&#123;</span><br><span class=\"line\">                    a.<span class=\"built_in\">push_back</span>(iter -&gt; first);</span><br><span class=\"line\">                &#125;         </span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> a;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"1-3\"><a href=\"#1-3\" class=\"headerlink\" title=\"1.3\"></a>1.3</h3><blockquote>\n<p>最大子数组和 = 2</p>\n<p>用两个栈实现队列 = 1    </p>\n</blockquote>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">maxSubArray</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> max = nums[<span class=\"number\">0</span>];</span><br><span class=\"line\">        <span class=\"type\">int</span> lSize = nums.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = <span class=\"number\">1</span>; i &lt; lSize; i++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(nums[i - <span class=\"number\">1</span>] &gt; <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">                nums[i] += nums[i - <span class=\"number\">1</span>];</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(nums[i] &gt; max)&#123;</span><br><span class=\"line\">                max = nums[i];</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> max;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">CQueue</span> &#123;</span><br><span class=\"line\">    stack&lt;<span class=\"type\">int</span>&gt; s1,s2;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"built_in\">CQueue</span>() &#123;</span><br><span class=\"line\">        </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">appendTail</span><span class=\"params\">(<span class=\"type\">int</span> value)</span> </span>&#123;</span><br><span class=\"line\">        s1.<span class=\"built_in\">push</span>(value);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">deleteHead</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(!s2.<span class=\"built_in\">empty</span>())</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> a=s2.<span class=\"built_in\">top</span>();</span><br><span class=\"line\">            s2.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">            <span class=\"keyword\">return</span> a;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(s1.<span class=\"built_in\">empty</span>())  <span class=\"keyword\">return</span> <span class=\"number\">-1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(!s1.<span class=\"built_in\">empty</span>())</span><br><span class=\"line\">          &#123;</span><br><span class=\"line\">                s2.<span class=\"built_in\">push</span>(s1.<span class=\"built_in\">top</span>());</span><br><span class=\"line\">                s1.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                </span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          <span class=\"type\">int</span> b = s2.<span class=\"built_in\">top</span>();</span><br><span class=\"line\">          s2.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">          <span class=\"keyword\">return</span> b;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p>Stack操作</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">stack&lt;<span class=\"type\">int</span>&gt; q;\t<span class=\"comment\">//以int型为例</span></span><br><span class=\"line\"><span class=\"type\">int</span> x;</span><br><span class=\"line\">q.<span class=\"built_in\">push</span>(x);\t\t<span class=\"comment\">//将x压入栈顶</span></span><br><span class=\"line\">q.<span class=\"built_in\">top</span>();\t\t<span class=\"comment\">//返回栈顶的元素</span></span><br><span class=\"line\">q.<span class=\"built_in\">pop</span>();\t\t<span class=\"comment\">//删除栈顶的元素</span></span><br><span class=\"line\">q.<span class=\"built_in\">size</span>();\t\t<span class=\"comment\">//返回栈中元素的个数</span></span><br><span class=\"line\">q.<span class=\"built_in\">empty</span>();\t\t<span class=\"comment\">//检查栈是否为空,若为空返回true,否则返回false</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"1-4\"><a href=\"#1-4\" class=\"headerlink\" title=\"1.4\"></a>1.4</h3><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">Node* <span class=\"title\">copyRandomList</span><span class=\"params\">(Node* head)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(head == <span class=\"literal\">nullptr</span>) <span class=\"keyword\">return</span> <span class=\"literal\">nullptr</span>;</span><br><span class=\"line\">        Node* cur = head;</span><br><span class=\"line\">        unordered_map&lt;Node*, Node*&gt; map;</span><br><span class=\"line\">        <span class=\"comment\">// 3. 复制各节点，并建立 “原节点 -&gt; 新节点” 的 Map 映射</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span>(cur != <span class=\"literal\">nullptr</span>) &#123;</span><br><span class=\"line\">            map[cur] = <span class=\"keyword\">new</span> <span class=\"built_in\">Node</span>(cur-&gt;val);</span><br><span class=\"line\">            cur = cur-&gt;next;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        cur = head;</span><br><span class=\"line\">        <span class=\"comment\">// 4. 构建新链表的 next 和 random 指向</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span>(cur != <span class=\"literal\">nullptr</span>) &#123;</span><br><span class=\"line\">            map[cur]-&gt;next = map[cur-&gt;next];</span><br><span class=\"line\">            map[cur]-&gt;random = map[cur-&gt;random];</span><br><span class=\"line\">            cur = cur-&gt;next;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 5. 返回新链表的头节点</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> map[head];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"1-16\"><a href=\"#1-16\" class=\"headerlink\" title=\"1.16\"></a>1.16</h3><p>queue</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">push</span>() 在队尾插入一个元素</span><br><span class=\"line\"><span class=\"built_in\">pop</span>() 删除队列第一个元素</span><br><span class=\"line\"><span class=\"built_in\">size</span>() 返回队列中元素个数</span><br><span class=\"line\"><span class=\"built_in\">empty</span>() 如果队列空则返回<span class=\"function\"><span class=\"literal\">true</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">front</span><span class=\"params\">()</span> 返回队列中的第一个元素</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">back</span><span class=\"params\">()</span> 返回队列中最后一个元素</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"1-17\"><a href=\"#1-17\" class=\"headerlink\" title=\"1.17\"></a>1.17</h3><p>二叉树镜像 辅助栈做法未学</p>\n<h3 id=\"1-18\"><a href=\"#1-18\" class=\"headerlink\" title=\"1.18\"></a>1.18</h3><p>斐波那契数列的矩阵幂算法</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"type\">const</span> <span class=\"type\">int</span> MOD = <span class=\"number\">1000000007</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">fib</span><span class=\"params\">(<span class=\"type\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (n &lt; <span class=\"number\">2</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> n;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        vector&lt;vector&lt;<span class=\"type\">long</span>&gt;&gt; q&#123;&#123;<span class=\"number\">1</span>, <span class=\"number\">1</span>&#125;, &#123;<span class=\"number\">1</span>, <span class=\"number\">0</span>&#125;&#125;;</span><br><span class=\"line\">        vector&lt;vector&lt;<span class=\"type\">long</span>&gt;&gt; res = <span class=\"built_in\">pow</span>(q, n - <span class=\"number\">1</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res[<span class=\"number\">0</span>][<span class=\"number\">0</span>];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">long</span>&gt;&gt; <span class=\"built_in\">pow</span>(vector&lt;vector&lt;<span class=\"type\">long</span>&gt;&gt;&amp; a, <span class=\"type\">int</span> n) &#123;</span><br><span class=\"line\">        vector&lt;vector&lt;<span class=\"type\">long</span>&gt;&gt; ret&#123;&#123;<span class=\"number\">1</span>, <span class=\"number\">0</span>&#125;, &#123;<span class=\"number\">0</span>, <span class=\"number\">1</span>&#125;&#125;;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (n &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (n &amp; <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">                ret = <span class=\"built_in\">multiply</span>(ret, a);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            n &gt;&gt;= <span class=\"number\">1</span>;</span><br><span class=\"line\">            a = <span class=\"built_in\">multiply</span>(a, a);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ret;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">long</span>&gt;&gt; <span class=\"built_in\">multiply</span>(vector&lt;vector&lt;<span class=\"type\">long</span>&gt;&gt;&amp; a, vector&lt;vector&lt;<span class=\"type\">long</span>&gt;&gt;&amp; b) &#123;</span><br><span class=\"line\">        vector&lt;vector&lt;<span class=\"type\">long</span>&gt;&gt; c&#123;&#123;<span class=\"number\">0</span>, <span class=\"number\">0</span>&#125;, &#123;<span class=\"number\">0</span>, <span class=\"number\">0</span>&#125;&#125;;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">2</span>; i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> j = <span class=\"number\">0</span>; j &lt; <span class=\"number\">2</span>; j++) &#123;</span><br><span class=\"line\">                c[i][j] = (a[i][<span class=\"number\">0</span>] * b[<span class=\"number\">0</span>][j] + a[i][<span class=\"number\">1</span>] * b[<span class=\"number\">1</span>][j]) % MOD;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> c;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"1-20\"><a href=\"#1-20\" class=\"headerlink\" title=\"1.20\"></a>1.20</h3><p>循环条件有可能不经意间 因为变量改变 ——寻找bug</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">ListNode* <span class=\"title\">mergeTwoLists</span><span class=\"params\">(ListNode* l1, ListNode* l2)</span> </span>&#123;</span><br><span class=\"line\">        ListNode *res = <span class=\"keyword\">new</span> <span class=\"built_in\">ListNode</span>(<span class=\"number\">0</span>), *p = res;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(l1 &amp;&amp; l2 )&#123;</span><br><span class=\"line\">            l1-&gt;val &lt; l2-&gt;val ? (p-&gt;next = l1,l1 = l1-&gt;next) : (p-&gt;next = l2, l2 = l2-&gt;next);</span><br><span class=\"line\">            p = p-&gt;next;              </span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        p-&gt;next = l1 ? l1 : l2;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res-&gt;next;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"1-23\"><a href=\"#1-23\" class=\"headerlink\" title=\"1.23\"></a>1.23</h3><p>判断条件最好不要用相加后的结果，应该用target - nums[i] 跟 nums[j]比较，这样保证不会溢出。</p>\n<p>同样的例子还有二分查找，(left + right) / 2 可以用left + ((rigth - left) &gt;&gt; 1))代替</p>\n<h3 id=\"1-26\"><a href=\"#1-26\" class=\"headerlink\" title=\"1.26\"></a>1.26</h3><p>回溯时</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">path.<span class=\"built_in\">pop_back</span>();</span><br></pre></td></tr></table></figure>\n\n<p>功力</p>\n<h3 id=\"1-28\"><a href=\"#1-28\" class=\"headerlink\" title=\"1.28\"></a>1.28</h3><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">quickSort</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; arr, <span class=\"type\">int</span> l, <span class=\"type\">int</span> r)</span></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(l &gt;= r) <span class=\"keyword\">return</span>;</span><br><span class=\"line\">    <span class=\"type\">int</span> i = l, j = r;</span><br><span class=\"line\">    <span class=\"keyword\">while</span>(i &lt; j)&#123;</span><br><span class=\"line\">      <span class=\"keyword\">while</span>(i &lt; j &amp;&amp; arr[j] &gt;= arr[l])&#123;j--;&#125;;</span><br><span class=\"line\">      <span class=\"keyword\">while</span>(i &lt; j &amp;&amp; arr[i] &lt;= arr[l])&#123;i++;&#125;;</span><br><span class=\"line\">      <span class=\"built_in\">swap</span>(arr[i], arr[j]);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"built_in\">swap</span>(arr[i], arr[l]);</span><br><span class=\"line\">    <span class=\"built_in\">quickSort</span>(arr, l, i - <span class=\"number\">1</span>);</span><br><span class=\"line\">    <span class=\"built_in\">quickSort</span>(arr, i + <span class=\"number\">1</span>, r);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>"},{"title":"kotlin开发","date":"2023-04-10T03:18:34.000Z","_content":"\n## 安卓拓展\n\n该程序两个主要类：`MainActivity`和`DownloadService`。\n\n**MainActivity 类**\n\n`MainActivity`主要活动，它包含了以下部分：\n\n1. `REQUEST_WRITE_STORAGE`常量：用于标识请求写入外部存储权限的请求代码。\n2. `onCreate()`方法：请求存储权限以及初始化“下载”按钮的点击事件。\n3. `requestStoragePermission()`方法：用于请求写入外部存储的权限。\n4. `onRequestPermissionsResult()`方法：用于处理用户授予或拒绝权限请求的结果。\n\n当用户点击“下载”按钮时，`MainActivity`从两个文本编辑框（`et_resource_url`和`et_target_file`）中获取输入的URL和目标文件名。然后，它创建一个新的`Intent`，并将这些数据作为额外信息传递给`DownloadService`。\n\n**DownloadService 类**\n\n`DownloadService`是一个扩展了`IntentService`的类，用于处理下载任务。它包含以下部分：\n\n1. `ACTION_DOWNLOAD_COMPLETE`和`EXTRA_DOWNLOAD_SUCCESS`常量：用于在下载完成时通过广播发送下载状态。\n2. `onHandleIntent()`方法：在服务启动时执行，从传入的`Intent`中获取URL和目标文件名，然后调用`downloadFile()`方法来开始下载。\n3. `downloadFile()`方法：使用OkHttp库下载文件。下载成功后，文件将被保存到设备的外部存储的\"Download\"目录。下载完成后，它会调用`sendDownloadStatus()`方法发送下载状态。\n4. `sendDownloadStatus()`方法：创建一个新的`Intent`，并将下载状态（成功或失败）作为额外信息传递。然后，它通过广播发送这个`Intent`。\n\n`DownloadService`的工作原理是：接收从`MainActivity`传递的URL和目标文件名，然后使用OkHttp库下载文件并将其保存到设备的外部存储中。下载完成后，通过广播发送下载状态。","source":"_posts/安卓拓展.md","raw":"---\ntitle: kotlin开发\ndate: 2023-04-10 11:18:34\ntags:\n- kotlin\n- 安卓开发\n- dowdload\ncategories: \n- 笔记\n---\n\n## 安卓拓展\n\n该程序两个主要类：`MainActivity`和`DownloadService`。\n\n**MainActivity 类**\n\n`MainActivity`主要活动，它包含了以下部分：\n\n1. `REQUEST_WRITE_STORAGE`常量：用于标识请求写入外部存储权限的请求代码。\n2. `onCreate()`方法：请求存储权限以及初始化“下载”按钮的点击事件。\n3. `requestStoragePermission()`方法：用于请求写入外部存储的权限。\n4. `onRequestPermissionsResult()`方法：用于处理用户授予或拒绝权限请求的结果。\n\n当用户点击“下载”按钮时，`MainActivity`从两个文本编辑框（`et_resource_url`和`et_target_file`）中获取输入的URL和目标文件名。然后，它创建一个新的`Intent`，并将这些数据作为额外信息传递给`DownloadService`。\n\n**DownloadService 类**\n\n`DownloadService`是一个扩展了`IntentService`的类，用于处理下载任务。它包含以下部分：\n\n1. `ACTION_DOWNLOAD_COMPLETE`和`EXTRA_DOWNLOAD_SUCCESS`常量：用于在下载完成时通过广播发送下载状态。\n2. `onHandleIntent()`方法：在服务启动时执行，从传入的`Intent`中获取URL和目标文件名，然后调用`downloadFile()`方法来开始下载。\n3. `downloadFile()`方法：使用OkHttp库下载文件。下载成功后，文件将被保存到设备的外部存储的\"Download\"目录。下载完成后，它会调用`sendDownloadStatus()`方法发送下载状态。\n4. `sendDownloadStatus()`方法：创建一个新的`Intent`，并将下载状态（成功或失败）作为额外信息传递。然后，它通过广播发送这个`Intent`。\n\n`DownloadService`的工作原理是：接收从`MainActivity`传递的URL和目标文件名，然后使用OkHttp库下载文件并将其保存到设备的外部存储中。下载完成后，通过广播发送下载状态。","slug":"安卓拓展","published":1,"updated":"2023-04-27T11:50:27.923Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clgz2pff80010dl5zat3e4jdq","content":"<h2 id=\"安卓拓展\"><a href=\"#安卓拓展\" class=\"headerlink\" title=\"安卓拓展\"></a>安卓拓展</h2><p>该程序两个主要类：<code>MainActivity</code>和<code>DownloadService</code>。</p>\n<p><strong>MainActivity 类</strong></p>\n<p><code>MainActivity</code>主要活动，它包含了以下部分：</p>\n<ol>\n<li><code>REQUEST_WRITE_STORAGE</code>常量：用于标识请求写入外部存储权限的请求代码。</li>\n<li><code>onCreate()</code>方法：请求存储权限以及初始化“下载”按钮的点击事件。</li>\n<li><code>requestStoragePermission()</code>方法：用于请求写入外部存储的权限。</li>\n<li><code>onRequestPermissionsResult()</code>方法：用于处理用户授予或拒绝权限请求的结果。</li>\n</ol>\n<p>当用户点击“下载”按钮时，<code>MainActivity</code>从两个文本编辑框（<code>et_resource_url</code>和<code>et_target_file</code>）中获取输入的URL和目标文件名。然后，它创建一个新的<code>Intent</code>，并将这些数据作为额外信息传递给<code>DownloadService</code>。</p>\n<p><strong>DownloadService 类</strong></p>\n<p><code>DownloadService</code>是一个扩展了<code>IntentService</code>的类，用于处理下载任务。它包含以下部分：</p>\n<ol>\n<li><code>ACTION_DOWNLOAD_COMPLETE</code>和<code>EXTRA_DOWNLOAD_SUCCESS</code>常量：用于在下载完成时通过广播发送下载状态。</li>\n<li><code>onHandleIntent()</code>方法：在服务启动时执行，从传入的<code>Intent</code>中获取URL和目标文件名，然后调用<code>downloadFile()</code>方法来开始下载。</li>\n<li><code>downloadFile()</code>方法：使用OkHttp库下载文件。下载成功后，文件将被保存到设备的外部存储的”Download”目录。下载完成后，它会调用<code>sendDownloadStatus()</code>方法发送下载状态。</li>\n<li><code>sendDownloadStatus()</code>方法：创建一个新的<code>Intent</code>，并将下载状态（成功或失败）作为额外信息传递。然后，它通过广播发送这个<code>Intent</code>。</li>\n</ol>\n<p><code>DownloadService</code>的工作原理是：接收从<code>MainActivity</code>传递的URL和目标文件名，然后使用OkHttp库下载文件并将其保存到设备的外部存储中。下载完成后，通过广播发送下载状态。</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"安卓拓展\"><a href=\"#安卓拓展\" class=\"headerlink\" title=\"安卓拓展\"></a>安卓拓展</h2><p>该程序两个主要类：<code>MainActivity</code>和<code>DownloadService</code>。</p>\n<p><strong>MainActivity 类</strong></p>\n<p><code>MainActivity</code>主要活动，它包含了以下部分：</p>\n<ol>\n<li><code>REQUEST_WRITE_STORAGE</code>常量：用于标识请求写入外部存储权限的请求代码。</li>\n<li><code>onCreate()</code>方法：请求存储权限以及初始化“下载”按钮的点击事件。</li>\n<li><code>requestStoragePermission()</code>方法：用于请求写入外部存储的权限。</li>\n<li><code>onRequestPermissionsResult()</code>方法：用于处理用户授予或拒绝权限请求的结果。</li>\n</ol>\n<p>当用户点击“下载”按钮时，<code>MainActivity</code>从两个文本编辑框（<code>et_resource_url</code>和<code>et_target_file</code>）中获取输入的URL和目标文件名。然后，它创建一个新的<code>Intent</code>，并将这些数据作为额外信息传递给<code>DownloadService</code>。</p>\n<p><strong>DownloadService 类</strong></p>\n<p><code>DownloadService</code>是一个扩展了<code>IntentService</code>的类，用于处理下载任务。它包含以下部分：</p>\n<ol>\n<li><code>ACTION_DOWNLOAD_COMPLETE</code>和<code>EXTRA_DOWNLOAD_SUCCESS</code>常量：用于在下载完成时通过广播发送下载状态。</li>\n<li><code>onHandleIntent()</code>方法：在服务启动时执行，从传入的<code>Intent</code>中获取URL和目标文件名，然后调用<code>downloadFile()</code>方法来开始下载。</li>\n<li><code>downloadFile()</code>方法：使用OkHttp库下载文件。下载成功后，文件将被保存到设备的外部存储的”Download”目录。下载完成后，它会调用<code>sendDownloadStatus()</code>方法发送下载状态。</li>\n<li><code>sendDownloadStatus()</code>方法：创建一个新的<code>Intent</code>，并将下载状态（成功或失败）作为额外信息传递。然后，它通过广播发送这个<code>Intent</code>。</li>\n</ol>\n<p><code>DownloadService</code>的工作原理是：接收从<code>MainActivity</code>传递的URL和目标文件名，然后使用OkHttp库下载文件并将其保存到设备的外部存储中。下载完成后，通过广播发送下载状态。</p>\n"},{"title":"轨道客流代码真的裂开恶心","date":"2021-07-21T15:10:03.000Z","_content":"\n### “传参爆炸”\n\n\n\n记录一次写代**犯罪**记录，类型全any，参数杨辉三角式传递，做到最后真的裂开，运行起来的时候还是开心的，，\n\n<!-- more -->\n\n``` typescript\nimport RealTimeLayout from \"../RealTimeLayout\";\nimport HistoryLayout from \"../HistoryLayout\";\nimport \"./index.css\";\nimport useWindowSize from \"../../useWindowSize\";\nexport default function MainDataArea({\n  selectDay,\n  selectedStation,\n  flowCategory,\n  timeCategory,\n  mapType,\n  changeSelectStation,\n  selectFlowRange,\n  changeSelectFlowRange,\n  switchMapType,\n  createImg,\n  itemTitleSize,\n}: {\n  selectDay: any;\n  selectedStation: any;\n  flowCategory: any;\n  timeCategory: any;\n  mapType: any;\n  changeSelectStation: any;\n  selectFlowRange: any;\n  changeSelectFlowRange: any;\n  switchMapType: any;\n  createImg: any;\n  itemTitleSize: any;\n}) {\n  // const dateStr = selectDay[0] + '-' + selectDay[1]\n  const windowSize = useWindowSize();\n  let mainDataHeiget = windowSize.height * 0.42;\n  return (\n    <div className=\"mainData\" style={{ height: mainDataHeiget }}>\n      {timeCategory === \"realTime\" ? (\n        <RealTimeLayout\n          selectDay={selectDay}\n          selectedStation={selectedStation}\n          flowCategory={flowCategory}\n          timeCategory={timeCategory}\n          mapType={mapType}\n          changeSelectStation={changeSelectStation}\n          selectFlowRange={selectFlowRange}\n          changeSelectFlowRange={changeSelectFlowRange}\n          createImg={createImg}\n          itemTitleSize={itemTitleSize}\n        />\n      ) : (\n        <HistoryLayout\n          selectDay={selectDay}\n          selectedStation={selectedStation}\n          flowCategory={flowCategory}\n          timeCategory={timeCategory}\n          mapType={mapType}\n          changeSelectStation={changeSelectStation}\n          selectFlowRange={selectFlowRange}\n          changeSelectFlowRange={changeSelectFlowRange}\n          switchMapType={switchMapType}\n          createImg={createImg}\n          itemTitleSize={itemTitleSize}\n        />\n      )}\n    </div>\n  );\n}\n\n\n```\n\n### 解决**：将代码分成两个组件，分别处理StationFlow和MapFlowHistory的逻辑。\n\n这样可以使每个组件的代码更清晰，易于维护和扩展。同时，可以将每个组件的props定义为一个单独的接口，而不是将所有属性都放在一个大的对象中，这样可以更好地指定每个属性的类型和含义，提高代码的可读性和可维护性。\n\n### 这样重构代码：\n\n```\ntypescriptCopy code\nimport { Fragment } from \"react\";\nimport StationFlow from \"../FlowRouter\";\nimport MapFlowHistory from \"../MapFlowHistory\";\n\ninterface StationFlowProps {\n  selectDay: any;\n  selectedStation: any;\n  flowCategory: any;\n  timeCategory: any;\n  selectFlowRange: any;\n  mapType: any;\n  createImg: any;\n  itemTitleSize: any;\n}\n\ninterface MapFlowHistoryProps {\n  selectDay: any;\n  selectedStation: any;\n  flowCategory: any;\n  timeCategory: any;\n  mapType: any;\n  changeSelectStation: any;\n  changeSelectFlowRange: any;\n  switchMapType: any;\n  createImg: any;\n  itemTitleSize: any;\n}\n\nexport default function HistoryLayout({\n  selectDay,\n  selectedStation,\n  flowCategory,\n  timeCategory,\n  mapType,\n  changeSelectStation,\n  selectFlowRange,\n  changeSelectFlowRange,\n  switchMapType,\n  createImg,\n  itemTitleSize,\n}: StationFlowProps & MapFlowHistoryProps) {\n  return (\n    <Fragment>\n      <StationFlow\n        selectDay={selectDay}\n        selectedStation={selectedStation}\n        flowCategory={flowCategory}\n        timeCategory={timeCategory}\n        selectFlowRange={selectFlowRange}\n        mapType={mapType}\n        createImg={createImg}\n        itemTitleSize={itemTitleSize}\n      />\n      <MapFlowHistory\n        selectDay={selectDay}\n        selectedStation={selectedStation}\n        flowCategory={flowCategory}\n        timeCategory={timeCategory}\n        mapType={mapType}\n        changeSelectStation={changeSelectStation}\n        changeSelectFlowRange={changeSelectFlowRange}\n        switchMapType={switchMapType}\n        createImg={createImg}\n        itemTitleSize={itemTitleSize}\n      />\n    </Fragment>\n  );\n}\n```\n\n还有\n```typescript\nimport { standardTime } from \"../../Utils/standardTime\";\n\nconst eitherInOutMap: any = { inflow: 0, outflow: 1 };\n\nexport async function totalFlowProvider(\n  state: any,\n  selectedLine: string,\n  eitherInOut: string\n): Promise<any> {\n  const stationsAllTime =\n    eitherInOut === \"inflow\" ? state.station_flow_in : state.station_flow_out;\n  const predictFlowList = state.total_flow_predict;\n  const selectedIndex = eitherInOutMap[eitherInOut];\n  const predictTotalFlowList = predictFlowList.map(\n    (item: any) => item[selectedIndex]\n  );\n  const sum = (arr: Array<any>) =>\n    arr.reduce((prev, curr) => Number(prev) + Number(curr)); // sum自己处理好\n  const lineFlowList = Object.entries(stationsAllTime)\n    .sort(([LTime], [NTime]) => (LTime > NTime ? 1 : -1))\n    .map(([time, v]) => {\n      const sumList = sum(Object.values(v as any));\n      return {\n        time,\n        flow: sumList,\n      };\n    })\n    .slice(-6);\n\n  const lineFlowAddList = lineFlowList.map((item, index) => ({\n    time: standardTime(\n      new Date(new Date(item.time).getTime() + 1000 * 60 * 6)\n    ),\n    flow: predictTotalFlowList[index],\n  }));\n  const stationFlowListAll = lineFlowList.concat(lineFlowAddList);\n  const result = {\n    [eitherInOut === \"inflow\" ? \"flowIn\" : \"flowOut\"]: stationFlowListAll,\n  };\n  return result;\n}\n\n```\n\n### 明显缺点\n\n1. 显式指定参数和返回值的类型：在函数参数和返回值的类型上进行显式的类型指定可以提高代码的可读性和可维护性。\n2. 使用具体的类型替代 `any` 类型：在 TypeScript 中尽量避免使用 `any` 类型，因为它会丧失类型检查的优势。尽量使用具体的类型来代替 `any`，这样可以在编译时捕获潜在的类型错误。\n3. 避免在函数中直接访问全局变量：直接访问了全局变量`eitherInOutMap`和`standardTime`，这样会使函数的可重用性和可测试性下降。建议将这些全局变量作为参数传递给函数，或者将它们封装到函数内部，以减少对全局状态的依赖。\n4. 尽量使用箭头函数和 const/let 替代 function 和 var：使用 ES6 中的箭头函数和 const/let 关键字可以提高代码的可读性和可维护性，并且避免了 var 带来的变量提升和作用域问题\n\n### 改进\n\n``` typescript\nimport { standardTime } from \"../../Utils/standardTime\";\n\nconst eitherInOutMap: Record<string, number> = { inflow: 0, outflow: 1 };\n\ninterface LineFlowItem {\n  time: string;\n  flow: number;\n}\n\nexport async function totalFlowProvider(\n  state: {\n    station_flow_in: Record<string, number[]>;\n    station_flow_out: Record<string, number[]>;\n    total_flow_predict: number[][];\n  },\n  selectedLine: string,\n  eitherInOut: string\n): Promise<{ flowIn: LineFlowItem[]; flowOut: LineFlowItem[] }> {\n  const stationsAllTime =\n    eitherInOut === \"inflow\" ? state.station_flow_in : state.station_flow_out;\n  const predictFlowList = state.total_flow_predict;\n  const selectedIndex = eitherInOutMap[eitherInOut];\n  const predictTotalFlowList = predictFlowList.map(\n    (item: number[]) => item[selectedIndex]\n  );\n  const sum = (arr: number[]) => arr.reduce((prev, curr) => prev + curr); // sum自己处理好\n  const lineFlowList = Object.entries(stationsAllTime)\n    .sort(([LTime], [NTime]) => (LTime > NTime ? 1 : -1))\n    .map(([time, v]) => {\n      const sumList = sum(Object.values(v));\n      return {\n        time,\n        flow: sumList,\n      };\n    })\n    .slice(-6);\n\n  const lineFlowAddList = lineFlowList.map((item, index) => ({\n    time: standardTime(\n      new Date(new Date(item.time).getTime() + 1000 * 60 * 6)\n    ),\n    flow: predictTotalFlowList\n\n```\n\n","source":"_posts/轨道代码分析.md","raw":"---\ntitle: 轨道客流代码真的裂开恶心\ndate: 2021-07-21 23:10:03\ntags:\n  - TypeScript\n  - 前端开发\n  - 轨道客流\n  - 异步编程\n  - Promise\n  - Object.entries()\n  - Array.sort()\n  - Array.map()\n  - Array.reduce()\n  - Number()\n  - Date()\n  - getTime()\n  - Object.values()\n  - Array.concat()\n  - 标准时间\n  - 类型推断\n  - 类型注释\n  - JavaScript\n  - 代码优化\n  - 代码可读性\ncategories:\n  - 笔记\n---\n\n### “传参爆炸”\n\n\n\n记录一次写代**犯罪**记录，类型全any，参数杨辉三角式传递，做到最后真的裂开，运行起来的时候还是开心的，，\n\n<!-- more -->\n\n``` typescript\nimport RealTimeLayout from \"../RealTimeLayout\";\nimport HistoryLayout from \"../HistoryLayout\";\nimport \"./index.css\";\nimport useWindowSize from \"../../useWindowSize\";\nexport default function MainDataArea({\n  selectDay,\n  selectedStation,\n  flowCategory,\n  timeCategory,\n  mapType,\n  changeSelectStation,\n  selectFlowRange,\n  changeSelectFlowRange,\n  switchMapType,\n  createImg,\n  itemTitleSize,\n}: {\n  selectDay: any;\n  selectedStation: any;\n  flowCategory: any;\n  timeCategory: any;\n  mapType: any;\n  changeSelectStation: any;\n  selectFlowRange: any;\n  changeSelectFlowRange: any;\n  switchMapType: any;\n  createImg: any;\n  itemTitleSize: any;\n}) {\n  // const dateStr = selectDay[0] + '-' + selectDay[1]\n  const windowSize = useWindowSize();\n  let mainDataHeiget = windowSize.height * 0.42;\n  return (\n    <div className=\"mainData\" style={{ height: mainDataHeiget }}>\n      {timeCategory === \"realTime\" ? (\n        <RealTimeLayout\n          selectDay={selectDay}\n          selectedStation={selectedStation}\n          flowCategory={flowCategory}\n          timeCategory={timeCategory}\n          mapType={mapType}\n          changeSelectStation={changeSelectStation}\n          selectFlowRange={selectFlowRange}\n          changeSelectFlowRange={changeSelectFlowRange}\n          createImg={createImg}\n          itemTitleSize={itemTitleSize}\n        />\n      ) : (\n        <HistoryLayout\n          selectDay={selectDay}\n          selectedStation={selectedStation}\n          flowCategory={flowCategory}\n          timeCategory={timeCategory}\n          mapType={mapType}\n          changeSelectStation={changeSelectStation}\n          selectFlowRange={selectFlowRange}\n          changeSelectFlowRange={changeSelectFlowRange}\n          switchMapType={switchMapType}\n          createImg={createImg}\n          itemTitleSize={itemTitleSize}\n        />\n      )}\n    </div>\n  );\n}\n\n\n```\n\n### 解决**：将代码分成两个组件，分别处理StationFlow和MapFlowHistory的逻辑。\n\n这样可以使每个组件的代码更清晰，易于维护和扩展。同时，可以将每个组件的props定义为一个单独的接口，而不是将所有属性都放在一个大的对象中，这样可以更好地指定每个属性的类型和含义，提高代码的可读性和可维护性。\n\n### 这样重构代码：\n\n```\ntypescriptCopy code\nimport { Fragment } from \"react\";\nimport StationFlow from \"../FlowRouter\";\nimport MapFlowHistory from \"../MapFlowHistory\";\n\ninterface StationFlowProps {\n  selectDay: any;\n  selectedStation: any;\n  flowCategory: any;\n  timeCategory: any;\n  selectFlowRange: any;\n  mapType: any;\n  createImg: any;\n  itemTitleSize: any;\n}\n\ninterface MapFlowHistoryProps {\n  selectDay: any;\n  selectedStation: any;\n  flowCategory: any;\n  timeCategory: any;\n  mapType: any;\n  changeSelectStation: any;\n  changeSelectFlowRange: any;\n  switchMapType: any;\n  createImg: any;\n  itemTitleSize: any;\n}\n\nexport default function HistoryLayout({\n  selectDay,\n  selectedStation,\n  flowCategory,\n  timeCategory,\n  mapType,\n  changeSelectStation,\n  selectFlowRange,\n  changeSelectFlowRange,\n  switchMapType,\n  createImg,\n  itemTitleSize,\n}: StationFlowProps & MapFlowHistoryProps) {\n  return (\n    <Fragment>\n      <StationFlow\n        selectDay={selectDay}\n        selectedStation={selectedStation}\n        flowCategory={flowCategory}\n        timeCategory={timeCategory}\n        selectFlowRange={selectFlowRange}\n        mapType={mapType}\n        createImg={createImg}\n        itemTitleSize={itemTitleSize}\n      />\n      <MapFlowHistory\n        selectDay={selectDay}\n        selectedStation={selectedStation}\n        flowCategory={flowCategory}\n        timeCategory={timeCategory}\n        mapType={mapType}\n        changeSelectStation={changeSelectStation}\n        changeSelectFlowRange={changeSelectFlowRange}\n        switchMapType={switchMapType}\n        createImg={createImg}\n        itemTitleSize={itemTitleSize}\n      />\n    </Fragment>\n  );\n}\n```\n\n还有\n```typescript\nimport { standardTime } from \"../../Utils/standardTime\";\n\nconst eitherInOutMap: any = { inflow: 0, outflow: 1 };\n\nexport async function totalFlowProvider(\n  state: any,\n  selectedLine: string,\n  eitherInOut: string\n): Promise<any> {\n  const stationsAllTime =\n    eitherInOut === \"inflow\" ? state.station_flow_in : state.station_flow_out;\n  const predictFlowList = state.total_flow_predict;\n  const selectedIndex = eitherInOutMap[eitherInOut];\n  const predictTotalFlowList = predictFlowList.map(\n    (item: any) => item[selectedIndex]\n  );\n  const sum = (arr: Array<any>) =>\n    arr.reduce((prev, curr) => Number(prev) + Number(curr)); // sum自己处理好\n  const lineFlowList = Object.entries(stationsAllTime)\n    .sort(([LTime], [NTime]) => (LTime > NTime ? 1 : -1))\n    .map(([time, v]) => {\n      const sumList = sum(Object.values(v as any));\n      return {\n        time,\n        flow: sumList,\n      };\n    })\n    .slice(-6);\n\n  const lineFlowAddList = lineFlowList.map((item, index) => ({\n    time: standardTime(\n      new Date(new Date(item.time).getTime() + 1000 * 60 * 6)\n    ),\n    flow: predictTotalFlowList[index],\n  }));\n  const stationFlowListAll = lineFlowList.concat(lineFlowAddList);\n  const result = {\n    [eitherInOut === \"inflow\" ? \"flowIn\" : \"flowOut\"]: stationFlowListAll,\n  };\n  return result;\n}\n\n```\n\n### 明显缺点\n\n1. 显式指定参数和返回值的类型：在函数参数和返回值的类型上进行显式的类型指定可以提高代码的可读性和可维护性。\n2. 使用具体的类型替代 `any` 类型：在 TypeScript 中尽量避免使用 `any` 类型，因为它会丧失类型检查的优势。尽量使用具体的类型来代替 `any`，这样可以在编译时捕获潜在的类型错误。\n3. 避免在函数中直接访问全局变量：直接访问了全局变量`eitherInOutMap`和`standardTime`，这样会使函数的可重用性和可测试性下降。建议将这些全局变量作为参数传递给函数，或者将它们封装到函数内部，以减少对全局状态的依赖。\n4. 尽量使用箭头函数和 const/let 替代 function 和 var：使用 ES6 中的箭头函数和 const/let 关键字可以提高代码的可读性和可维护性，并且避免了 var 带来的变量提升和作用域问题\n\n### 改进\n\n``` typescript\nimport { standardTime } from \"../../Utils/standardTime\";\n\nconst eitherInOutMap: Record<string, number> = { inflow: 0, outflow: 1 };\n\ninterface LineFlowItem {\n  time: string;\n  flow: number;\n}\n\nexport async function totalFlowProvider(\n  state: {\n    station_flow_in: Record<string, number[]>;\n    station_flow_out: Record<string, number[]>;\n    total_flow_predict: number[][];\n  },\n  selectedLine: string,\n  eitherInOut: string\n): Promise<{ flowIn: LineFlowItem[]; flowOut: LineFlowItem[] }> {\n  const stationsAllTime =\n    eitherInOut === \"inflow\" ? state.station_flow_in : state.station_flow_out;\n  const predictFlowList = state.total_flow_predict;\n  const selectedIndex = eitherInOutMap[eitherInOut];\n  const predictTotalFlowList = predictFlowList.map(\n    (item: number[]) => item[selectedIndex]\n  );\n  const sum = (arr: number[]) => arr.reduce((prev, curr) => prev + curr); // sum自己处理好\n  const lineFlowList = Object.entries(stationsAllTime)\n    .sort(([LTime], [NTime]) => (LTime > NTime ? 1 : -1))\n    .map(([time, v]) => {\n      const sumList = sum(Object.values(v));\n      return {\n        time,\n        flow: sumList,\n      };\n    })\n    .slice(-6);\n\n  const lineFlowAddList = lineFlowList.map((item, index) => ({\n    time: standardTime(\n      new Date(new Date(item.time).getTime() + 1000 * 60 * 6)\n    ),\n    flow: predictTotalFlowList\n\n```\n\n","slug":"轨道代码分析","published":1,"updated":"2023-04-19T12:30:03.409Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clgz2pff90013dl5z2zpw4gt6","content":"<h3 id=\"“传参爆炸”\"><a href=\"#“传参爆炸”\" class=\"headerlink\" title=\"“传参爆炸”\"></a>“传参爆炸”</h3><p>记录一次写代<strong>犯罪</strong>记录，类型全any，参数杨辉三角式传递，做到最后真的裂开，运行起来的时候还是开心的，，</p>\n<span id=\"more\"></span>\n\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">RealTimeLayout</span> <span class=\"keyword\">from</span> <span class=\"string\">&quot;../RealTimeLayout&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">HistoryLayout</span> <span class=\"keyword\">from</span> <span class=\"string\">&quot;../HistoryLayout&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">&quot;./index.css&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> useWindowSize <span class=\"keyword\">from</span> <span class=\"string\">&quot;../../useWindowSize&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"keyword\">function</span> <span class=\"title function_\">MainDataArea</span>(<span class=\"params\">&#123;</span></span><br><span class=\"line\"><span class=\"params\">  selectDay,</span></span><br><span class=\"line\"><span class=\"params\">  selectedStation,</span></span><br><span class=\"line\"><span class=\"params\">  flowCategory,</span></span><br><span class=\"line\"><span class=\"params\">  timeCategory,</span></span><br><span class=\"line\"><span class=\"params\">  mapType,</span></span><br><span class=\"line\"><span class=\"params\">  changeSelectStation,</span></span><br><span class=\"line\"><span class=\"params\">  selectFlowRange,</span></span><br><span class=\"line\"><span class=\"params\">  changeSelectFlowRange,</span></span><br><span class=\"line\"><span class=\"params\">  switchMapType,</span></span><br><span class=\"line\"><span class=\"params\">  createImg,</span></span><br><span class=\"line\"><span class=\"params\">  itemTitleSize,</span></span><br><span class=\"line\"><span class=\"params\">&#125;: &#123;</span></span><br><span class=\"line\"><span class=\"params\">  selectDay: <span class=\"built_in\">any</span>;</span></span><br><span class=\"line\"><span class=\"params\">  selectedStation: <span class=\"built_in\">any</span>;</span></span><br><span class=\"line\"><span class=\"params\">  flowCategory: <span class=\"built_in\">any</span>;</span></span><br><span class=\"line\"><span class=\"params\">  timeCategory: <span class=\"built_in\">any</span>;</span></span><br><span class=\"line\"><span class=\"params\">  mapType: <span class=\"built_in\">any</span>;</span></span><br><span class=\"line\"><span class=\"params\">  changeSelectStation: <span class=\"built_in\">any</span>;</span></span><br><span class=\"line\"><span class=\"params\">  selectFlowRange: <span class=\"built_in\">any</span>;</span></span><br><span class=\"line\"><span class=\"params\">  changeSelectFlowRange: <span class=\"built_in\">any</span>;</span></span><br><span class=\"line\"><span class=\"params\">  switchMapType: <span class=\"built_in\">any</span>;</span></span><br><span class=\"line\"><span class=\"params\">  createImg: <span class=\"built_in\">any</span>;</span></span><br><span class=\"line\"><span class=\"params\">  itemTitleSize: <span class=\"built_in\">any</span>;</span></span><br><span class=\"line\"><span class=\"params\">&#125;</span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// const dateStr = selectDay[0] + &#x27;-&#x27; + selectDay[1]</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> windowSize = <span class=\"title function_\">useWindowSize</span>();</span><br><span class=\"line\">  <span class=\"keyword\">let</span> mainDataHeiget = windowSize.<span class=\"property\">height</span> * <span class=\"number\">0.42</span>;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> (</span><br><span class=\"line\">    <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">className</span>=<span class=\"string\">&quot;mainData&quot;</span> <span class=\"attr\">style</span>=<span class=\"string\">&#123;&#123;</span> <span class=\"attr\">height:</span> <span class=\"attr\">mainDataHeiget</span> &#125;&#125;&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">      &#123;timeCategory === &quot;realTime&quot; ? (</span></span><br><span class=\"line\"><span class=\"language-xml\">        <span class=\"tag\">&lt;<span class=\"name\">RealTimeLayout</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">          <span class=\"attr\">selectDay</span>=<span class=\"string\">&#123;selectDay&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">          <span class=\"attr\">selectedStation</span>=<span class=\"string\">&#123;selectedStation&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">          <span class=\"attr\">flowCategory</span>=<span class=\"string\">&#123;flowCategory&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">          <span class=\"attr\">timeCategory</span>=<span class=\"string\">&#123;timeCategory&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">          <span class=\"attr\">mapType</span>=<span class=\"string\">&#123;mapType&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">          <span class=\"attr\">changeSelectStation</span>=<span class=\"string\">&#123;changeSelectStation&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">          <span class=\"attr\">selectFlowRange</span>=<span class=\"string\">&#123;selectFlowRange&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">          <span class=\"attr\">changeSelectFlowRange</span>=<span class=\"string\">&#123;changeSelectFlowRange&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">          <span class=\"attr\">createImg</span>=<span class=\"string\">&#123;createImg&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">          <span class=\"attr\">itemTitleSize</span>=<span class=\"string\">&#123;itemTitleSize&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">        /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">      ) : (</span></span><br><span class=\"line\"><span class=\"language-xml\">        <span class=\"tag\">&lt;<span class=\"name\">HistoryLayout</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">          <span class=\"attr\">selectDay</span>=<span class=\"string\">&#123;selectDay&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">          <span class=\"attr\">selectedStation</span>=<span class=\"string\">&#123;selectedStation&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">          <span class=\"attr\">flowCategory</span>=<span class=\"string\">&#123;flowCategory&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">          <span class=\"attr\">timeCategory</span>=<span class=\"string\">&#123;timeCategory&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">          <span class=\"attr\">mapType</span>=<span class=\"string\">&#123;mapType&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">          <span class=\"attr\">changeSelectStation</span>=<span class=\"string\">&#123;changeSelectStation&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">          <span class=\"attr\">selectFlowRange</span>=<span class=\"string\">&#123;selectFlowRange&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">          <span class=\"attr\">changeSelectFlowRange</span>=<span class=\"string\">&#123;changeSelectFlowRange&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">          <span class=\"attr\">switchMapType</span>=<span class=\"string\">&#123;switchMapType&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">          <span class=\"attr\">createImg</span>=<span class=\"string\">&#123;createImg&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">          <span class=\"attr\">itemTitleSize</span>=<span class=\"string\">&#123;itemTitleSize&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">        /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">      )&#125;</span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\">  );</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"解决-：将代码分成两个组件，分别处理StationFlow和MapFlowHistory的逻辑。\"><a href=\"#解决-：将代码分成两个组件，分别处理StationFlow和MapFlowHistory的逻辑。\" class=\"headerlink\" title=\"解决**：将代码分成两个组件，分别处理StationFlow和MapFlowHistory的逻辑。\"></a>解决**：将代码分成两个组件，分别处理StationFlow和MapFlowHistory的逻辑。</h3><p>这样可以使每个组件的代码更清晰，易于维护和扩展。同时，可以将每个组件的props定义为一个单独的接口，而不是将所有属性都放在一个大的对象中，这样可以更好地指定每个属性的类型和含义，提高代码的可读性和可维护性。</p>\n<h3 id=\"这样重构代码：\"><a href=\"#这样重构代码：\" class=\"headerlink\" title=\"这样重构代码：\"></a>这样重构代码：</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">typescriptCopy code</span><br><span class=\"line\">import &#123; Fragment &#125; from &quot;react&quot;;</span><br><span class=\"line\">import StationFlow from &quot;../FlowRouter&quot;;</span><br><span class=\"line\">import MapFlowHistory from &quot;../MapFlowHistory&quot;;</span><br><span class=\"line\"></span><br><span class=\"line\">interface StationFlowProps &#123;</span><br><span class=\"line\">  selectDay: any;</span><br><span class=\"line\">  selectedStation: any;</span><br><span class=\"line\">  flowCategory: any;</span><br><span class=\"line\">  timeCategory: any;</span><br><span class=\"line\">  selectFlowRange: any;</span><br><span class=\"line\">  mapType: any;</span><br><span class=\"line\">  createImg: any;</span><br><span class=\"line\">  itemTitleSize: any;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">interface MapFlowHistoryProps &#123;</span><br><span class=\"line\">  selectDay: any;</span><br><span class=\"line\">  selectedStation: any;</span><br><span class=\"line\">  flowCategory: any;</span><br><span class=\"line\">  timeCategory: any;</span><br><span class=\"line\">  mapType: any;</span><br><span class=\"line\">  changeSelectStation: any;</span><br><span class=\"line\">  changeSelectFlowRange: any;</span><br><span class=\"line\">  switchMapType: any;</span><br><span class=\"line\">  createImg: any;</span><br><span class=\"line\">  itemTitleSize: any;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">export default function HistoryLayout(&#123;</span><br><span class=\"line\">  selectDay,</span><br><span class=\"line\">  selectedStation,</span><br><span class=\"line\">  flowCategory,</span><br><span class=\"line\">  timeCategory,</span><br><span class=\"line\">  mapType,</span><br><span class=\"line\">  changeSelectStation,</span><br><span class=\"line\">  selectFlowRange,</span><br><span class=\"line\">  changeSelectFlowRange,</span><br><span class=\"line\">  switchMapType,</span><br><span class=\"line\">  createImg,</span><br><span class=\"line\">  itemTitleSize,</span><br><span class=\"line\">&#125;: StationFlowProps &amp; MapFlowHistoryProps) &#123;</span><br><span class=\"line\">  return (</span><br><span class=\"line\">    &lt;Fragment&gt;</span><br><span class=\"line\">      &lt;StationFlow</span><br><span class=\"line\">        selectDay=&#123;selectDay&#125;</span><br><span class=\"line\">        selectedStation=&#123;selectedStation&#125;</span><br><span class=\"line\">        flowCategory=&#123;flowCategory&#125;</span><br><span class=\"line\">        timeCategory=&#123;timeCategory&#125;</span><br><span class=\"line\">        selectFlowRange=&#123;selectFlowRange&#125;</span><br><span class=\"line\">        mapType=&#123;mapType&#125;</span><br><span class=\"line\">        createImg=&#123;createImg&#125;</span><br><span class=\"line\">        itemTitleSize=&#123;itemTitleSize&#125;</span><br><span class=\"line\">      /&gt;</span><br><span class=\"line\">      &lt;MapFlowHistory</span><br><span class=\"line\">        selectDay=&#123;selectDay&#125;</span><br><span class=\"line\">        selectedStation=&#123;selectedStation&#125;</span><br><span class=\"line\">        flowCategory=&#123;flowCategory&#125;</span><br><span class=\"line\">        timeCategory=&#123;timeCategory&#125;</span><br><span class=\"line\">        mapType=&#123;mapType&#125;</span><br><span class=\"line\">        changeSelectStation=&#123;changeSelectStation&#125;</span><br><span class=\"line\">        changeSelectFlowRange=&#123;changeSelectFlowRange&#125;</span><br><span class=\"line\">        switchMapType=&#123;switchMapType&#125;</span><br><span class=\"line\">        createImg=&#123;createImg&#125;</span><br><span class=\"line\">        itemTitleSize=&#123;itemTitleSize&#125;</span><br><span class=\"line\">      /&gt;</span><br><span class=\"line\">    &lt;/Fragment&gt;</span><br><span class=\"line\">  );</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>还有</p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; standardTime &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../../Utils/standardTime&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"attr\">eitherInOutMap</span>: <span class=\"built_in\">any</span> = &#123; <span class=\"attr\">inflow</span>: <span class=\"number\">0</span>, <span class=\"attr\">outflow</span>: <span class=\"number\">1</span> &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">async</span> <span class=\"keyword\">function</span> <span class=\"title function_\">totalFlowProvider</span>(<span class=\"params\"></span></span><br><span class=\"line\"><span class=\"params\">  state: <span class=\"built_in\">any</span>,</span></span><br><span class=\"line\"><span class=\"params\">  selectedLine: <span class=\"built_in\">string</span>,</span></span><br><span class=\"line\"><span class=\"params\">  eitherInOut: <span class=\"built_in\">string</span></span></span><br><span class=\"line\"><span class=\"params\"></span>): <span class=\"title class_\">Promise</span>&lt;<span class=\"built_in\">any</span>&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> stationsAllTime =</span><br><span class=\"line\">    eitherInOut === <span class=\"string\">&quot;inflow&quot;</span> ? state.<span class=\"property\">station_flow_in</span> : state.<span class=\"property\">station_flow_out</span>;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> predictFlowList = state.<span class=\"property\">total_flow_predict</span>;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> selectedIndex = eitherInOutMap[eitherInOut];</span><br><span class=\"line\">  <span class=\"keyword\">const</span> predictTotalFlowList = predictFlowList.<span class=\"title function_\">map</span>(</span><br><span class=\"line\">    <span class=\"function\">(<span class=\"params\">item: <span class=\"built_in\">any</span></span>) =&gt;</span> item[selectedIndex]</span><br><span class=\"line\">  );</span><br><span class=\"line\">  <span class=\"keyword\">const</span> <span class=\"title function_\">sum</span> = (<span class=\"params\">arr: <span class=\"built_in\">Array</span>&lt;<span class=\"built_in\">any</span>&gt;</span>) =&gt;</span><br><span class=\"line\">    arr.<span class=\"title function_\">reduce</span>(<span class=\"function\">(<span class=\"params\">prev, curr</span>) =&gt;</span> <span class=\"title class_\">Number</span>(prev) + <span class=\"title class_\">Number</span>(curr)); <span class=\"comment\">// sum自己处理好</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> lineFlowList = <span class=\"title class_\">Object</span>.<span class=\"title function_\">entries</span>(stationsAllTime)</span><br><span class=\"line\">    .<span class=\"title function_\">sort</span>(<span class=\"function\">(<span class=\"params\">[LTime], [NTime]</span>) =&gt;</span> (<span class=\"title class_\">LTime</span> &gt; <span class=\"title class_\">NTime</span> ? <span class=\"number\">1</span> : -<span class=\"number\">1</span>))</span><br><span class=\"line\">    .<span class=\"title function_\">map</span>(<span class=\"function\">(<span class=\"params\">[time, v]</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> sumList = <span class=\"title function_\">sum</span>(<span class=\"title class_\">Object</span>.<span class=\"title function_\">values</span>(v <span class=\"keyword\">as</span> <span class=\"built_in\">any</span>));</span><br><span class=\"line\">      <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">        time,</span><br><span class=\"line\">        <span class=\"attr\">flow</span>: sumList,</span><br><span class=\"line\">      &#125;;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    .<span class=\"title function_\">slice</span>(-<span class=\"number\">6</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">const</span> lineFlowAddList = lineFlowList.<span class=\"title function_\">map</span>(<span class=\"function\">(<span class=\"params\">item, index</span>) =&gt;</span> (&#123;</span><br><span class=\"line\">    <span class=\"attr\">time</span>: <span class=\"title function_\">standardTime</span>(</span><br><span class=\"line\">      <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>(<span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>(item.<span class=\"property\">time</span>).<span class=\"title function_\">getTime</span>() + <span class=\"number\">1000</span> * <span class=\"number\">60</span> * <span class=\"number\">6</span>)</span><br><span class=\"line\">    ),</span><br><span class=\"line\">    <span class=\"attr\">flow</span>: predictTotalFlowList[index],</span><br><span class=\"line\">  &#125;));</span><br><span class=\"line\">  <span class=\"keyword\">const</span> stationFlowListAll = lineFlowList.<span class=\"title function_\">concat</span>(lineFlowAddList);</span><br><span class=\"line\">  <span class=\"keyword\">const</span> result = &#123;</span><br><span class=\"line\">    [eitherInOut === <span class=\"string\">&quot;inflow&quot;</span> ? <span class=\"string\">&quot;flowIn&quot;</span> : <span class=\"string\">&quot;flowOut&quot;</span>]: stationFlowListAll,</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"明显缺点\"><a href=\"#明显缺点\" class=\"headerlink\" title=\"明显缺点\"></a>明显缺点</h3><ol>\n<li>显式指定参数和返回值的类型：在函数参数和返回值的类型上进行显式的类型指定可以提高代码的可读性和可维护性。</li>\n<li>使用具体的类型替代 <code>any</code> 类型：在 TypeScript 中尽量避免使用 <code>any</code> 类型，因为它会丧失类型检查的优势。尽量使用具体的类型来代替 <code>any</code>，这样可以在编译时捕获潜在的类型错误。</li>\n<li>避免在函数中直接访问全局变量：直接访问了全局变量<code>eitherInOutMap</code>和<code>standardTime</code>，这样会使函数的可重用性和可测试性下降。建议将这些全局变量作为参数传递给函数，或者将它们封装到函数内部，以减少对全局状态的依赖。</li>\n<li>尽量使用箭头函数和 const/let 替代 function 和 var：使用 ES6 中的箭头函数和 const/let 关键字可以提高代码的可读性和可维护性，并且避免了 var 带来的变量提升和作用域问题</li>\n</ol>\n<h3 id=\"改进\"><a href=\"#改进\" class=\"headerlink\" title=\"改进\"></a>改进</h3><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; standardTime &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../../Utils/standardTime&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"attr\">eitherInOutMap</span>: <span class=\"title class_\">Record</span>&lt;<span class=\"built_in\">string</span>, <span class=\"built_in\">number</span>&gt; = &#123; <span class=\"attr\">inflow</span>: <span class=\"number\">0</span>, <span class=\"attr\">outflow</span>: <span class=\"number\">1</span> &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">interface</span> <span class=\"title class_\">LineFlowItem</span> &#123;</span><br><span class=\"line\">  <span class=\"attr\">time</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\">  <span class=\"attr\">flow</span>: <span class=\"built_in\">number</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">async</span> <span class=\"keyword\">function</span> <span class=\"title function_\">totalFlowProvider</span>(<span class=\"params\"></span></span><br><span class=\"line\"><span class=\"params\">  state: &#123;</span></span><br><span class=\"line\"><span class=\"params\">    station_flow_in: Record&lt;<span class=\"built_in\">string</span>, <span class=\"built_in\">number</span>[]&gt;;</span></span><br><span class=\"line\"><span class=\"params\">    station_flow_out: Record&lt;<span class=\"built_in\">string</span>, <span class=\"built_in\">number</span>[]&gt;;</span></span><br><span class=\"line\"><span class=\"params\">    total_flow_predict: <span class=\"built_in\">number</span>[][];</span></span><br><span class=\"line\"><span class=\"params\">  &#125;,</span></span><br><span class=\"line\"><span class=\"params\">  selectedLine: <span class=\"built_in\">string</span>,</span></span><br><span class=\"line\"><span class=\"params\">  eitherInOut: <span class=\"built_in\">string</span></span></span><br><span class=\"line\"><span class=\"params\"></span>): <span class=\"title class_\">Promise</span>&lt;&#123; <span class=\"attr\">flowIn</span>: <span class=\"title class_\">LineFlowItem</span>[]; <span class=\"attr\">flowOut</span>: <span class=\"title class_\">LineFlowItem</span>[] &#125;&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> stationsAllTime =</span><br><span class=\"line\">    eitherInOut === <span class=\"string\">&quot;inflow&quot;</span> ? state.<span class=\"property\">station_flow_in</span> : state.<span class=\"property\">station_flow_out</span>;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> predictFlowList = state.<span class=\"property\">total_flow_predict</span>;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> selectedIndex = eitherInOutMap[eitherInOut];</span><br><span class=\"line\">  <span class=\"keyword\">const</span> predictTotalFlowList = predictFlowList.<span class=\"title function_\">map</span>(</span><br><span class=\"line\">    <span class=\"function\">(<span class=\"params\">item: <span class=\"built_in\">number</span>[]</span>) =&gt;</span> item[selectedIndex]</span><br><span class=\"line\">  );</span><br><span class=\"line\">  <span class=\"keyword\">const</span> <span class=\"title function_\">sum</span> = (<span class=\"params\">arr: <span class=\"built_in\">number</span>[]</span>) =&gt; arr.<span class=\"title function_\">reduce</span>(<span class=\"function\">(<span class=\"params\">prev, curr</span>) =&gt;</span> prev + curr); <span class=\"comment\">// sum自己处理好</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> lineFlowList = <span class=\"title class_\">Object</span>.<span class=\"title function_\">entries</span>(stationsAllTime)</span><br><span class=\"line\">    .<span class=\"title function_\">sort</span>(<span class=\"function\">(<span class=\"params\">[LTime], [NTime]</span>) =&gt;</span> (<span class=\"title class_\">LTime</span> &gt; <span class=\"title class_\">NTime</span> ? <span class=\"number\">1</span> : -<span class=\"number\">1</span>))</span><br><span class=\"line\">    .<span class=\"title function_\">map</span>(<span class=\"function\">(<span class=\"params\">[time, v]</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> sumList = <span class=\"title function_\">sum</span>(<span class=\"title class_\">Object</span>.<span class=\"title function_\">values</span>(v));</span><br><span class=\"line\">      <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">        time,</span><br><span class=\"line\">        <span class=\"attr\">flow</span>: sumList,</span><br><span class=\"line\">      &#125;;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    .<span class=\"title function_\">slice</span>(-<span class=\"number\">6</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">const</span> lineFlowAddList = lineFlowList.<span class=\"title function_\">map</span>(<span class=\"function\">(<span class=\"params\">item, index</span>) =&gt;</span> (&#123;</span><br><span class=\"line\">    <span class=\"attr\">time</span>: <span class=\"title function_\">standardTime</span>(</span><br><span class=\"line\">      <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>(<span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>(item.<span class=\"property\">time</span>).<span class=\"title function_\">getTime</span>() + <span class=\"number\">1000</span> * <span class=\"number\">60</span> * <span class=\"number\">6</span>)</span><br><span class=\"line\">    ),</span><br><span class=\"line\">    <span class=\"attr\">flow</span>: predictTotalFlowList</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n","site":{"data":{}},"excerpt":"<h3 id=\"“传参爆炸”\"><a href=\"#“传参爆炸”\" class=\"headerlink\" title=\"“传参爆炸”\"></a>“传参爆炸”</h3><p>记录一次写代<strong>犯罪</strong>记录，类型全any，参数杨辉三角式传递，做到最后真的裂开，运行起来的时候还是开心的，，</p>","more":"<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">RealTimeLayout</span> <span class=\"keyword\">from</span> <span class=\"string\">&quot;../RealTimeLayout&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">HistoryLayout</span> <span class=\"keyword\">from</span> <span class=\"string\">&quot;../HistoryLayout&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">&quot;./index.css&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> useWindowSize <span class=\"keyword\">from</span> <span class=\"string\">&quot;../../useWindowSize&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"keyword\">function</span> <span class=\"title function_\">MainDataArea</span>(<span class=\"params\">&#123;</span></span><br><span class=\"line\"><span class=\"params\">  selectDay,</span></span><br><span class=\"line\"><span class=\"params\">  selectedStation,</span></span><br><span class=\"line\"><span class=\"params\">  flowCategory,</span></span><br><span class=\"line\"><span class=\"params\">  timeCategory,</span></span><br><span class=\"line\"><span class=\"params\">  mapType,</span></span><br><span class=\"line\"><span class=\"params\">  changeSelectStation,</span></span><br><span class=\"line\"><span class=\"params\">  selectFlowRange,</span></span><br><span class=\"line\"><span class=\"params\">  changeSelectFlowRange,</span></span><br><span class=\"line\"><span class=\"params\">  switchMapType,</span></span><br><span class=\"line\"><span class=\"params\">  createImg,</span></span><br><span class=\"line\"><span class=\"params\">  itemTitleSize,</span></span><br><span class=\"line\"><span class=\"params\">&#125;: &#123;</span></span><br><span class=\"line\"><span class=\"params\">  selectDay: <span class=\"built_in\">any</span>;</span></span><br><span class=\"line\"><span class=\"params\">  selectedStation: <span class=\"built_in\">any</span>;</span></span><br><span class=\"line\"><span class=\"params\">  flowCategory: <span class=\"built_in\">any</span>;</span></span><br><span class=\"line\"><span class=\"params\">  timeCategory: <span class=\"built_in\">any</span>;</span></span><br><span class=\"line\"><span class=\"params\">  mapType: <span class=\"built_in\">any</span>;</span></span><br><span class=\"line\"><span class=\"params\">  changeSelectStation: <span class=\"built_in\">any</span>;</span></span><br><span class=\"line\"><span class=\"params\">  selectFlowRange: <span class=\"built_in\">any</span>;</span></span><br><span class=\"line\"><span class=\"params\">  changeSelectFlowRange: <span class=\"built_in\">any</span>;</span></span><br><span class=\"line\"><span class=\"params\">  switchMapType: <span class=\"built_in\">any</span>;</span></span><br><span class=\"line\"><span class=\"params\">  createImg: <span class=\"built_in\">any</span>;</span></span><br><span class=\"line\"><span class=\"params\">  itemTitleSize: <span class=\"built_in\">any</span>;</span></span><br><span class=\"line\"><span class=\"params\">&#125;</span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// const dateStr = selectDay[0] + &#x27;-&#x27; + selectDay[1]</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> windowSize = <span class=\"title function_\">useWindowSize</span>();</span><br><span class=\"line\">  <span class=\"keyword\">let</span> mainDataHeiget = windowSize.<span class=\"property\">height</span> * <span class=\"number\">0.42</span>;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> (</span><br><span class=\"line\">    <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">className</span>=<span class=\"string\">&quot;mainData&quot;</span> <span class=\"attr\">style</span>=<span class=\"string\">&#123;&#123;</span> <span class=\"attr\">height:</span> <span class=\"attr\">mainDataHeiget</span> &#125;&#125;&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">      &#123;timeCategory === &quot;realTime&quot; ? (</span></span><br><span class=\"line\"><span class=\"language-xml\">        <span class=\"tag\">&lt;<span class=\"name\">RealTimeLayout</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">          <span class=\"attr\">selectDay</span>=<span class=\"string\">&#123;selectDay&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">          <span class=\"attr\">selectedStation</span>=<span class=\"string\">&#123;selectedStation&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">          <span class=\"attr\">flowCategory</span>=<span class=\"string\">&#123;flowCategory&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">          <span class=\"attr\">timeCategory</span>=<span class=\"string\">&#123;timeCategory&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">          <span class=\"attr\">mapType</span>=<span class=\"string\">&#123;mapType&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">          <span class=\"attr\">changeSelectStation</span>=<span class=\"string\">&#123;changeSelectStation&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">          <span class=\"attr\">selectFlowRange</span>=<span class=\"string\">&#123;selectFlowRange&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">          <span class=\"attr\">changeSelectFlowRange</span>=<span class=\"string\">&#123;changeSelectFlowRange&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">          <span class=\"attr\">createImg</span>=<span class=\"string\">&#123;createImg&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">          <span class=\"attr\">itemTitleSize</span>=<span class=\"string\">&#123;itemTitleSize&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">        /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">      ) : (</span></span><br><span class=\"line\"><span class=\"language-xml\">        <span class=\"tag\">&lt;<span class=\"name\">HistoryLayout</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">          <span class=\"attr\">selectDay</span>=<span class=\"string\">&#123;selectDay&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">          <span class=\"attr\">selectedStation</span>=<span class=\"string\">&#123;selectedStation&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">          <span class=\"attr\">flowCategory</span>=<span class=\"string\">&#123;flowCategory&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">          <span class=\"attr\">timeCategory</span>=<span class=\"string\">&#123;timeCategory&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">          <span class=\"attr\">mapType</span>=<span class=\"string\">&#123;mapType&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">          <span class=\"attr\">changeSelectStation</span>=<span class=\"string\">&#123;changeSelectStation&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">          <span class=\"attr\">selectFlowRange</span>=<span class=\"string\">&#123;selectFlowRange&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">          <span class=\"attr\">changeSelectFlowRange</span>=<span class=\"string\">&#123;changeSelectFlowRange&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">          <span class=\"attr\">switchMapType</span>=<span class=\"string\">&#123;switchMapType&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">          <span class=\"attr\">createImg</span>=<span class=\"string\">&#123;createImg&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">          <span class=\"attr\">itemTitleSize</span>=<span class=\"string\">&#123;itemTitleSize&#125;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">        /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">      )&#125;</span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\">  );</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"解决-：将代码分成两个组件，分别处理StationFlow和MapFlowHistory的逻辑。\"><a href=\"#解决-：将代码分成两个组件，分别处理StationFlow和MapFlowHistory的逻辑。\" class=\"headerlink\" title=\"解决**：将代码分成两个组件，分别处理StationFlow和MapFlowHistory的逻辑。\"></a>解决**：将代码分成两个组件，分别处理StationFlow和MapFlowHistory的逻辑。</h3><p>这样可以使每个组件的代码更清晰，易于维护和扩展。同时，可以将每个组件的props定义为一个单独的接口，而不是将所有属性都放在一个大的对象中，这样可以更好地指定每个属性的类型和含义，提高代码的可读性和可维护性。</p>\n<h3 id=\"这样重构代码：\"><a href=\"#这样重构代码：\" class=\"headerlink\" title=\"这样重构代码：\"></a>这样重构代码：</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">typescriptCopy code</span><br><span class=\"line\">import &#123; Fragment &#125; from &quot;react&quot;;</span><br><span class=\"line\">import StationFlow from &quot;../FlowRouter&quot;;</span><br><span class=\"line\">import MapFlowHistory from &quot;../MapFlowHistory&quot;;</span><br><span class=\"line\"></span><br><span class=\"line\">interface StationFlowProps &#123;</span><br><span class=\"line\">  selectDay: any;</span><br><span class=\"line\">  selectedStation: any;</span><br><span class=\"line\">  flowCategory: any;</span><br><span class=\"line\">  timeCategory: any;</span><br><span class=\"line\">  selectFlowRange: any;</span><br><span class=\"line\">  mapType: any;</span><br><span class=\"line\">  createImg: any;</span><br><span class=\"line\">  itemTitleSize: any;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">interface MapFlowHistoryProps &#123;</span><br><span class=\"line\">  selectDay: any;</span><br><span class=\"line\">  selectedStation: any;</span><br><span class=\"line\">  flowCategory: any;</span><br><span class=\"line\">  timeCategory: any;</span><br><span class=\"line\">  mapType: any;</span><br><span class=\"line\">  changeSelectStation: any;</span><br><span class=\"line\">  changeSelectFlowRange: any;</span><br><span class=\"line\">  switchMapType: any;</span><br><span class=\"line\">  createImg: any;</span><br><span class=\"line\">  itemTitleSize: any;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">export default function HistoryLayout(&#123;</span><br><span class=\"line\">  selectDay,</span><br><span class=\"line\">  selectedStation,</span><br><span class=\"line\">  flowCategory,</span><br><span class=\"line\">  timeCategory,</span><br><span class=\"line\">  mapType,</span><br><span class=\"line\">  changeSelectStation,</span><br><span class=\"line\">  selectFlowRange,</span><br><span class=\"line\">  changeSelectFlowRange,</span><br><span class=\"line\">  switchMapType,</span><br><span class=\"line\">  createImg,</span><br><span class=\"line\">  itemTitleSize,</span><br><span class=\"line\">&#125;: StationFlowProps &amp; MapFlowHistoryProps) &#123;</span><br><span class=\"line\">  return (</span><br><span class=\"line\">    &lt;Fragment&gt;</span><br><span class=\"line\">      &lt;StationFlow</span><br><span class=\"line\">        selectDay=&#123;selectDay&#125;</span><br><span class=\"line\">        selectedStation=&#123;selectedStation&#125;</span><br><span class=\"line\">        flowCategory=&#123;flowCategory&#125;</span><br><span class=\"line\">        timeCategory=&#123;timeCategory&#125;</span><br><span class=\"line\">        selectFlowRange=&#123;selectFlowRange&#125;</span><br><span class=\"line\">        mapType=&#123;mapType&#125;</span><br><span class=\"line\">        createImg=&#123;createImg&#125;</span><br><span class=\"line\">        itemTitleSize=&#123;itemTitleSize&#125;</span><br><span class=\"line\">      /&gt;</span><br><span class=\"line\">      &lt;MapFlowHistory</span><br><span class=\"line\">        selectDay=&#123;selectDay&#125;</span><br><span class=\"line\">        selectedStation=&#123;selectedStation&#125;</span><br><span class=\"line\">        flowCategory=&#123;flowCategory&#125;</span><br><span class=\"line\">        timeCategory=&#123;timeCategory&#125;</span><br><span class=\"line\">        mapType=&#123;mapType&#125;</span><br><span class=\"line\">        changeSelectStation=&#123;changeSelectStation&#125;</span><br><span class=\"line\">        changeSelectFlowRange=&#123;changeSelectFlowRange&#125;</span><br><span class=\"line\">        switchMapType=&#123;switchMapType&#125;</span><br><span class=\"line\">        createImg=&#123;createImg&#125;</span><br><span class=\"line\">        itemTitleSize=&#123;itemTitleSize&#125;</span><br><span class=\"line\">      /&gt;</span><br><span class=\"line\">    &lt;/Fragment&gt;</span><br><span class=\"line\">  );</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>还有</p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; standardTime &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../../Utils/standardTime&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"attr\">eitherInOutMap</span>: <span class=\"built_in\">any</span> = &#123; <span class=\"attr\">inflow</span>: <span class=\"number\">0</span>, <span class=\"attr\">outflow</span>: <span class=\"number\">1</span> &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">async</span> <span class=\"keyword\">function</span> <span class=\"title function_\">totalFlowProvider</span>(<span class=\"params\"></span></span><br><span class=\"line\"><span class=\"params\">  state: <span class=\"built_in\">any</span>,</span></span><br><span class=\"line\"><span class=\"params\">  selectedLine: <span class=\"built_in\">string</span>,</span></span><br><span class=\"line\"><span class=\"params\">  eitherInOut: <span class=\"built_in\">string</span></span></span><br><span class=\"line\"><span class=\"params\"></span>): <span class=\"title class_\">Promise</span>&lt;<span class=\"built_in\">any</span>&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> stationsAllTime =</span><br><span class=\"line\">    eitherInOut === <span class=\"string\">&quot;inflow&quot;</span> ? state.<span class=\"property\">station_flow_in</span> : state.<span class=\"property\">station_flow_out</span>;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> predictFlowList = state.<span class=\"property\">total_flow_predict</span>;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> selectedIndex = eitherInOutMap[eitherInOut];</span><br><span class=\"line\">  <span class=\"keyword\">const</span> predictTotalFlowList = predictFlowList.<span class=\"title function_\">map</span>(</span><br><span class=\"line\">    <span class=\"function\">(<span class=\"params\">item: <span class=\"built_in\">any</span></span>) =&gt;</span> item[selectedIndex]</span><br><span class=\"line\">  );</span><br><span class=\"line\">  <span class=\"keyword\">const</span> <span class=\"title function_\">sum</span> = (<span class=\"params\">arr: <span class=\"built_in\">Array</span>&lt;<span class=\"built_in\">any</span>&gt;</span>) =&gt;</span><br><span class=\"line\">    arr.<span class=\"title function_\">reduce</span>(<span class=\"function\">(<span class=\"params\">prev, curr</span>) =&gt;</span> <span class=\"title class_\">Number</span>(prev) + <span class=\"title class_\">Number</span>(curr)); <span class=\"comment\">// sum自己处理好</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> lineFlowList = <span class=\"title class_\">Object</span>.<span class=\"title function_\">entries</span>(stationsAllTime)</span><br><span class=\"line\">    .<span class=\"title function_\">sort</span>(<span class=\"function\">(<span class=\"params\">[LTime], [NTime]</span>) =&gt;</span> (<span class=\"title class_\">LTime</span> &gt; <span class=\"title class_\">NTime</span> ? <span class=\"number\">1</span> : -<span class=\"number\">1</span>))</span><br><span class=\"line\">    .<span class=\"title function_\">map</span>(<span class=\"function\">(<span class=\"params\">[time, v]</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> sumList = <span class=\"title function_\">sum</span>(<span class=\"title class_\">Object</span>.<span class=\"title function_\">values</span>(v <span class=\"keyword\">as</span> <span class=\"built_in\">any</span>));</span><br><span class=\"line\">      <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">        time,</span><br><span class=\"line\">        <span class=\"attr\">flow</span>: sumList,</span><br><span class=\"line\">      &#125;;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    .<span class=\"title function_\">slice</span>(-<span class=\"number\">6</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">const</span> lineFlowAddList = lineFlowList.<span class=\"title function_\">map</span>(<span class=\"function\">(<span class=\"params\">item, index</span>) =&gt;</span> (&#123;</span><br><span class=\"line\">    <span class=\"attr\">time</span>: <span class=\"title function_\">standardTime</span>(</span><br><span class=\"line\">      <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>(<span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>(item.<span class=\"property\">time</span>).<span class=\"title function_\">getTime</span>() + <span class=\"number\">1000</span> * <span class=\"number\">60</span> * <span class=\"number\">6</span>)</span><br><span class=\"line\">    ),</span><br><span class=\"line\">    <span class=\"attr\">flow</span>: predictTotalFlowList[index],</span><br><span class=\"line\">  &#125;));</span><br><span class=\"line\">  <span class=\"keyword\">const</span> stationFlowListAll = lineFlowList.<span class=\"title function_\">concat</span>(lineFlowAddList);</span><br><span class=\"line\">  <span class=\"keyword\">const</span> result = &#123;</span><br><span class=\"line\">    [eitherInOut === <span class=\"string\">&quot;inflow&quot;</span> ? <span class=\"string\">&quot;flowIn&quot;</span> : <span class=\"string\">&quot;flowOut&quot;</span>]: stationFlowListAll,</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"明显缺点\"><a href=\"#明显缺点\" class=\"headerlink\" title=\"明显缺点\"></a>明显缺点</h3><ol>\n<li>显式指定参数和返回值的类型：在函数参数和返回值的类型上进行显式的类型指定可以提高代码的可读性和可维护性。</li>\n<li>使用具体的类型替代 <code>any</code> 类型：在 TypeScript 中尽量避免使用 <code>any</code> 类型，因为它会丧失类型检查的优势。尽量使用具体的类型来代替 <code>any</code>，这样可以在编译时捕获潜在的类型错误。</li>\n<li>避免在函数中直接访问全局变量：直接访问了全局变量<code>eitherInOutMap</code>和<code>standardTime</code>，这样会使函数的可重用性和可测试性下降。建议将这些全局变量作为参数传递给函数，或者将它们封装到函数内部，以减少对全局状态的依赖。</li>\n<li>尽量使用箭头函数和 const/let 替代 function 和 var：使用 ES6 中的箭头函数和 const/let 关键字可以提高代码的可读性和可维护性，并且避免了 var 带来的变量提升和作用域问题</li>\n</ol>\n<h3 id=\"改进\"><a href=\"#改进\" class=\"headerlink\" title=\"改进\"></a>改进</h3><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; standardTime &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../../Utils/standardTime&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"attr\">eitherInOutMap</span>: <span class=\"title class_\">Record</span>&lt;<span class=\"built_in\">string</span>, <span class=\"built_in\">number</span>&gt; = &#123; <span class=\"attr\">inflow</span>: <span class=\"number\">0</span>, <span class=\"attr\">outflow</span>: <span class=\"number\">1</span> &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">interface</span> <span class=\"title class_\">LineFlowItem</span> &#123;</span><br><span class=\"line\">  <span class=\"attr\">time</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\">  <span class=\"attr\">flow</span>: <span class=\"built_in\">number</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">async</span> <span class=\"keyword\">function</span> <span class=\"title function_\">totalFlowProvider</span>(<span class=\"params\"></span></span><br><span class=\"line\"><span class=\"params\">  state: &#123;</span></span><br><span class=\"line\"><span class=\"params\">    station_flow_in: Record&lt;<span class=\"built_in\">string</span>, <span class=\"built_in\">number</span>[]&gt;;</span></span><br><span class=\"line\"><span class=\"params\">    station_flow_out: Record&lt;<span class=\"built_in\">string</span>, <span class=\"built_in\">number</span>[]&gt;;</span></span><br><span class=\"line\"><span class=\"params\">    total_flow_predict: <span class=\"built_in\">number</span>[][];</span></span><br><span class=\"line\"><span class=\"params\">  &#125;,</span></span><br><span class=\"line\"><span class=\"params\">  selectedLine: <span class=\"built_in\">string</span>,</span></span><br><span class=\"line\"><span class=\"params\">  eitherInOut: <span class=\"built_in\">string</span></span></span><br><span class=\"line\"><span class=\"params\"></span>): <span class=\"title class_\">Promise</span>&lt;&#123; <span class=\"attr\">flowIn</span>: <span class=\"title class_\">LineFlowItem</span>[]; <span class=\"attr\">flowOut</span>: <span class=\"title class_\">LineFlowItem</span>[] &#125;&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> stationsAllTime =</span><br><span class=\"line\">    eitherInOut === <span class=\"string\">&quot;inflow&quot;</span> ? state.<span class=\"property\">station_flow_in</span> : state.<span class=\"property\">station_flow_out</span>;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> predictFlowList = state.<span class=\"property\">total_flow_predict</span>;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> selectedIndex = eitherInOutMap[eitherInOut];</span><br><span class=\"line\">  <span class=\"keyword\">const</span> predictTotalFlowList = predictFlowList.<span class=\"title function_\">map</span>(</span><br><span class=\"line\">    <span class=\"function\">(<span class=\"params\">item: <span class=\"built_in\">number</span>[]</span>) =&gt;</span> item[selectedIndex]</span><br><span class=\"line\">  );</span><br><span class=\"line\">  <span class=\"keyword\">const</span> <span class=\"title function_\">sum</span> = (<span class=\"params\">arr: <span class=\"built_in\">number</span>[]</span>) =&gt; arr.<span class=\"title function_\">reduce</span>(<span class=\"function\">(<span class=\"params\">prev, curr</span>) =&gt;</span> prev + curr); <span class=\"comment\">// sum自己处理好</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> lineFlowList = <span class=\"title class_\">Object</span>.<span class=\"title function_\">entries</span>(stationsAllTime)</span><br><span class=\"line\">    .<span class=\"title function_\">sort</span>(<span class=\"function\">(<span class=\"params\">[LTime], [NTime]</span>) =&gt;</span> (<span class=\"title class_\">LTime</span> &gt; <span class=\"title class_\">NTime</span> ? <span class=\"number\">1</span> : -<span class=\"number\">1</span>))</span><br><span class=\"line\">    .<span class=\"title function_\">map</span>(<span class=\"function\">(<span class=\"params\">[time, v]</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> sumList = <span class=\"title function_\">sum</span>(<span class=\"title class_\">Object</span>.<span class=\"title function_\">values</span>(v));</span><br><span class=\"line\">      <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">        time,</span><br><span class=\"line\">        <span class=\"attr\">flow</span>: sumList,</span><br><span class=\"line\">      &#125;;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    .<span class=\"title function_\">slice</span>(-<span class=\"number\">6</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">const</span> lineFlowAddList = lineFlowList.<span class=\"title function_\">map</span>(<span class=\"function\">(<span class=\"params\">item, index</span>) =&gt;</span> (&#123;</span><br><span class=\"line\">    <span class=\"attr\">time</span>: <span class=\"title function_\">standardTime</span>(</span><br><span class=\"line\">      <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>(<span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>(item.<span class=\"property\">time</span>).<span class=\"title function_\">getTime</span>() + <span class=\"number\">1000</span> * <span class=\"number\">60</span> * <span class=\"number\">6</span>)</span><br><span class=\"line\">    ),</span><br><span class=\"line\">    <span class=\"attr\">flow</span>: predictTotalFlowList</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>"}],"PostAsset":[],"PostCategory":[{"post_id":"clgz2pfek0001dl5zbil03791","category_id":"clgz2pfeo0004dl5zh0ife7v5","_id":"clgz2pfez000jdl5z2qjc01rz"},{"post_id":"clgz2pfen0003dl5z4a0a68z2","category_id":"clgz2pfeo0004dl5zh0ife7v5","_id":"clgz2pff3000odl5z4sutfvg7"},{"post_id":"clgz2pff0000ldl5zb8ai82k7","category_id":"clgz2pfeo0004dl5zh0ife7v5","_id":"clgz2pff6000tdl5zbikf7u78"},{"post_id":"clgz2pfer0007dl5z1ltgesjy","category_id":"clgz2pfeo0004dl5zh0ife7v5","_id":"clgz2pff7000ydl5zeqfn1nvf"},{"post_id":"clgz2pff1000mdl5zebad49y8","category_id":"clgz2pfeo0004dl5zh0ife7v5","_id":"clgz2pff80011dl5z3po98bdg"},{"post_id":"clgz2pff4000qdl5z2rh3d6hh","category_id":"clgz2pfeo0004dl5zh0ife7v5","_id":"clgz2pff90014dl5z722wfxq4"},{"post_id":"clgz2pfes0009dl5z4es1hw66","category_id":"clgz2pff2000ndl5zbwrx2lsw","_id":"clgz2pffa0016dl5z066z78j0"},{"post_id":"clgz2pff5000sdl5z464hd60w","category_id":"clgz2pfeo0004dl5zh0ife7v5","_id":"clgz2pffb0018dl5zf2hs5cpl"},{"post_id":"clgz2pff7000xdl5zhyy30d9u","category_id":"clgz2pfeo0004dl5zh0ife7v5","_id":"clgz2pffb001adl5zdluu19pm"},{"post_id":"clgz2pfeu000bdl5z5v1jb3x9","category_id":"clgz2pff6000udl5z03csaw77","_id":"clgz2pffb001cdl5z1ylc2x5w"},{"post_id":"clgz2pff80010dl5zat3e4jdq","category_id":"clgz2pfeo0004dl5zh0ife7v5","_id":"clgz2pffc001fdl5z6ycc6uzn"},{"post_id":"clgz2pff90013dl5z2zpw4gt6","category_id":"clgz2pfeo0004dl5zh0ife7v5","_id":"clgz2pffd001hdl5z2agbfw2f"},{"post_id":"clgz2pfew000fdl5z7izrhv4k","category_id":"clgz2pff90012dl5z6w80fghl","_id":"clgz2pffd001jdl5z2hkp4ywv"},{"post_id":"clgz2pfey000hdl5zekzneoid","category_id":"clgz2pff2000ndl5zbwrx2lsw","_id":"clgz2pffd001kdl5z1ky12g4p"}],"PostTag":[{"post_id":"clgz2pfek0001dl5zbil03791","tag_id":"clgz2pfeq0005dl5zf82ubxgl","_id":"clgz2pff5000rdl5zasql1v5f"},{"post_id":"clgz2pfek0001dl5zbil03791","tag_id":"clgz2pfeu000ddl5z8a11f2or","_id":"clgz2pff6000vdl5za2reei4x"},{"post_id":"clgz2pfek0001dl5zbil03791","tag_id":"clgz2pfez000kdl5ze2i4f0jy","_id":"clgz2pff8000zdl5z49yxcbnl"},{"post_id":"clgz2pfen0003dl5z4a0a68z2","tag_id":"clgz2pff3000pdl5z1qs0dktk","_id":"clgz2pffb001bdl5zgnc6d2it"},{"post_id":"clgz2pfen0003dl5z4a0a68z2","tag_id":"clgz2pff7000wdl5z1k0c5zmr","_id":"clgz2pffc001ddl5zg9ta611v"},{"post_id":"clgz2pfen0003dl5z4a0a68z2","tag_id":"clgz2pffa0015dl5zcdnlcsd3","_id":"clgz2pffd001gdl5z1oti97yq"},{"post_id":"clgz2pfer0007dl5z1ltgesjy","tag_id":"clgz2pffb0019dl5z2ol1aofw","_id":"clgz2pffg001udl5zepl9gup8"},{"post_id":"clgz2pfer0007dl5z1ltgesjy","tag_id":"clgz2pffc001edl5z4ice8urg","_id":"clgz2pffg001vdl5zc27ne2u5"},{"post_id":"clgz2pfer0007dl5z1ltgesjy","tag_id":"clgz2pffd001idl5zgpgg6mgd","_id":"clgz2pffg001xdl5z3i8pgl03"},{"post_id":"clgz2pfer0007dl5z1ltgesjy","tag_id":"clgz2pffd001ldl5z8mc89jrr","_id":"clgz2pffg001ydl5zaz7nhfu1"},{"post_id":"clgz2pfer0007dl5z1ltgesjy","tag_id":"clgz2pffd001mdl5za3in78pr","_id":"clgz2pffh0020dl5z225cfzm6"},{"post_id":"clgz2pfer0007dl5z1ltgesjy","tag_id":"clgz2pffe001ndl5z860v5ni6","_id":"clgz2pffh0021dl5ze2gvhodr"},{"post_id":"clgz2pfer0007dl5z1ltgesjy","tag_id":"clgz2pffe001odl5z8of9fbn2","_id":"clgz2pffk0023dl5zglkghyz3"},{"post_id":"clgz2pfer0007dl5z1ltgesjy","tag_id":"clgz2pffe001pdl5z3xd71wln","_id":"clgz2pffk0024dl5z60xv1l1m"},{"post_id":"clgz2pfer0007dl5z1ltgesjy","tag_id":"clgz2pffe001qdl5zesks0la5","_id":"clgz2pffk0025dl5zgyhn7dpw"},{"post_id":"clgz2pfer0007dl5z1ltgesjy","tag_id":"clgz2pfff001rdl5z6quo7gry","_id":"clgz2pffl0027dl5z4r1pbwo8"},{"post_id":"clgz2pfer0007dl5z1ltgesjy","tag_id":"clgz2pfff001sdl5zf7bpenc6","_id":"clgz2pffl0028dl5z1abu9wda"},{"post_id":"clgz2pfes0009dl5z4es1hw66","tag_id":"clgz2pfff001tdl5zefkt31bi","_id":"clgz2pffl002adl5z5d6d73e6"},{"post_id":"clgz2pfes0009dl5z4es1hw66","tag_id":"clgz2pffg001wdl5z5sza4lk0","_id":"clgz2pffl002bdl5z5yrh6ken"},{"post_id":"clgz2pfes0009dl5z4es1hw66","tag_id":"clgz2pffh001zdl5zhlfk09qg","_id":"clgz2pffl002ddl5zd3f4dwtj"},{"post_id":"clgz2pfeu000bdl5z5v1jb3x9","tag_id":"clgz2pffh0022dl5z49eghshl","_id":"clgz2pffm002edl5z5y4p4btv"},{"post_id":"clgz2pfeu000bdl5z5v1jb3x9","tag_id":"clgz2pffk0026dl5z3n823d0z","_id":"clgz2pffm002gdl5zf7uw5r28"},{"post_id":"clgz2pfew000fdl5z7izrhv4k","tag_id":"clgz2pffl0029dl5z26bbcool","_id":"clgz2pffm002hdl5zgdaihda7"},{"post_id":"clgz2pfey000hdl5zekzneoid","tag_id":"clgz2pffl002cdl5zggguds53","_id":"clgz2pffm002jdl5z6mgrb5wv"},{"post_id":"clgz2pfey000hdl5zekzneoid","tag_id":"clgz2pffm002fdl5z4wzc70ia","_id":"clgz2pffm002kdl5zcrzxc4nx"},{"post_id":"clgz2pff0000ldl5zb8ai82k7","tag_id":"clgz2pffm002idl5z9m4pa5hh","_id":"clgz2pffn002odl5z4bdr6qsl"},{"post_id":"clgz2pff0000ldl5zb8ai82k7","tag_id":"clgz2pffm002ldl5z08q078gi","_id":"clgz2pffn002pdl5z752j7g87"},{"post_id":"clgz2pff0000ldl5zb8ai82k7","tag_id":"clgz2pffn002mdl5z3h8i2t60","_id":"clgz2pffo002rdl5zfc7z5wth"},{"post_id":"clgz2pff1000mdl5zebad49y8","tag_id":"clgz2pffn002ndl5z7oa3anpu","_id":"clgz2pffo002udl5z9ywpd8dg"},{"post_id":"clgz2pff1000mdl5zebad49y8","tag_id":"clgz2pffn002qdl5ze2iv98zt","_id":"clgz2pffo002vdl5z6rwg3ule"},{"post_id":"clgz2pff1000mdl5zebad49y8","tag_id":"clgz2pffo002sdl5z8rzjakgo","_id":"clgz2pffp002xdl5zdmlseejn"},{"post_id":"clgz2pff4000qdl5z2rh3d6hh","tag_id":"clgz2pffo002tdl5z8b7p9wv4","_id":"clgz2pffs0038dl5ze3vz1aaz"},{"post_id":"clgz2pff4000qdl5z2rh3d6hh","tag_id":"clgz2pffm002fdl5z4wzc70ia","_id":"clgz2pffs0039dl5zgwo824pw"},{"post_id":"clgz2pff4000qdl5z2rh3d6hh","tag_id":"clgz2pffp002ydl5z8jnpdz7b","_id":"clgz2pffs003bdl5za7ww95oy"},{"post_id":"clgz2pff4000qdl5z2rh3d6hh","tag_id":"clgz2pffq002zdl5z2chg8zv8","_id":"clgz2pfft003cdl5zfldnfkfj"},{"post_id":"clgz2pff4000qdl5z2rh3d6hh","tag_id":"clgz2pffq0030dl5z7ldz90fi","_id":"clgz2pfft003edl5z1zpgcx4q"},{"post_id":"clgz2pff4000qdl5z2rh3d6hh","tag_id":"clgz2pffq0031dl5zdnmyexls","_id":"clgz2pfft003fdl5zh7v9f57g"},{"post_id":"clgz2pff4000qdl5z2rh3d6hh","tag_id":"clgz2pffq0032dl5z6zy5b8zh","_id":"clgz2pfft003hdl5zb6k81fbp"},{"post_id":"clgz2pff4000qdl5z2rh3d6hh","tag_id":"clgz2pffr0033dl5z3jhz187y","_id":"clgz2pfft003idl5z9207a5tm"},{"post_id":"clgz2pff4000qdl5z2rh3d6hh","tag_id":"clgz2pffr0034dl5zbea17fj7","_id":"clgz2pfft003kdl5z1ss0f6u1"},{"post_id":"clgz2pff4000qdl5z2rh3d6hh","tag_id":"clgz2pffr0035dl5z6qycay01","_id":"clgz2pfft003ldl5z6gvd3cls"},{"post_id":"clgz2pff4000qdl5z2rh3d6hh","tag_id":"clgz2pffr0036dl5zgfty9fkb","_id":"clgz2pffu003mdl5z5yt11erj"},{"post_id":"clgz2pff5000sdl5z464hd60w","tag_id":"clgz2pffs0037dl5z94sr34rk","_id":"clgz2pffu003pdl5zd4nn9sit"},{"post_id":"clgz2pff5000sdl5z464hd60w","tag_id":"clgz2pffo002tdl5z8b7p9wv4","_id":"clgz2pffu003qdl5zgellebco"},{"post_id":"clgz2pff5000sdl5z464hd60w","tag_id":"clgz2pfft003ddl5z2uby0gcn","_id":"clgz2pffu003sdl5z4cbw7hcq"},{"post_id":"clgz2pff5000sdl5z464hd60w","tag_id":"clgz2pfft003gdl5zh5sg5dkp","_id":"clgz2pffv003tdl5z98867kzz"},{"post_id":"clgz2pff5000sdl5z464hd60w","tag_id":"clgz2pfft003jdl5ze3oe36jx","_id":"clgz2pffv003vdl5zadolfos5"},{"post_id":"clgz2pff5000sdl5z464hd60w","tag_id":"clgz2pffu003ndl5zfcvl4qvx","_id":"clgz2pffv003wdl5z4jil2up0"},{"post_id":"clgz2pff7000xdl5zhyy30d9u","tag_id":"clgz2pffu003odl5zc33efwxm","_id":"clgz2pffw003zdl5z3yfkd4h8"},{"post_id":"clgz2pff7000xdl5zhyy30d9u","tag_id":"clgz2pffu003rdl5z4zqz9qnl","_id":"clgz2pffw0040dl5z3rsjata2"},{"post_id":"clgz2pff7000xdl5zhyy30d9u","tag_id":"clgz2pffv003udl5z44465las","_id":"clgz2pffw0042dl5zeikchdxc"},{"post_id":"clgz2pff7000xdl5zhyy30d9u","tag_id":"clgz2pffv003xdl5zhemi16ik","_id":"clgz2pffw0043dl5zb4hq7rjq"},{"post_id":"clgz2pff80010dl5zat3e4jdq","tag_id":"clgz2pffv003ydl5z3v1w7pva","_id":"clgz2pffx0046dl5zculj7dwe"},{"post_id":"clgz2pff80010dl5zat3e4jdq","tag_id":"clgz2pffw0041dl5z38drhfhl","_id":"clgz2pffx0047dl5zdcyt3c4l"},{"post_id":"clgz2pff80010dl5zat3e4jdq","tag_id":"clgz2pffw0044dl5zau3dek5j","_id":"clgz2pffx0049dl5z4r8v3cin"},{"post_id":"clgz2pff90013dl5z2zpw4gt6","tag_id":"clgz2pffb0019dl5z2ol1aofw","_id":"clgz2pfg3004sdl5z015wdpg5"},{"post_id":"clgz2pff90013dl5z2zpw4gt6","tag_id":"clgz2pffd001idl5zgpgg6mgd","_id":"clgz2pfg3004tdl5zbq773uws"},{"post_id":"clgz2pff90013dl5z2zpw4gt6","tag_id":"clgz2pffx004adl5z0wreedpv","_id":"clgz2pfg3004udl5zdzl0fwxn"},{"post_id":"clgz2pff90013dl5z2zpw4gt6","tag_id":"clgz2pffy004bdl5zfitk8bd8","_id":"clgz2pfg3004vdl5zb74b6946"},{"post_id":"clgz2pff90013dl5z2zpw4gt6","tag_id":"clgz2pffy004cdl5z0o2712de","_id":"clgz2pfg3004wdl5zano0f5l0"},{"post_id":"clgz2pff90013dl5z2zpw4gt6","tag_id":"clgz2pffy004ddl5zeof6ho7w","_id":"clgz2pfg3004xdl5z28nie8m0"},{"post_id":"clgz2pff90013dl5z2zpw4gt6","tag_id":"clgz2pffz004edl5z4hmw4wzj","_id":"clgz2pfg3004ydl5zgfb4bim9"},{"post_id":"clgz2pff90013dl5z2zpw4gt6","tag_id":"clgz2pffz004fdl5za14p8ijq","_id":"clgz2pfg3004zdl5z2yfz8xf9"},{"post_id":"clgz2pff90013dl5z2zpw4gt6","tag_id":"clgz2pffz004gdl5zh6zz3leu","_id":"clgz2pfg30050dl5zatykgbd3"},{"post_id":"clgz2pff90013dl5z2zpw4gt6","tag_id":"clgz2pffz004hdl5z64h84ph4","_id":"clgz2pfg30051dl5zcwvrbi56"},{"post_id":"clgz2pff90013dl5z2zpw4gt6","tag_id":"clgz2pfg0004idl5zdcr45r61","_id":"clgz2pfg30052dl5z0mh91v6l"},{"post_id":"clgz2pff90013dl5z2zpw4gt6","tag_id":"clgz2pfg0004jdl5z4c4tbsn2","_id":"clgz2pfg30053dl5z0jx8bf36"},{"post_id":"clgz2pff90013dl5z2zpw4gt6","tag_id":"clgz2pfg0004kdl5ze81zeupu","_id":"clgz2pfg30054dl5zebdr1rpy"},{"post_id":"clgz2pff90013dl5z2zpw4gt6","tag_id":"clgz2pfg0004ldl5zh52wch07","_id":"clgz2pfg30055dl5z6kvp6pfe"},{"post_id":"clgz2pff90013dl5z2zpw4gt6","tag_id":"clgz2pfg1004mdl5zfn2kf3uf","_id":"clgz2pfg30056dl5z3gt28kl1"},{"post_id":"clgz2pff90013dl5z2zpw4gt6","tag_id":"clgz2pfg1004ndl5z8x193c22","_id":"clgz2pfg30057dl5z075k3r83"},{"post_id":"clgz2pff90013dl5z2zpw4gt6","tag_id":"clgz2pfg1004odl5zctbk1ob5","_id":"clgz2pfg30058dl5z1a3sdtx2"},{"post_id":"clgz2pff90013dl5z2zpw4gt6","tag_id":"clgz2pfg1004pdl5z0w5n9ahc","_id":"clgz2pfg30059dl5zc5p7ewpq"},{"post_id":"clgz2pff90013dl5z2zpw4gt6","tag_id":"clgz2pfg1004qdl5za4xoarwd","_id":"clgz2pfg3005adl5z45kk4336"},{"post_id":"clgz2pff90013dl5z2zpw4gt6","tag_id":"clgz2pfg2004rdl5zf5aa38i8","_id":"clgz2pfg3005bdl5za0wf5243"}],"Tag":[{"name":"英语词汇","_id":"clgz2pfeq0005dl5zf82ubxgl"},{"name":"循环","_id":"clgz2pfeu000ddl5z8a11f2or"},{"name":"prompt","_id":"clgz2pfez000kdl5ze2i4f0jy"},{"name":"高等数学","_id":"clgz2pff3000pdl5z1qs0dktk"},{"name":"英语","_id":"clgz2pff7000wdl5z1k0c5zmr"},{"name":"吐槽","_id":"clgz2pffa0015dl5zcdnlcsd3"},{"name":"TypeScript","_id":"clgz2pffb0019dl5z2ol1aofw"},{"name":"游戏开发","_id":"clgz2pffc001edl5z4ice8urg"},{"name":"前端开发","_id":"clgz2pffd001idl5zgpgg6mgd"},{"name":"编程语言","_id":"clgz2pffd001ldl5z8mc89jrr"},{"name":"Web开发","_id":"clgz2pffd001mdl5za3in78pr"},{"name":"游戏设计","_id":"clgz2pffe001ndl5z860v5ni6"},{"name":"前端框架","_id":"clgz2pffe001odl5z8of9fbn2"},{"name":"工具","_id":"clgz2pffe001pdl5z3xd71wln"},{"name":"学习笔记","_id":"clgz2pffe001qdl5zesks0la5"},{"name":"教程","_id":"clgz2pfff001rdl5z6quo7gry"},{"name":"杆踪球影冰球游戏","_id":"clgz2pfff001sdl5zf7bpenc6"},{"name":"Spring","_id":"clgz2pfff001tdl5zefkt31bi"},{"name":"Sprintboot","_id":"clgz2pffg001wdl5z5sza4lk0"},{"name":"Mybatis","_id":"clgz2pffh001zdl5zhlfk09qg"},{"name":"hexo指南","_id":"clgz2pffh0022dl5z49eghshl"},{"name":"shell","_id":"clgz2pffk0026dl5z3n823d0z"},{"name":"第一篇","_id":"clgz2pffl0029dl5z26bbcool"},{"name":"Typescript","_id":"clgz2pffl002cdl5zggguds53"},{"name":"React","_id":"clgz2pffm002fdl5z4wzc70ia"},{"name":"java","_id":"clgz2pffm002idl5z9m4pa5hh"},{"name":"菜鸟","_id":"clgz2pffm002ldl5z08q078gi"},{"name":"大一","_id":"clgz2pffn002mdl5z3h8i2t60"},{"name":"考研英语","_id":"clgz2pffn002ndl5z7oa3anpu"},{"name":"python","_id":"clgz2pffn002qdl5ze2iv98zt"},{"name":"正则表达式","_id":"clgz2pffo002sdl5z8rzjakgo"},{"name":"前端","_id":"clgz2pffo002tdl5z8b7p9wv4"},{"name":"Javascipt","_id":"clgz2pffp002ydl5z8jnpdz7b"},{"name":"组件化编程","_id":"clgz2pffq002zdl5z2chg8zv8"},{"name":"combineReducers","_id":"clgz2pffq0030dl5z7ldz90fi"},{"name":"redux","_id":"clgz2pffq0031dl5zdnmyexls"},{"name":"异步数据获取","_id":"clgz2pffq0032dl5z6zy5b8zh"},{"name":"redux-persist","_id":"clgz2pffr0033dl5z3jhz187y"},{"name":"样式化组件","_id":"clgz2pffr0034dl5zbea17fj7"},{"name":"生命周期","_id":"clgz2pffr0035dl5z6qycay01"},{"name":"单向数据流","_id":"clgz2pffr0036dl5zgfty9fkb"},{"name":"react","_id":"clgz2pffs0037dl5z94sr34rk"},{"name":"字典","_id":"clgz2pfft003ddl5z2uby0gcn"},{"name":"表单格式","_id":"clgz2pfft003gdl5zh5sg5dkp"},{"name":"正则","_id":"clgz2pfft003jdl5ze3oe36jx"},{"name":"跨域","_id":"clgz2pffu003ndl5zfcvl4qvx"},{"name":"C++","_id":"clgz2pffu003odl5zc33efwxm"},{"name":"leetcode","_id":"clgz2pffu003rdl5z4zqz9qnl"},{"name":"算法","_id":"clgz2pffv003udl5z44465las"},{"name":"一个月","_id":"clgz2pffv003xdl5zhemi16ik"},{"name":"kotlin","_id":"clgz2pffv003ydl5z3v1w7pva"},{"name":"安卓开发","_id":"clgz2pffw0041dl5z38drhfhl"},{"name":"dowdload","_id":"clgz2pffw0044dl5zau3dek5j"},{"name":"轨道客流","_id":"clgz2pffx004adl5z0wreedpv"},{"name":"异步编程","_id":"clgz2pffy004bdl5zfitk8bd8"},{"name":"Promise","_id":"clgz2pffy004cdl5z0o2712de"},{"name":"Object.entries()","_id":"clgz2pffy004ddl5zeof6ho7w"},{"name":"Array.sort()","_id":"clgz2pffz004edl5z4hmw4wzj"},{"name":"Array.map()","_id":"clgz2pffz004fdl5za14p8ijq"},{"name":"Array.reduce()","_id":"clgz2pffz004gdl5zh6zz3leu"},{"name":"Number()","_id":"clgz2pffz004hdl5z64h84ph4"},{"name":"Date()","_id":"clgz2pfg0004idl5zdcr45r61"},{"name":"getTime()","_id":"clgz2pfg0004jdl5z4c4tbsn2"},{"name":"Object.values()","_id":"clgz2pfg0004kdl5ze81zeupu"},{"name":"Array.concat()","_id":"clgz2pfg0004ldl5zh52wch07"},{"name":"标准时间","_id":"clgz2pfg1004mdl5zfn2kf3uf"},{"name":"类型推断","_id":"clgz2pfg1004ndl5z8x193c22"},{"name":"类型注释","_id":"clgz2pfg1004odl5zctbk1ob5"},{"name":"JavaScript","_id":"clgz2pfg1004pdl5z0w5n9ahc"},{"name":"代码优化","_id":"clgz2pfg1004qdl5za4xoarwd"},{"name":"代码可读性","_id":"clgz2pfg2004rdl5zf5aa38i8"}]}}